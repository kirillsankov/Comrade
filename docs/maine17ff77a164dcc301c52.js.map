{"version":3,"file":"maine17ff77a164dcc301c52.js","mappings":"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","sources":["webpack://webpack-template/./node_modules/@enp/inputmask/lib/getPrototypeOf.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/global/window.js","webpack://webpack-template/./node_modules/load-google-maps-api/index.js","webpack://webpack-template/webpack/bootstrap","webpack://webpack-template/webpack/runtime/global","webpack://webpack-template/webpack/runtime/publicPath","webpack://webpack-template/./src/scripts/maps.js","webpack://webpack-template/./node_modules/just-validate/dist/just-validate.es.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/validation-tests.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/environment.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/inputHandling.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/eventhandlers.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/validation.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/positioning.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/eventruler.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/mask.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/dependencyLibs/extend.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/dependencyLibs/events.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/dependencyLibs/inputmask.dependencyLib.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/dependencyLibs/data.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/mask-lexer.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/inputmask.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/defaults.js","webpack://webpack-template/./node_modules/@enp/inputmask/lib/definitions.js","webpack://webpack-template/./src/scripts/validateForm.js","webpack://webpack-template/./src/scripts/menu.js","webpack://webpack-template/./node_modules/ssr-window/ssr-window.esm.js","webpack://webpack-template/./node_modules/dom7/dom7.esm.js","webpack://webpack-template/./node_modules/swiper/shared/dom.js","webpack://webpack-template/./node_modules/swiper/shared/utils.js","webpack://webpack-template/./node_modules/swiper/shared/get-support.js","webpack://webpack-template/./node_modules/swiper/shared/get-device.js","webpack://webpack-template/./node_modules/swiper/shared/get-browser.js","webpack://webpack-template/./node_modules/swiper/core/events-emitter.js","webpack://webpack-template/./node_modules/swiper/core/update/index.js","webpack://webpack-template/./node_modules/swiper/core/update/updateSize.js","webpack://webpack-template/./node_modules/swiper/core/update/updateSlides.js","webpack://webpack-template/./node_modules/swiper/core/update/updateAutoHeight.js","webpack://webpack-template/./node_modules/swiper/core/update/updateSlidesOffset.js","webpack://webpack-template/./node_modules/swiper/core/update/updateSlidesProgress.js","webpack://webpack-template/./node_modules/swiper/core/update/updateProgress.js","webpack://webpack-template/./node_modules/swiper/core/update/updateSlidesClasses.js","webpack://webpack-template/./node_modules/swiper/core/update/updateActiveIndex.js","webpack://webpack-template/./node_modules/swiper/core/update/updateClickedSlide.js","webpack://webpack-template/./node_modules/swiper/core/transition/transitionEmit.js","webpack://webpack-template/./node_modules/swiper/core/slide/index.js","webpack://webpack-template/./node_modules/swiper/core/slide/slideTo.js","webpack://webpack-template/./node_modules/swiper/core/slide/slideToLoop.js","webpack://webpack-template/./node_modules/swiper/core/slide/slideNext.js","webpack://webpack-template/./node_modules/swiper/core/slide/slidePrev.js","webpack://webpack-template/./node_modules/swiper/core/slide/slideReset.js","webpack://webpack-template/./node_modules/swiper/core/slide/slideToClosest.js","webpack://webpack-template/./node_modules/swiper/core/slide/slideToClickedSlide.js","webpack://webpack-template/./node_modules/swiper/core/events/onTouchStart.js","webpack://webpack-template/./node_modules/swiper/core/events/onTouchMove.js","webpack://webpack-template/./node_modules/swiper/core/events/onTouchEnd.js","webpack://webpack-template/./node_modules/swiper/core/events/onResize.js","webpack://webpack-template/./node_modules/swiper/core/events/onClick.js","webpack://webpack-template/./node_modules/swiper/core/events/onScroll.js","webpack://webpack-template/./node_modules/swiper/core/events/index.js","webpack://webpack-template/./node_modules/swiper/core/breakpoints/setBreakpoint.js","webpack://webpack-template/./node_modules/swiper/core/breakpoints/index.js","webpack://webpack-template/./node_modules/swiper/core/classes/index.js","webpack://webpack-template/./node_modules/swiper/core/classes/addClasses.js","webpack://webpack-template/./node_modules/swiper/core/classes/removeClasses.js","webpack://webpack-template/./node_modules/swiper/core/defaults.js","webpack://webpack-template/./node_modules/swiper/core/moduleExtendParams.js","webpack://webpack-template/./node_modules/swiper/core/core.js","webpack://webpack-template/./node_modules/swiper/core/translate/index.js","webpack://webpack-template/./node_modules/swiper/core/translate/getTranslate.js","webpack://webpack-template/./node_modules/swiper/core/translate/setTranslate.js","webpack://webpack-template/./node_modules/swiper/core/translate/minTranslate.js","webpack://webpack-template/./node_modules/swiper/core/translate/maxTranslate.js","webpack://webpack-template/./node_modules/swiper/core/translate/translateTo.js","webpack://webpack-template/./node_modules/swiper/core/transition/index.js","webpack://webpack-template/./node_modules/swiper/core/transition/setTransition.js","webpack://webpack-template/./node_modules/swiper/core/transition/transitionStart.js","webpack://webpack-template/./node_modules/swiper/core/transition/transitionEnd.js","webpack://webpack-template/./node_modules/swiper/core/loop/index.js","webpack://webpack-template/./node_modules/swiper/core/loop/loopCreate.js","webpack://webpack-template/./node_modules/swiper/core/loop/loopFix.js","webpack://webpack-template/./node_modules/swiper/core/loop/loopDestroy.js","webpack://webpack-template/./node_modules/swiper/core/grab-cursor/index.js","webpack://webpack-template/./node_modules/swiper/core/grab-cursor/setGrabCursor.js","webpack://webpack-template/./node_modules/swiper/core/grab-cursor/unsetGrabCursor.js","webpack://webpack-template/./node_modules/swiper/core/breakpoints/getBreakpoint.js","webpack://webpack-template/./node_modules/swiper/core/check-overflow/index.js","webpack://webpack-template/./node_modules/swiper/core/images/index.js","webpack://webpack-template/./node_modules/swiper/core/images/loadImage.js","webpack://webpack-template/./node_modules/swiper/core/images/preloadImages.js","webpack://webpack-template/./node_modules/swiper/core/modules/resize/resize.js","webpack://webpack-template/./node_modules/swiper/core/modules/observer/observer.js","webpack://webpack-template/./node_modules/swiper/shared/create-element-if-not-defined.js","webpack://webpack-template/./node_modules/swiper/shared/classes-to-selector.js","webpack://webpack-template/./src/scripts/slider.js","webpack://webpack-template/./node_modules/swiper/modules/navigation/navigation.js","webpack://webpack-template/./node_modules/swiper/modules/pagination/pagination.js","webpack://webpack-template/./node_modules/swiper/modules/autoplay/autoplay.js","webpack://webpack-template/./src/index.js"],"sourcesContent":["if (typeof Object.getPrototypeOf !== \"function\") {\n\tObject.getPrototypeOf = typeof \"test\".__proto__ === \"object\" ? function (object) {\n\t\treturn object.__proto__;\n\t} : function (object) {\n\t\treturn object.constructor.prototype;\n\t};\n}","export default typeof window !== \"undefined\" ? window : new (eval(\"require('jsdom').JSDOM\"))(\"\").window;\n\n","const API_URL = 'https://maps.googleapis.com/maps/api/js'\nconst CALLBACK_NAME = '__googleMapsApiOnLoadCallback'\n\nconst optionsKeys = ['channel', 'client', 'key', 'language', 'region', 'v']\n\nlet promise = null\n\nmodule.exports = function (options = {}) {\n  promise =\n    promise ||\n    new Promise(function (resolve, reject) {\n      // Reject the promise after a timeout\n      const timeoutId = setTimeout(function () {\n        window[CALLBACK_NAME] = function () {} // Set the on load callback to a no-op\n        reject(new Error('Could not load the Google Maps API'))\n      }, options.timeout || 10000)\n\n      // Hook up the on load callback\n      window[CALLBACK_NAME] = function () {\n        if (timeoutId !== null) {\n          clearTimeout(timeoutId)\n        }\n        resolve(window.google.maps)\n        delete window[CALLBACK_NAME]\n      }\n\n      // Prepare the `script` tag to be inserted into the page\n      const scriptElement = document.createElement('script')\n      const params = [`callback=${CALLBACK_NAME}`]\n      optionsKeys.forEach(function (key) {\n        if (options[key]) {\n          params.push(`${key}=${options[key]}`)\n        }\n      })\n      if (options.libraries && options.libraries.length) {\n        params.push(`libraries=${options.libraries.join(',')}`)\n      }\n      scriptElement.src = `${options.apiUrl || API_URL}?${params.join('&')}`\n\n      // Insert the `script` tag\n      document.body.appendChild(scriptElement)\n    })\n  return promise\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","const loadGoogleMapsApi = require('load-google-maps-api')\r\nimport img from '../images/marker.svg';\r\n\r\nexport default class Maps {\r\n    constructor(block) {\r\n        this.pos = {\r\n            lat: 41.95989933542289,\r\n            lng: -87.68240670205059,\r\n        };\r\n        this.mapStyle = [\r\n            {\r\n                \"featureType\": \"all\",\r\n                \"elementType\": \"labels.text.fill\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"saturation\": 36\r\n                    },\r\n                    {\r\n                        \"color\": \"#333333\"\r\n                    },\r\n                    {\r\n                        \"lightness\": 40\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"all\",\r\n                \"elementType\": \"labels.text.stroke\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"visibility\": \"on\"\r\n                    },\r\n                    {\r\n                        \"color\": \"#ffffff\"\r\n                    },\r\n                    {\r\n                        \"lightness\": 16\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"all\",\r\n                \"elementType\": \"labels.icon\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"visibility\": \"off\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"administrative\",\r\n                \"elementType\": \"geometry.fill\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"color\": \"#fefefe\"\r\n                    },\r\n                    {\r\n                        \"lightness\": 20\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"administrative\",\r\n                \"elementType\": \"geometry.stroke\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"color\": \"#fefefe\"\r\n                    },\r\n                    {\r\n                        \"lightness\": 17\r\n                    },\r\n                    {\r\n                        \"weight\": 1.2\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"administrative.locality\",\r\n                \"elementType\": \"labels.icon\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"color\": \"#bd081c\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"landscape\",\r\n                \"elementType\": \"geometry\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"color\": \"#f5f5f5\"\r\n                    },\r\n                    {\r\n                        \"lightness\": 20\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"poi\",\r\n                \"elementType\": \"geometry\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"color\": \"#f5f5f5\"\r\n                    },\r\n                    {\r\n                        \"lightness\": 21\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"poi.park\",\r\n                \"elementType\": \"geometry\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"color\": \"#dedede\"\r\n                    },\r\n                    {\r\n                        \"lightness\": 21\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"road.highway\",\r\n                \"elementType\": \"geometry.fill\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"color\": \"#ffffff\"\r\n                    },\r\n                    {\r\n                        \"lightness\": 17\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"road.highway\",\r\n                \"elementType\": \"geometry.stroke\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"color\": \"#ffffff\"\r\n                    },\r\n                    {\r\n                        \"lightness\": 29\r\n                    },\r\n                    {\r\n                        \"weight\": 0.2\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"road.arterial\",\r\n                \"elementType\": \"geometry\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"color\": \"#ffffff\"\r\n                    },\r\n                    {\r\n                        \"lightness\": 18\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"road.local\",\r\n                \"elementType\": \"geometry\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"color\": \"#ffffff\"\r\n                    },\r\n                    {\r\n                        \"lightness\": 16\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"transit\",\r\n                \"elementType\": \"geometry\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"color\": \"#f2f2f2\"\r\n                    },\r\n                    {\r\n                        \"lightness\": 19\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                \"featureType\": \"water\",\r\n                \"elementType\": \"geometry\",\r\n                \"stylers\": [\r\n                    {\r\n                        \"color\": \"#e9e9e9\"\r\n                    },\r\n                    {\r\n                        \"lightness\": 17\r\n                    }\r\n                ]\r\n            }\r\n        ];\r\n        this.init(block);\r\n    }\r\n\r\n    init(block) {\r\n        this.createMap(block);\r\n    }\r\n\r\n    createMap(block) {\r\n        loadGoogleMapsApi({ key: \"AIzaSyClhFHta8IRgr6R93w2-yzwClIpvDppS_s\"}).then( (googleMaps) => {\r\n            let myMap = new googleMaps.Map(block, {\r\n                center: this.pos,\r\n                zoom: 17,\r\n                styles: this.mapStyle,\r\n            })\r\n            this.createMarker(myMap, googleMaps);\r\n        }).catch(function (error) {\r\n            console.error(error)\r\n        });\r\n    }\r\n\r\n    createMarker(myMap, googleMaps) {\r\n        let marker = new googleMaps.Marker(\r\n            {\r\n                position: this.pos,\r\n                map: myMap,\r\n                icon: img,\r\n            }\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nconst EMAIL_REGEXP = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst NUMBER_REGEXP = /^[0-9]+$/;\nconst PASSWORD_REGEXP = /^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/;\nconst STRONG_PASSWORD_REGEXP = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\nconst isEmpty = (value) => {\n  let newVal = value;\n  if (typeof value === \"string\") {\n    newVal = value.trim();\n  }\n  return !newVal;\n};\nconst isEmail = (value) => {\n  return EMAIL_REGEXP.test(value);\n};\nconst isLengthMoreThanMax = (value, len) => {\n  return value.length > len;\n};\nconst isLengthLessThanMin = (value, len) => {\n  return value.length < len;\n};\nconst isNumber = (value) => {\n  return NUMBER_REGEXP.test(value);\n};\nconst isPassword = (value) => {\n  return PASSWORD_REGEXP.test(value);\n};\nconst isStrongPassword = (value) => {\n  return STRONG_PASSWORD_REGEXP.test(value);\n};\nconst isNumberMoreThanMax = (value, len) => {\n  return value > len;\n};\nconst isNumberLessThanMin = (value, len) => {\n  return value < len;\n};\nvar Rules = /* @__PURE__ */ ((Rules2) => {\n  Rules2[\"Required\"] = \"required\";\n  Rules2[\"Email\"] = \"email\";\n  Rules2[\"MinLength\"] = \"minLength\";\n  Rules2[\"MaxLength\"] = \"maxLength\";\n  Rules2[\"Password\"] = \"password\";\n  Rules2[\"Number\"] = \"number\";\n  Rules2[\"MaxNumber\"] = \"maxNumber\";\n  Rules2[\"MinNumber\"] = \"minNumber\";\n  Rules2[\"StrongPassword\"] = \"strongPassword\";\n  Rules2[\"CustomRegexp\"] = \"customRegexp\";\n  Rules2[\"MinFilesCount\"] = \"minFilesCount\";\n  Rules2[\"MaxFilesCount\"] = \"maxFilesCount\";\n  Rules2[\"Files\"] = \"files\";\n  return Rules2;\n})(Rules || {});\nvar GroupRules = /* @__PURE__ */ ((GroupRules2) => {\n  GroupRules2[\"Required\"] = \"required\";\n  return GroupRules2;\n})(GroupRules || {});\nvar CustomStyleTagIds = /* @__PURE__ */ ((CustomStyleTagIds2) => {\n  CustomStyleTagIds2[\"Label\"] = \"label\";\n  CustomStyleTagIds2[\"LabelArrow\"] = \"labelArrow\";\n  return CustomStyleTagIds2;\n})(CustomStyleTagIds || {});\nconst getDefaultFieldMessage = (rule, ruleValue) => {\n  switch (rule) {\n    case Rules.Required:\n      return \"The field is required\";\n    case Rules.Email:\n      return \"Email has invalid format\";\n    case Rules.MaxLength:\n      return \"The field must contain a maximum of :value characters\".replace(\":value\", String(ruleValue));\n    case Rules.MinLength:\n      return \"The field must contain a minimum of :value characters\".replace(\":value\", String(ruleValue));\n    case Rules.Password:\n      return \"Password must contain minimum eight characters, at least one letter and one number\";\n    case Rules.Number:\n      return \"Value should be a number\";\n    case Rules.StrongPassword:\n      return \"Password should contain minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character\";\n    case Rules.MaxNumber:\n      return \"Number should be less or equal than :value\".replace(\":value\", String(ruleValue));\n    case Rules.MinNumber:\n      return \"Number should be more or equal than :value\".replace(\":value\", String(ruleValue));\n    case Rules.MinFilesCount:\n      return \"Files count should be more or equal than :value\".replace(\":value\", String(ruleValue));\n    case Rules.MaxFilesCount:\n      return \"Files count should be less or equal than :value\".replace(\":value\", String(ruleValue));\n    case Rules.Files:\n      return \"Uploaded files have one or several invalid properties (extension/size/type etc)\";\n    default:\n      return \"Value is incorrect\";\n  }\n};\nconst getDefaultGroupMessage = (rule) => {\n  switch (rule) {\n    case GroupRules.Required:\n      return \"The field is required\";\n    default:\n      return \"Group is incorrect\";\n  }\n};\nconst isPromise = (val) => !!val && typeof val.then === \"function\";\nconst getNodeParents = (el) => {\n  let elem = el;\n  const els = [];\n  while (elem) {\n    els.unshift(elem);\n    elem = elem.parentNode;\n  }\n  return els;\n};\nconst getClosestParent = (groups, parents) => {\n  const reversedParents = [...parents].reverse();\n  for (let i = 0, len = reversedParents.length; i < len; ++i) {\n    const parent = reversedParents[i];\n    for (const key in groups) {\n      const group = groups[key];\n      if (group.groupElem === parent) {\n        return [key, group];\n      }\n    }\n  }\n  return null;\n};\nconst getClassList = (classList) => {\n  if (Array.isArray(classList)) {\n    return classList.filter((cls) => cls.length > 0);\n  }\n  if (typeof classList === \"string\" && classList.trim()) {\n    return [...classList.split(\" \").filter((cls) => cls.length > 0)];\n  }\n  return [];\n};\nconst errorLabelCss = `.just-validate-error-label[data-tooltip=true]{position:fixed;padding:4px 8px;background:#423f3f;color:#fff;white-space:nowrap;z-index:10;border-radius:4px;transform:translateY(-5px)}.just-validate-error-label[data-tooltip=true]:before{content:'';width:0;height:0;border-left:solid 5px transparent;border-right:solid 5px transparent;border-bottom:solid 5px #423f3f;position:absolute;z-index:3;display:block;bottom:-5px;transform:rotate(180deg);left:calc(50% - 5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]{transform:translateX(-5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]:before{right:-7px;bottom:auto;left:auto;top:calc(50% - 2px);transform:rotate(90deg)}.just-validate-error-label[data-tooltip=true][data-direction=right]{transform:translateX(5px)}.just-validate-error-label[data-tooltip=true][data-direction=right]:before{right:auto;bottom:auto;left:-7px;top:calc(50% - 2px);transform:rotate(-90deg)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]{transform:translateY(5px)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]:before{right:auto;bottom:auto;left:calc(50% - 5px);top:-5px;transform:rotate(0)}`;\nconst TOOLTIP_ARROW_HEIGHT = 5;\nconst defaultGlobalConfig = {\n  errorFieldStyle: {\n    color: \"#b81111\",\n    border: \"1px solid #B81111\"\n  },\n  errorFieldCssClass: \"just-validate-error-field\",\n  successFieldCssClass: \"just-validate-success-field\",\n  errorLabelStyle: {\n    color: \"#b81111\"\n  },\n  errorLabelCssClass: \"just-validate-error-label\",\n  successLabelCssClass: \"just-validate-success-label\",\n  focusInvalidField: true,\n  lockForm: true,\n  testingMode: false\n};\nclass JustValidate {\n  constructor(form, globalConfig, dictLocale) {\n    __publicField(this, \"form\", null);\n    __publicField(this, \"fields\", {});\n    __publicField(this, \"groupFields\", {});\n    __publicField(this, \"errors\", {});\n    __publicField(this, \"isValid\", false);\n    __publicField(this, \"isSubmitted\", false);\n    __publicField(this, \"globalConfig\", defaultGlobalConfig);\n    __publicField(this, \"errorLabels\", {});\n    __publicField(this, \"successLabels\", {});\n    __publicField(this, \"eventListeners\", []);\n    __publicField(this, \"dictLocale\", []);\n    __publicField(this, \"currentLocale\");\n    __publicField(this, \"customStyleTags\", {});\n    __publicField(this, \"onSuccessCallback\");\n    __publicField(this, \"onFailCallback\");\n    __publicField(this, \"tooltips\", []);\n    __publicField(this, \"lastScrollPosition\");\n    __publicField(this, \"isScrollTick\");\n    __publicField(this, \"refreshAllTooltips\", () => {\n      this.tooltips.forEach((item) => {\n        item.refresh();\n      });\n    });\n    __publicField(this, \"handleDocumentScroll\", () => {\n      this.lastScrollPosition = window.scrollY;\n      if (!this.isScrollTick) {\n        window.requestAnimationFrame(() => {\n          this.refreshAllTooltips();\n          this.isScrollTick = false;\n        });\n        this.isScrollTick = true;\n      }\n    });\n    __publicField(this, \"formSubmitHandler\", (ev) => {\n      ev.preventDefault();\n      this.isSubmitted = true;\n      this.validateHandler(ev);\n    });\n    __publicField(this, \"handleFieldChange\", (target) => {\n      let currentFieldName;\n      for (const fieldName in this.fields) {\n        const field = this.fields[fieldName];\n        if (field.elem === target) {\n          currentFieldName = fieldName;\n          break;\n        }\n      }\n      if (!currentFieldName) {\n        return;\n      }\n      this.validateField(currentFieldName, true);\n    });\n    __publicField(this, \"handleGroupChange\", (target) => {\n      let currentGroup;\n      let currentGroupName;\n      for (const groupName in this.groupFields) {\n        const group = this.groupFields[groupName];\n        if (group.elems.find((elem) => elem === target)) {\n          currentGroup = group;\n          currentGroupName = groupName;\n          break;\n        }\n      }\n      if (!currentGroup || !currentGroupName) {\n        return;\n      }\n      this.validateGroup(currentGroupName, currentGroup);\n    });\n    __publicField(this, \"handlerChange\", (ev) => {\n      if (!ev.target) {\n        return;\n      }\n      this.handleFieldChange(ev.target);\n      this.handleGroupChange(ev.target);\n      this.renderErrors();\n    });\n    this.initialize(form, globalConfig, dictLocale);\n  }\n  initialize(form, globalConfig, dictLocale) {\n    this.form = null;\n    this.errors = {};\n    this.isValid = false;\n    this.isSubmitted = false;\n    this.globalConfig = defaultGlobalConfig;\n    this.errorLabels = {};\n    this.successLabels = {};\n    this.eventListeners = [];\n    this.customStyleTags = {};\n    this.tooltips = [];\n    if (typeof form === \"string\") {\n      const elem = document.querySelector(form);\n      if (!elem) {\n        throw Error(`Form with ${form} selector not found! Please check the form selector`);\n      }\n      this.setForm(elem);\n    } else if (form instanceof HTMLFormElement) {\n      this.setForm(form);\n    } else {\n      throw Error(`Form selector is not valid. Please specify a string selector or a DOM element.`);\n    }\n    this.globalConfig = __spreadValues(__spreadValues({}, defaultGlobalConfig), globalConfig);\n    if (dictLocale) {\n      this.dictLocale = dictLocale;\n    }\n    if (this.isTooltip()) {\n      const styleTag = document.createElement(\"style\");\n      styleTag.textContent = errorLabelCss;\n      this.customStyleTags[CustomStyleTagIds.Label] = document.head.appendChild(styleTag);\n      this.addListener(\"scroll\", document, this.handleDocumentScroll);\n    }\n  }\n  getLocalisedString(str) {\n    var _a;\n    if (!this.currentLocale || !this.dictLocale.length) {\n      return str;\n    }\n    const localisedStr = (_a = this.dictLocale.find((item) => item.key === str)) == null ? void 0 : _a.dict[this.currentLocale];\n    return localisedStr || str;\n  }\n  getFieldErrorMessage(fieldRule, elem) {\n    const msg = typeof fieldRule.errorMessage === \"function\" ? fieldRule.errorMessage(this.getElemValue(elem), this.fields) : fieldRule.errorMessage;\n    return this.getLocalisedString(msg) || getDefaultFieldMessage(fieldRule.rule, fieldRule.value);\n  }\n  getFieldSuccessMessage(successMessage, elem) {\n    const msg = typeof successMessage === \"function\" ? successMessage(this.getElemValue(elem), this.fields) : successMessage;\n    return this.getLocalisedString(msg);\n  }\n  getGroupErrorMessage(groupRule) {\n    return this.getLocalisedString(groupRule.errorMessage) || getDefaultGroupMessage(groupRule.rule);\n  }\n  getGroupSuccessMessage(groupRule) {\n    return this.getLocalisedString(groupRule.successMessage);\n  }\n  setFieldInvalid(field, fieldRule) {\n    this.fields[field].isValid = false;\n    this.fields[field].errorMessage = this.getFieldErrorMessage(fieldRule, this.fields[field].elem);\n  }\n  setFieldValid(field, successMessage) {\n    this.fields[field].isValid = true;\n    if (successMessage !== void 0) {\n      this.fields[field].successMessage = this.getFieldSuccessMessage(successMessage, this.fields[field].elem);\n    }\n  }\n  setGroupInvalid(groupName, groupRule) {\n    this.groupFields[groupName].isValid = false;\n    this.groupFields[groupName].errorMessage = this.getGroupErrorMessage(groupRule);\n  }\n  setGroupValid(groupName, groupRule) {\n    this.groupFields[groupName].isValid = true;\n    this.groupFields[groupName].successMessage = this.getGroupSuccessMessage(groupRule);\n  }\n  getElemValue(elem) {\n    switch (elem.type) {\n      case \"checkbox\":\n        return elem.checked;\n      case \"file\":\n        return elem.files;\n      default:\n        return elem.value;\n    }\n  }\n  validateGroupRule(groupName, elems, groupRule) {\n    switch (groupRule.rule) {\n      case GroupRules.Required: {\n        if (elems.every((elem) => !elem.checked)) {\n          this.setGroupInvalid(groupName, groupRule);\n        } else {\n          this.setGroupValid(groupName, groupRule);\n        }\n      }\n    }\n  }\n  validateFieldRule(field, elem, fieldRule, afterInputChanged = false) {\n    const ruleValue = fieldRule.value;\n    const elemValue = this.getElemValue(elem);\n    if (fieldRule.plugin) {\n      const result = fieldRule.plugin(elemValue, this.fields);\n      if (!result) {\n        this.setFieldInvalid(field, fieldRule);\n      }\n      return;\n    }\n    switch (fieldRule.rule) {\n      case Rules.Required: {\n        if (isEmpty(elemValue)) {\n          this.setFieldInvalid(field, fieldRule);\n        }\n        break;\n      }\n      case Rules.Email: {\n        if (typeof elemValue !== \"string\") {\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (!isEmail(elemValue)) {\n          this.setFieldInvalid(field, fieldRule);\n        }\n        break;\n      }\n      case Rules.MaxLength: {\n        if (ruleValue === void 0) {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field is not defined. The field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (typeof ruleValue !== \"number\") {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] should be a number. The field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (typeof elemValue !== \"string\") {\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (elemValue === \"\") {\n          break;\n        }\n        if (isLengthMoreThanMax(elemValue, ruleValue)) {\n          this.setFieldInvalid(field, fieldRule);\n        }\n        break;\n      }\n      case Rules.MinLength: {\n        if (ruleValue === void 0) {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field is not defined. The field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (typeof ruleValue !== \"number\") {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] should be a number. The field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (typeof elemValue !== \"string\") {\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (elemValue === \"\") {\n          break;\n        }\n        if (isLengthLessThanMin(elemValue, ruleValue)) {\n          this.setFieldInvalid(field, fieldRule);\n        }\n        break;\n      }\n      case Rules.Password: {\n        if (typeof elemValue !== \"string\") {\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (elemValue === \"\") {\n          break;\n        }\n        if (!isPassword(elemValue)) {\n          this.setFieldInvalid(field, fieldRule);\n        }\n        break;\n      }\n      case Rules.StrongPassword: {\n        if (typeof elemValue !== \"string\") {\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (elemValue === \"\") {\n          break;\n        }\n        if (!isStrongPassword(elemValue)) {\n          this.setFieldInvalid(field, fieldRule);\n        }\n        break;\n      }\n      case Rules.Number: {\n        if (typeof elemValue !== \"string\") {\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (elemValue === \"\") {\n          break;\n        }\n        if (!isNumber(elemValue)) {\n          this.setFieldInvalid(field, fieldRule);\n        }\n        break;\n      }\n      case Rules.MaxNumber: {\n        if (ruleValue === void 0) {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field is not defined. The field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (typeof ruleValue !== \"number\") {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field should be a number. The field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (typeof elemValue !== \"string\") {\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (elemValue === \"\") {\n          break;\n        }\n        const num = +elemValue;\n        if (Number.isNaN(num) || isNumberMoreThanMax(num, ruleValue)) {\n          this.setFieldInvalid(field, fieldRule);\n        }\n        break;\n      }\n      case Rules.MinNumber: {\n        if (ruleValue === void 0) {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field is not defined. The field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (typeof ruleValue !== \"number\") {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field should be a number. The field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (typeof elemValue !== \"string\") {\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (elemValue === \"\") {\n          break;\n        }\n        const num = +elemValue;\n        if (Number.isNaN(num) || isNumberLessThanMin(num, ruleValue)) {\n          this.setFieldInvalid(field, fieldRule);\n        }\n        break;\n      }\n      case Rules.CustomRegexp: {\n        if (ruleValue === void 0) {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field is not defined. This field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          return;\n        }\n        let regexp;\n        try {\n          regexp = new RegExp(ruleValue);\n        } catch (e) {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] should be a valid regexp. This field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        const str = String(elemValue);\n        if (str !== \"\" && !regexp.test(str)) {\n          this.setFieldInvalid(field, fieldRule);\n        }\n        break;\n      }\n      case Rules.MinFilesCount: {\n        if (ruleValue === void 0) {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field is not defined. This field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (typeof ruleValue !== \"number\") {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field should be a number. The field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (Number.isFinite(elemValue == null ? void 0 : elemValue.length) && elemValue.length < ruleValue) {\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        break;\n      }\n      case Rules.MaxFilesCount: {\n        if (ruleValue === void 0) {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field is not defined. This field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (typeof ruleValue !== \"number\") {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field should be a number. The field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        if (Number.isFinite(elemValue == null ? void 0 : elemValue.length) && elemValue.length > ruleValue) {\n          this.setFieldInvalid(field, fieldRule);\n          break;\n        }\n        break;\n      }\n      case Rules.Files: {\n        if (ruleValue === void 0) {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field is not defined. This field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          return;\n        }\n        if (typeof ruleValue !== \"object\") {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field should be an object. This field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          return;\n        }\n        const filesConfig = ruleValue.files;\n        if (typeof filesConfig !== \"object\") {\n          console.error(`Value for ${fieldRule.rule} rule for [${field}] field should be an object with files array. This field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          return;\n        }\n        const isFilePropsInvalid = (file, fileConfig) => {\n          const minSizeInvalid = Number.isFinite(fileConfig.minSize) && file.size < fileConfig.minSize;\n          const maxSizeInvalid = Number.isFinite(fileConfig.maxSize) && file.size > fileConfig.maxSize;\n          const nameInvalid = Array.isArray(fileConfig.names) && !fileConfig.names.includes(file.name);\n          const extInvalid = Array.isArray(fileConfig.extensions) && !fileConfig.extensions.includes(file.name.split(\".\")[file.name.split(\".\").length - 1]);\n          const typeInvalid = Array.isArray(fileConfig.types) && !fileConfig.types.includes(file.type);\n          return minSizeInvalid || maxSizeInvalid || nameInvalid || extInvalid || typeInvalid;\n        };\n        if (typeof elemValue === \"object\" && elemValue !== null) {\n          for (let fileIdx = 0, len = elemValue.length; fileIdx < len; ++fileIdx) {\n            const file = elemValue.item(fileIdx);\n            if (!file) {\n              this.setFieldInvalid(field, fieldRule);\n              break;\n            }\n            const filesInvalid = isFilePropsInvalid(file, filesConfig);\n            if (filesInvalid) {\n              this.setFieldInvalid(field, fieldRule);\n              break;\n            }\n          }\n        }\n        break;\n      }\n      default: {\n        if (typeof fieldRule.validator !== \"function\") {\n          console.error(`Validator for custom rule for [${field}] field should be a function. This field will be always invalid.`);\n          this.setFieldInvalid(field, fieldRule);\n          return;\n        }\n        const result = fieldRule.validator(elemValue, this.fields);\n        if (typeof result !== \"boolean\" && typeof result !== \"function\") {\n          console.error(`Validator return value for [${field}] field should be boolean or function. It will be cast to boolean.`);\n        }\n        if (typeof result === \"function\") {\n          if (afterInputChanged) {\n            this.fields[field].asyncCheckPending = true;\n          } else {\n            this.fields[field].asyncCheckPending = false;\n            const promise = result();\n            if (!isPromise(promise)) {\n              console.error(`Validator function for custom rule for [${field}] field should return a Promise. This field will be always invalid.`);\n              this.setFieldInvalid(field, fieldRule);\n              return;\n            }\n            return promise.then((resp) => {\n              if (!resp) {\n                this.setFieldInvalid(field, fieldRule);\n              }\n            }).catch(() => {\n              this.setFieldInvalid(field, fieldRule);\n            });\n          }\n        }\n        if (!result) {\n          this.setFieldInvalid(field, fieldRule);\n        }\n      }\n    }\n  }\n  validateField(fieldName, afterInputChanged = false) {\n    var _a;\n    const field = this.fields[fieldName];\n    field.isValid = true;\n    const promises = [];\n    [...field.rules].reverse().forEach((rule) => {\n      const res = this.validateFieldRule(fieldName, field.elem, rule, afterInputChanged);\n      if (isPromise(res)) {\n        promises.push(res);\n      }\n    });\n    if (field.isValid) {\n      this.setFieldValid(fieldName, (_a = field.config) == null ? void 0 : _a.successMessage);\n    }\n    return Promise.allSettled(promises);\n  }\n  revalidateField(field) {\n    if (typeof field !== \"string\") {\n      throw Error(`Field selector is not valid. Please specify a string selector.`);\n    }\n    if (!this.fields[field]) {\n      console.error(`Field not found. Check the field selector.`);\n      return Promise.reject();\n    }\n    return new Promise((resolve) => {\n      this.validateField(field, true).finally(() => {\n        this.clearFieldStyle(field);\n        this.clearFieldLabel(field);\n        this.renderFieldError(field);\n        resolve(!!this.fields[field].isValid);\n      });\n    });\n  }\n  validateGroup(groupName, group) {\n    const promises = [];\n    [...group.rules].reverse().forEach((rule) => {\n      const res = this.validateGroupRule(groupName, group.elems, rule);\n      if (isPromise(res)) {\n        promises.push(res);\n      }\n    });\n    return Promise.allSettled(promises);\n  }\n  focusInvalidField() {\n    for (const fieldName in this.fields) {\n      const field = this.fields[fieldName];\n      if (!field.isValid) {\n        setTimeout(() => field.elem.focus(), 0);\n        break;\n      }\n    }\n  }\n  afterSubmitValidation(forceRevalidation = false) {\n    this.renderErrors(forceRevalidation);\n    if (this.globalConfig.focusInvalidField) {\n      this.focusInvalidField();\n    }\n  }\n  validate(forceRevalidation = false) {\n    return new Promise((resolve) => {\n      const promises = [];\n      Object.keys(this.fields).forEach((fieldName) => {\n        const promise = this.validateField(fieldName);\n        if (isPromise(promise)) {\n          promises.push(promise);\n        }\n      });\n      Object.keys(this.groupFields).forEach((groupName) => {\n        const group = this.groupFields[groupName];\n        const promise = this.validateGroup(groupName, group);\n        if (isPromise(promise)) {\n          promises.push(promise);\n        }\n      });\n      if (promises.length) {\n        Promise.allSettled(promises).then(() => {\n          this.afterSubmitValidation(forceRevalidation);\n          resolve(true);\n        });\n      } else {\n        this.afterSubmitValidation(forceRevalidation);\n        resolve(false);\n      }\n    });\n  }\n  revalidate() {\n    return new Promise((resolve) => {\n      this.validateHandler(void 0, true).finally(() => {\n        if (this.globalConfig.focusInvalidField) {\n          this.focusInvalidField();\n        }\n        resolve(this.isValid);\n      });\n    });\n  }\n  validateHandler(ev, forceRevalidation = false) {\n    if (this.globalConfig.lockForm) {\n      this.lockForm();\n    }\n    return this.validate(forceRevalidation).finally(() => {\n      var _a, _b;\n      if (this.globalConfig.lockForm) {\n        this.unlockForm();\n      }\n      if (this.isValid) {\n        (_a = this.onSuccessCallback) == null ? void 0 : _a.call(this, ev);\n      } else {\n        (_b = this.onFailCallback) == null ? void 0 : _b.call(this, this.fields, this.groupFields);\n      }\n    });\n  }\n  setForm(form) {\n    this.form = form;\n    this.form.setAttribute(\"novalidate\", \"novalidate\");\n    this.removeListener(\"submit\", this.form, this.formSubmitHandler);\n    this.addListener(\"submit\", this.form, this.formSubmitHandler);\n  }\n  addListener(type, elem, handler) {\n    elem.addEventListener(type, handler);\n    this.eventListeners.push({ type, elem, func: handler });\n  }\n  removeListener(type, elem, handler) {\n    elem.removeEventListener(type, handler);\n    this.eventListeners = this.eventListeners.filter((item) => item.type !== type || item.elem !== elem);\n  }\n  addField(field, rules, config) {\n    if (typeof field !== \"string\") {\n      throw Error(`Field selector is not valid. Please specify a string selector.`);\n    }\n    const elem = this.form.querySelector(field);\n    if (!elem) {\n      throw Error(`Field with ${field} selector not found! Please check the field selector.`);\n    }\n    if (!Array.isArray(rules) || !rules.length) {\n      throw Error(`Rules argument for the field [${field}] should be an array and should contain at least 1 element.`);\n    }\n    rules.forEach((item) => {\n      if (!(\"rule\" in item || \"validator\" in item || \"plugin\" in item)) {\n        throw Error(`Rules argument for the field [${field}] must contain at least one rule or validator property.`);\n      }\n      if (!item.validator && !item.plugin && (!item.rule || !Object.values(Rules).includes(item.rule))) {\n        throw Error(`Rule should be one of these types: ${Object.values(Rules).join(\", \")}. Provided value: ${item.rule}`);\n      }\n    });\n    this.fields[field] = {\n      elem,\n      rules,\n      isValid: void 0,\n      config\n    };\n    this.setListeners(elem);\n    if (this.isSubmitted) {\n      this.validate();\n    }\n    return this;\n  }\n  removeField(field) {\n    if (typeof field !== \"string\") {\n      throw Error(`Field selector is not valid. Please specify a string selector.`);\n    }\n    if (!this.fields[field]) {\n      console.error(`Field not found. Check the field selector.`);\n      return this;\n    }\n    const type = this.getListenerType(this.fields[field].elem.type);\n    this.removeListener(type, this.fields[field].elem, this.handlerChange);\n    this.clearErrors();\n    delete this.fields[field];\n    return this;\n  }\n  removeGroup(group) {\n    if (typeof group !== \"string\") {\n      throw Error(`Group selector is not valid. Please specify a string selector.`);\n    }\n    if (!this.groupFields[group]) {\n      console.error(`Group not found. Check the group selector.`);\n      return this;\n    }\n    this.groupFields[group].elems.forEach((elem) => {\n      const type = this.getListenerType(elem.type);\n      this.removeListener(type, elem, this.handlerChange);\n    });\n    this.clearErrors();\n    delete this.groupFields[group];\n    return this;\n  }\n  addRequiredGroup(groupField, errorMessage, config, successMessage) {\n    if (typeof groupField !== \"string\") {\n      throw Error(`Group selector is not valid. Please specify a string selector.`);\n    }\n    const elem = this.form.querySelector(groupField);\n    if (!elem) {\n      throw Error(`Group with ${groupField} selector not found! Please check the group selector.`);\n    }\n    const inputs = elem.querySelectorAll(\"input\");\n    const childrenInputs = Array.from(inputs).filter((input) => {\n      const parent = getClosestParent(this.groupFields, getNodeParents(input));\n      if (!parent) {\n        return true;\n      }\n      return parent[1].elems.find((elem2) => elem2 !== input);\n    });\n    this.groupFields[groupField] = {\n      rules: [\n        {\n          rule: GroupRules.Required,\n          errorMessage,\n          successMessage\n        }\n      ],\n      groupElem: elem,\n      elems: childrenInputs,\n      isDirty: false,\n      isValid: void 0,\n      config\n    };\n    inputs.forEach((input) => {\n      this.setListeners(input);\n    });\n    return this;\n  }\n  getListenerType(type) {\n    switch (type) {\n      case \"checkbox\":\n      case \"select-one\":\n      case \"file\":\n      case \"radio\": {\n        return \"change\";\n      }\n      default: {\n        return \"input\";\n      }\n    }\n  }\n  setListeners(elem) {\n    const type = this.getListenerType(elem.type);\n    this.removeListener(type, elem, this.handlerChange);\n    this.addListener(type, elem, this.handlerChange);\n  }\n  clearFieldLabel(fieldName) {\n    var _a, _b;\n    (_a = this.errorLabels[fieldName]) == null ? void 0 : _a.remove();\n    (_b = this.successLabels[fieldName]) == null ? void 0 : _b.remove();\n  }\n  clearFieldStyle(fieldName) {\n    var _a, _b, _c, _d;\n    const field = this.fields[fieldName];\n    const errorStyle = ((_a = field.config) == null ? void 0 : _a.errorFieldStyle) || this.globalConfig.errorFieldStyle;\n    Object.keys(errorStyle).forEach((key) => {\n      field.elem.style[key] = \"\";\n    });\n    const successStyle = ((_b = field.config) == null ? void 0 : _b.successFieldStyle) || this.globalConfig.successFieldStyle || {};\n    Object.keys(successStyle).forEach((key) => {\n      field.elem.style[key] = \"\";\n    });\n    field.elem.classList.remove(...getClassList(((_c = field.config) == null ? void 0 : _c.errorFieldCssClass) || this.globalConfig.errorFieldCssClass), ...getClassList(((_d = field.config) == null ? void 0 : _d.successFieldCssClass) || this.globalConfig.successFieldCssClass));\n  }\n  clearErrors() {\n    var _a, _b;\n    Object.keys(this.errorLabels).forEach((key) => this.errorLabels[key].remove());\n    Object.keys(this.successLabels).forEach((key) => this.successLabels[key].remove());\n    for (const fieldName in this.fields) {\n      this.clearFieldStyle(fieldName);\n    }\n    for (const groupName in this.groupFields) {\n      const group = this.groupFields[groupName];\n      const errorStyle = ((_a = group.config) == null ? void 0 : _a.errorFieldStyle) || this.globalConfig.errorFieldStyle;\n      Object.keys(errorStyle).forEach((key) => {\n        group.elems.forEach((elem) => {\n          var _a2;\n          elem.style[key] = \"\";\n          elem.classList.remove(...getClassList(((_a2 = group.config) == null ? void 0 : _a2.errorFieldCssClass) || this.globalConfig.errorFieldCssClass));\n        });\n      });\n      const successStyle = ((_b = group.config) == null ? void 0 : _b.successFieldStyle) || this.globalConfig.successFieldStyle || {};\n      Object.keys(successStyle).forEach((key) => {\n        group.elems.forEach((elem) => {\n          var _a2;\n          elem.style[key] = \"\";\n          elem.classList.remove(...getClassList(((_a2 = group.config) == null ? void 0 : _a2.successFieldCssClass) || this.globalConfig.successFieldCssClass));\n        });\n      });\n    }\n    this.tooltips = [];\n  }\n  isTooltip() {\n    return !!this.globalConfig.tooltip;\n  }\n  lockForm() {\n    const elems = this.form.querySelectorAll(\"input, textarea, button, select\");\n    for (let i = 0, len = elems.length; i < len; ++i) {\n      elems[i].setAttribute(\"data-just-validate-fallback-disabled\", elems[i].disabled ? \"true\" : \"false\");\n      elems[i].setAttribute(\"disabled\", \"disabled\");\n      elems[i].style.pointerEvents = \"none\";\n      elems[i].style.webkitFilter = \"grayscale(100%)\";\n      elems[i].style.filter = \"grayscale(100%)\";\n    }\n  }\n  unlockForm() {\n    const elems = this.form.querySelectorAll(\"input, textarea, button, select\");\n    for (let i = 0, len = elems.length; i < len; ++i) {\n      if (elems[i].getAttribute(\"data-just-validate-fallback-disabled\") !== \"true\") {\n        elems[i].removeAttribute(\"disabled\");\n      }\n      elems[i].style.pointerEvents = \"\";\n      elems[i].style.webkitFilter = \"\";\n      elems[i].style.filter = \"\";\n    }\n  }\n  renderTooltip(elem, errorLabel, position) {\n    var _a;\n    const { top, left, width, height } = elem.getBoundingClientRect();\n    const errorLabelRect = errorLabel.getBoundingClientRect();\n    const pos = position || ((_a = this.globalConfig.tooltip) == null ? void 0 : _a.position);\n    switch (pos) {\n      case \"left\": {\n        errorLabel.style.top = `${top + height / 2 - errorLabelRect.height / 2}px`;\n        errorLabel.style.left = `${left - errorLabelRect.width - TOOLTIP_ARROW_HEIGHT}px`;\n        break;\n      }\n      case \"top\": {\n        errorLabel.style.top = `${top - errorLabelRect.height - TOOLTIP_ARROW_HEIGHT}px`;\n        errorLabel.style.left = `${left + width / 2 - errorLabelRect.width / 2}px`;\n        break;\n      }\n      case \"right\": {\n        errorLabel.style.top = `${top + height / 2 - errorLabelRect.height / 2}px`;\n        errorLabel.style.left = `${left + width + TOOLTIP_ARROW_HEIGHT}px`;\n        break;\n      }\n      case \"bottom\": {\n        errorLabel.style.top = `${top + height + TOOLTIP_ARROW_HEIGHT}px`;\n        errorLabel.style.left = `${left + width / 2 - errorLabelRect.width / 2}px`;\n        break;\n      }\n    }\n    errorLabel.dataset.direction = pos;\n    const refresh = () => {\n      this.renderTooltip(elem, errorLabel, position);\n    };\n    return {\n      refresh\n    };\n  }\n  createErrorLabelElem(name, errorMessage, config) {\n    const errorLabel = document.createElement(\"div\");\n    errorLabel.innerHTML = errorMessage;\n    const customErrorLabelStyle = this.isTooltip() ? config == null ? void 0 : config.errorLabelStyle : (config == null ? void 0 : config.errorLabelStyle) || this.globalConfig.errorLabelStyle;\n    Object.assign(errorLabel.style, customErrorLabelStyle);\n    errorLabel.classList.add(...getClassList((config == null ? void 0 : config.errorLabelCssClass) || this.globalConfig.errorLabelCssClass), \"just-validate-error-label\");\n    if (this.isTooltip()) {\n      errorLabel.dataset.tooltip = \"true\";\n    }\n    if (this.globalConfig.testingMode) {\n      errorLabel.dataset.testId = `error-label-${name}`;\n    }\n    this.errorLabels[name] = errorLabel;\n    return errorLabel;\n  }\n  createSuccessLabelElem(name, successMessage, config) {\n    if (successMessage === void 0) {\n      return null;\n    }\n    const successLabel = document.createElement(\"div\");\n    successLabel.innerHTML = successMessage;\n    const customSuccessLabelStyle = (config == null ? void 0 : config.successLabelStyle) || this.globalConfig.successLabelStyle;\n    Object.assign(successLabel.style, customSuccessLabelStyle);\n    successLabel.classList.add(...getClassList((config == null ? void 0 : config.successLabelCssClass) || this.globalConfig.successLabelCssClass), \"just-validate-success-label\");\n    if (this.globalConfig.testingMode) {\n      successLabel.dataset.testId = `success-label-${name}`;\n    }\n    this.successLabels[name] = successLabel;\n    return successLabel;\n  }\n  renderErrorsContainer(label, errorsContainer) {\n    const container = errorsContainer || this.globalConfig.errorsContainer;\n    if (typeof container === \"string\") {\n      const elem = this.form.querySelector(container);\n      if (elem) {\n        elem.appendChild(label);\n        return true;\n      } else {\n        console.error(`Error container with ${container} selector not found. Errors will be rendered as usual`);\n      }\n    }\n    if (container instanceof Element) {\n      container.appendChild(label);\n      return true;\n    }\n    if (container !== void 0) {\n      console.error(`Error container not found. It should be a string or existing Element. Errors will be rendered as usual`);\n    }\n    return false;\n  }\n  renderGroupLabel(elem, label, errorsContainer, isSuccess) {\n    if (!isSuccess) {\n      const renderedInErrorsContainer = this.renderErrorsContainer(label, errorsContainer);\n      if (renderedInErrorsContainer) {\n        return;\n      }\n    }\n    elem.appendChild(label);\n  }\n  renderFieldLabel(elem, label, errorsContainer, isSuccess) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    if (!isSuccess) {\n      const renderedInErrorsContainer = this.renderErrorsContainer(label, errorsContainer);\n      if (renderedInErrorsContainer) {\n        return;\n      }\n    }\n    if (elem.type === \"checkbox\" || elem.type === \"radio\") {\n      const labelElem = document.querySelector(`label[for=\"${elem.getAttribute(\"id\")}\"]`);\n      if (((_b = (_a = elem.parentElement) == null ? void 0 : _a.tagName) == null ? void 0 : _b.toLowerCase()) === \"label\") {\n        (_d = (_c = elem.parentElement) == null ? void 0 : _c.parentElement) == null ? void 0 : _d.appendChild(label);\n      } else if (labelElem) {\n        (_e = labelElem.parentElement) == null ? void 0 : _e.appendChild(label);\n      } else {\n        (_f = elem.parentElement) == null ? void 0 : _f.appendChild(label);\n      }\n    } else {\n      (_g = elem.parentElement) == null ? void 0 : _g.appendChild(label);\n    }\n  }\n  showLabels(fields, isError) {\n    Object.keys(fields).forEach((fieldName, i) => {\n      const error = fields[fieldName];\n      const field = this.fields[fieldName];\n      field.isValid = !isError;\n      this.clearFieldStyle(fieldName);\n      this.clearFieldLabel(fieldName);\n      this.renderFieldError(fieldName, error);\n      if (i === 0 && this.globalConfig.focusInvalidField) {\n        setTimeout(() => field.elem.focus(), 0);\n      }\n    });\n  }\n  showErrors(fields) {\n    if (typeof fields !== \"object\") {\n      throw Error(\"[showErrors]: Errors should be an object with key: value format\");\n    }\n    this.showLabels(fields, true);\n  }\n  showSuccessLabels(fields) {\n    if (typeof fields !== \"object\") {\n      throw Error(\"[showSuccessLabels]: Labels should be an object with key: value format\");\n    }\n    this.showLabels(fields, false);\n  }\n  renderFieldError(fieldName, message) {\n    var _a, _b, _c, _d, _e, _f;\n    const field = this.fields[fieldName];\n    if (field.isValid) {\n      if (!field.asyncCheckPending) {\n        const successLabel = this.createSuccessLabelElem(fieldName, message !== void 0 ? message : field.successMessage, field.config);\n        if (successLabel) {\n          this.renderFieldLabel(field.elem, successLabel, (_a = field.config) == null ? void 0 : _a.errorsContainer, true);\n        }\n        field.elem.classList.add(...getClassList(((_b = field.config) == null ? void 0 : _b.successFieldCssClass) || this.globalConfig.successFieldCssClass));\n      }\n      return;\n    }\n    this.isValid = false;\n    field.elem.classList.add(...getClassList(((_c = field.config) == null ? void 0 : _c.errorFieldCssClass) || this.globalConfig.errorFieldCssClass));\n    const errorLabel = this.createErrorLabelElem(fieldName, message !== void 0 ? message : field.errorMessage, field.config);\n    this.renderFieldLabel(field.elem, errorLabel, (_d = field.config) == null ? void 0 : _d.errorsContainer);\n    if (this.isTooltip()) {\n      this.tooltips.push(this.renderTooltip(field.elem, errorLabel, (_f = (_e = field.config) == null ? void 0 : _e.tooltip) == null ? void 0 : _f.position));\n    }\n  }\n  renderErrors(forceRevalidation = false) {\n    var _a, _b, _c, _d;\n    if (!this.isSubmitted && !forceRevalidation) {\n      return;\n    }\n    this.clearErrors();\n    this.isValid = true;\n    for (const groupName in this.groupFields) {\n      const group = this.groupFields[groupName];\n      if (group.isValid) {\n        group.elems.forEach((elem) => {\n          var _a2, _b2;\n          Object.assign(elem.style, ((_a2 = group.config) == null ? void 0 : _a2.successFieldStyle) || this.globalConfig.successFieldStyle);\n          elem.classList.add(...getClassList(((_b2 = group.config) == null ? void 0 : _b2.successFieldCssClass) || this.globalConfig.successFieldCssClass));\n        });\n        const successLabel = this.createSuccessLabelElem(groupName, group.successMessage, group.config);\n        if (successLabel) {\n          this.renderGroupLabel(group.groupElem, successLabel, (_a = group.config) == null ? void 0 : _a.errorsContainer, true);\n        }\n        continue;\n      }\n      this.isValid = false;\n      group.elems.forEach((elem) => {\n        var _a2, _b2;\n        Object.assign(elem.style, ((_a2 = group.config) == null ? void 0 : _a2.errorFieldStyle) || this.globalConfig.errorFieldStyle);\n        elem.classList.add(...getClassList(((_b2 = group.config) == null ? void 0 : _b2.errorFieldCssClass) || this.globalConfig.errorFieldCssClass));\n      });\n      const errorLabel = this.createErrorLabelElem(groupName, group.errorMessage, group.config);\n      this.renderGroupLabel(group.groupElem, errorLabel, (_b = group.config) == null ? void 0 : _b.errorsContainer);\n      if (this.isTooltip()) {\n        this.tooltips.push(this.renderTooltip(group.groupElem, errorLabel, (_d = (_c = group.config) == null ? void 0 : _c.tooltip) == null ? void 0 : _d.position));\n      }\n    }\n    for (const fieldName in this.fields) {\n      this.renderFieldError(fieldName);\n    }\n  }\n  destroy() {\n    this.eventListeners.forEach((event) => {\n      this.removeListener(event.type, event.elem, event.func);\n    });\n    Object.keys(this.customStyleTags).forEach((key) => {\n      this.customStyleTags[key].remove();\n    });\n    this.clearErrors();\n    if (this.globalConfig.lockForm) {\n      this.unlockForm();\n    }\n  }\n  refresh() {\n    this.destroy();\n    if (!this.form) {\n      console.error(\"Cannot initialize the library! Form is not defined\");\n    } else {\n      this.initialize(this.form, this.globalConfig);\n      Object.keys(this.fields).forEach((key) => {\n        this.addField(key, [...this.fields[key].rules], this.fields[key].config);\n      });\n    }\n  }\n  setCurrentLocale(locale) {\n    if (typeof locale !== \"string\" && locale !== void 0) {\n      console.error(\"Current locale should be a string\");\n      return;\n    }\n    this.currentLocale = locale;\n    if (this.isSubmitted) {\n      this.validate();\n    }\n  }\n  onSuccess(callback) {\n    this.onSuccessCallback = callback;\n    return this;\n  }\n  onFail(callback) {\n    this.onFailCallback = callback;\n    return this;\n  }\n}\nexport { JustValidate as default };\n","export {determineTestTemplate, getDecisionTaker, getMaskTemplate, getPlaceholder, getTest, getTests, getTestTemplate};\n\nfunction getLocator(tst, align) { //need to align the locators to be correct\n\tvar locator = (tst.alternation != undefined ? tst.mloc[getDecisionTaker(tst)] : tst.locator).join(\"\");\n\tif (locator !== \"\") while (locator.length < align) locator += \"0\";\n\treturn locator;\n}\n\nfunction getDecisionTaker(tst) {\n\tvar decisionTaker = tst.locator[tst.alternation];\n\tif (typeof decisionTaker == \"string\" && decisionTaker.length > 0) { //no decision taken ~ take first one as decider\n\t\tdecisionTaker = decisionTaker.split(\",\")[0];\n\t}\n\treturn decisionTaker !== undefined ? decisionTaker.toString() : \"\";\n}\n\n//tobe put on prototype?\nfunction getPlaceholder(pos, test, returnPL) {\n\tconst inputmask = this,\n\t\topts = this.opts,\n\t\tmaskset = this.maskset;\n\n\ttest = test || getTest.call(inputmask, pos).match;\n\tif (test.placeholder !== undefined || returnPL === true) {\n\t\treturn typeof test.placeholder === \"function\" ? test.placeholder(opts) : test.placeholder;\n\t} else if (test.static === true) {\n\t\tif (pos > -1 && maskset.validPositions[pos] === undefined) {\n\t\t\tvar tests = getTests.call(inputmask, pos),\n\t\t\t\tstaticAlternations = [],\n\t\t\t\tprevTest;\n\t\t\tif (tests.length > 1 + (tests[tests.length - 1].match.def === \"\" ? 1 : 0)) {\n\t\t\t\tfor (var i = 0; i < tests.length; i++) {\n\t\t\t\t\tif (tests[i].match.def !== \"\" && tests[i].match.optionality !== true && tests[i].match.optionalQuantifier !== true &&\n\t\t\t\t\t\t(tests[i].match.static === true || (prevTest === undefined || tests[i].match.fn.test(prevTest.match.def, maskset, pos, true, opts) !== false))) {\n\t\t\t\t\t\tstaticAlternations.push(tests[i]);\n\t\t\t\t\t\tif (tests[i].match.static === true) prevTest = tests[i];\n\t\t\t\t\t\tif (staticAlternations.length > 1) {\n\t\t\t\t\t\t\tif (/[0-9a-bA-Z]/.test(staticAlternations[0].match.def)) {\n\t\t\t\t\t\t\t\treturn opts.placeholder.charAt(pos % opts.placeholder.length);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn test.def;\n\t}\n\n\treturn opts.placeholder.charAt(pos % opts.placeholder.length);\n}\n\n//tobe put on prototype?\nfunction getMaskTemplate(baseOnInput, minimalPos, includeMode, noJit, clearOptionalTail) {\n\t//includeMode true => input, undefined => placeholder, false => mask\n\n\tvar inputmask = this,\n\t\topts = this.opts,\n\t\tmaskset = this.maskset;\n\n\n\tvar greedy = opts.greedy;\n\tif (clearOptionalTail) opts.greedy = false;\n\tminimalPos = minimalPos || 0;\n\tvar maskTemplate = [],\n\t\tndxIntlzr, pos = 0,\n\t\ttest, testPos, jitRenderStatic;\n\tdo {\n\t\tif (baseOnInput === true && maskset.validPositions[pos]) {\n\t\t\ttestPos = (clearOptionalTail && maskset.validPositions[pos].match.optionality === true\n\t\t\t\t&& maskset.validPositions[pos + 1] === undefined\n\t\t\t\t&& (maskset.validPositions[pos].generatedInput === true || (maskset.validPositions[pos].input == opts.skipOptionalPartCharacter && pos > 0)))\n\t\t\t\t? determineTestTemplate.call(inputmask, pos, getTests.call(inputmask, pos, ndxIntlzr, pos - 1))\n\t\t\t\t: maskset.validPositions[pos];\n\t\t\ttest = testPos.match;\n\t\t\tndxIntlzr = testPos.locator.slice();\n\t\t\tmaskTemplate.push(includeMode === true ? testPos.input : includeMode === false ? test.nativeDef : getPlaceholder.call(inputmask, pos, test));\n\t\t} else {\n\t\t\ttestPos = getTestTemplate.call(inputmask, pos, ndxIntlzr, pos - 1);\n\t\t\ttest = testPos.match;\n\t\t\tndxIntlzr = testPos.locator.slice();\n\t\t\tvar jitMasking = noJit === true ? false : (opts.jitMasking !== false ? opts.jitMasking : test.jit);\n\t\t\t//check for groupSeparator is a hack for the numerics as we don't want the render of the groupSeparator beforehand\n\t\t\tjitRenderStatic = (jitRenderStatic && test.static && test.def !== opts.groupSeparator && test.fn === null) || (maskset.validPositions[pos - 1] && test.static && test.def !== opts.groupSeparator && test.fn === null);\n\t\t\tif (jitRenderStatic || jitMasking === false || jitMasking === undefined /*|| pos < lvp*/ || (typeof jitMasking === \"number\" && isFinite(jitMasking) && jitMasking > pos)) {\n\t\t\t\tmaskTemplate.push(includeMode === false ? test.nativeDef : getPlaceholder.call(inputmask, pos, test));\n\t\t\t} else {\n\t\t\t\tjitRenderStatic = false;\n\t\t\t}\n\t\t}\n\n\t\tpos++;\n\t} while ((inputmask.maxLength === undefined || pos < inputmask.maxLength) && (test.static !== true || test.def !== \"\") || minimalPos > pos);\n\tif (maskTemplate[maskTemplate.length - 1] === \"\") {\n\t\tmaskTemplate.pop(); //drop the last one which is empty\n\t}\n\tif (includeMode !== false || //do not alter the masklength when just retrieving the maskdefinition\n\t\tmaskset.maskLength === undefined) //just make sure the maskLength gets initialized in all cases (needed for isValid)\n\t{\n\t\tmaskset.maskLength = pos - 1;\n\t}\n\n\topts.greedy = greedy;\n\treturn maskTemplate;\n}\n\n//tobe put on prototype?\nfunction getTestTemplate(pos, ndxIntlzr, tstPs) {\n\tvar inputmask = this,\n\t\tmaskset = this.maskset;\n\n\treturn maskset.validPositions[pos] || determineTestTemplate.call(inputmask, pos, getTests.call(inputmask, pos, ndxIntlzr ? ndxIntlzr.slice() : ndxIntlzr, tstPs));\n}\n\n//tobe put on prototype?\nfunction determineTestTemplate(pos, tests) {\n\tvar inputmask = this,\n\t\topts = this.opts;\n\n\tpos = pos > 0 ? pos - 1 : 0;\n\tvar altTest = getTest.call(inputmask, pos), targetLocator = getLocator(altTest), tstLocator, closest, bestMatch;\n\tfor (var ndx = 0; ndx < tests.length; ndx++) { //find best matching\n\t\tvar tst = tests[ndx];\n\t\ttstLocator = getLocator(tst, targetLocator.length);\n\t\tvar distance = Math.abs(tstLocator - targetLocator);\n\t\tif (closest === undefined\n\t\t\t|| (tstLocator !== \"\" && distance < closest)\n\t\t\t|| (bestMatch && !opts.greedy && bestMatch.match.optionality && bestMatch.match.newBlockMarker === \"master\" && (!tst.match.optionality || !tst.match.newBlockMarker))\n\t\t\t|| (bestMatch && bestMatch.match.optionalQuantifier && !tst.match.optionalQuantifier)) {\n\t\t\tclosest = distance;\n\t\t\tbestMatch = tst;\n\t\t}\n\t}\n\n\treturn bestMatch;\n}\n\n//tobe put on prototype?\nfunction getTest(pos, tests) {\n\tvar inputmask = this,\n\t\tmaskset = this.maskset;\n\n\tif (maskset.validPositions[pos]) {\n\t\treturn maskset.validPositions[pos];\n\t}\n\treturn (tests || getTests.call(inputmask, pos))[0];\n}\n\n//tobe put on prototype?\nfunction getTests(pos, ndxIntlzr, tstPs) {\n\tvar inputmask = this,\n\t\t$ = this.dependencyLib,\n\t\tmaskset = this.maskset,\n\t\topts = this.opts,\n\t\tel = this.el,\n\t\tmaskTokens = maskset.maskToken,\n\t\ttestPos = ndxIntlzr ? tstPs : 0,\n\t\tndxInitializer = ndxIntlzr ? ndxIntlzr.slice() : [0],\n\t\tmatches = [],\n\t\tinsertStop = false,\n\t\tlatestMatch,\n\t\tcacheDependency = ndxIntlzr ? ndxIntlzr.join(\"\") : \"\";\n\n\tfunction resolveTestFromToken(maskToken, ndxInitializer, loopNdx, quantifierRecurse) { //ndxInitializer contains a set of indexes to speedup searches in the mtokens\n\t\tfunction handleMatch(match, loopNdx, quantifierRecurse) {\n\t\t\tfunction isFirstMatch(latestMatch, tokenGroup) {\n\t\t\t\tvar firstMatch = tokenGroup.matches.indexOf(latestMatch) === 0;\n\t\t\t\tif (!firstMatch) {\n\t\t\t\t\ttokenGroup.matches.every(function (match, ndx) {\n\t\t\t\t\t\tif (match.isQuantifier === true) {\n\t\t\t\t\t\t\tfirstMatch = isFirstMatch(latestMatch, tokenGroup.matches[ndx - 1]);\n\t\t\t\t\t\t} else if (Object.prototype.hasOwnProperty.call(match, \"matches\")) firstMatch = isFirstMatch(latestMatch, match);\n\t\t\t\t\t\tif (firstMatch) return false;\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn firstMatch;\n\t\t\t}\n\n\t\t\tfunction resolveNdxInitializer(pos, alternateNdx, targetAlternation) {\n\t\t\t\tvar bestMatch, indexPos;\n\n\t\t\t\tif (maskset.tests[pos] || maskset.validPositions[pos]) {\n\t\t\t\t\t(maskset.tests[pos] || [maskset.validPositions[pos]]).every(function (lmnt, ndx) {\n\t\t\t\t\t\tif (lmnt.mloc[alternateNdx]) {\n\t\t\t\t\t\t\tbestMatch = lmnt;\n\t\t\t\t\t\t\treturn false; //break\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar alternation = targetAlternation !== undefined ? targetAlternation : lmnt.alternation,\n\t\t\t\t\t\t\tndxPos = lmnt.locator[alternation] !== undefined ? lmnt.locator[alternation].toString().indexOf(alternateNdx) : -1;\n\t\t\t\t\t\tif ((indexPos === undefined || ndxPos < indexPos) && ndxPos !== -1) {\n\t\t\t\t\t\t\tbestMatch = lmnt;\n\t\t\t\t\t\t\tindexPos = ndxPos;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (bestMatch) {\n\t\t\t\t\tvar bestMatchAltIndex = bestMatch.locator[bestMatch.alternation];\n\t\t\t\t\tvar locator = bestMatch.mloc[alternateNdx] || bestMatch.mloc[bestMatchAltIndex] || bestMatch.locator;\n\t\t\t\t\treturn locator.slice((targetAlternation !== undefined ? targetAlternation : bestMatch.alternation) + 1);\n\t\t\t\t} else {\n\t\t\t\t\treturn targetAlternation !== undefined ? resolveNdxInitializer(pos, alternateNdx) : undefined;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction isSubsetOf(source, target) {\n\t\t\t\tfunction expand(pattern) {\n\t\t\t\t\tvar expanded = [], start = -1, end;\n\t\t\t\t\tfor (var i = 0, l = pattern.length; i < l; i++) {\n\t\t\t\t\t\tif (pattern.charAt(i) === \"-\") {\n\t\t\t\t\t\t\tend = pattern.charCodeAt(i + 1);\n\t\t\t\t\t\t\twhile (++start < end) expanded.push(String.fromCharCode(start));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstart = pattern.charCodeAt(i);\n\t\t\t\t\t\t\texpanded.push(pattern.charAt(i));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn expanded.join(\"\");\n\t\t\t\t}\n\n\t\t\t\tif (source.match.def === target.match.nativeDef) return true;\n\t\t\t\tif ((opts.regex || (source.match.fn instanceof RegExp && target.match.fn instanceof RegExp)) && source.match.static !== true && target.match.static !== true) { //is regex a subset\n\t\t\t\t\treturn expand(target.match.fn.toString().replace(/[[\\]/]/g, \"\")).indexOf(expand(source.match.fn.toString().replace(/[[\\]/]/g, \"\"))) !== -1;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfunction staticCanMatchDefinition(source, target) {\n\t\t\t\treturn source.match.static === true && target.match.static !== true ? target.match.fn.test(source.match.def, maskset, pos, false, opts, false) : false;\n\t\t\t}\n\n\t\t\t//mergelocators for retrieving the correct locator match when merging\n\t\t\tfunction setMergeLocators(targetMatch, altMatch) {\n\t\t\t\tvar alternationNdx = targetMatch.alternation,\n\t\t\t\t\tshouldMerge = altMatch === undefined || (alternationNdx === altMatch.alternation &&\n\t\t\t\t\t\ttargetMatch.locator[alternationNdx].toString().indexOf(altMatch.locator[alternationNdx]) === -1);\n\t\t\t\tif (!shouldMerge && alternationNdx > altMatch.alternation) {\n\t\t\t\t\tfor (var i = altMatch.alternation; i < alternationNdx; i++) {\n\t\t\t\t\t\tif (targetMatch.locator[i] !== altMatch.locator[i]) {\n\t\t\t\t\t\t\talternationNdx = i;\n\t\t\t\t\t\t\tshouldMerge = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (shouldMerge) {\n\t\t\t\t\ttargetMatch.mloc = targetMatch.mloc || {};\n\t\t\t\t\tvar locNdx = targetMatch.locator[alternationNdx];\n\t\t\t\t\tif (locNdx === undefined) {\n\t\t\t\t\t\ttargetMatch.alternation = undefined;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (typeof locNdx === \"string\") locNdx = locNdx.split(\",\")[0];\n\t\t\t\t\t\tif (targetMatch.mloc[locNdx] === undefined) targetMatch.mloc[locNdx] = targetMatch.locator.slice();\n\t\t\t\t\t\tif (altMatch !== undefined) {\n\t\t\t\t\t\t\tfor (var ndx in altMatch.mloc) {\n\t\t\t\t\t\t\t\tif (typeof ndx === \"string\") ndx = ndx.split(\",\")[0];\n\t\t\t\t\t\t\t\tif (targetMatch.mloc[ndx] === undefined) targetMatch.mloc[ndx] = altMatch.mloc[ndx];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttargetMatch.locator[alternationNdx] = Object.keys(targetMatch.mloc).join(\",\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfunction isSameLevel(targetMatch, altMatch) {\n\t\t\t\tif (targetMatch.locator.length !== altMatch.locator.length) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tfor (let locNdx = targetMatch.alternation + 1; locNdx < targetMatch.locator.length; locNdx++) {\n\t\t\t\t\tif (targetMatch.locator[locNdx] !== altMatch.locator[locNdx]) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (testPos > (pos + opts._maxTestPos)) {\n\t\t\t\tthrow \"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. \" + maskset.mask;\n\t\t\t}\n\t\t\tif (testPos === pos && match.matches === undefined) {\n\t\t\t\tmatches.push({\n\t\t\t\t\t\"match\": match,\n\t\t\t\t\t\"locator\": loopNdx.reverse(),\n\t\t\t\t\t\"cd\": cacheDependency,\n\t\t\t\t\t\"mloc\": {}\n\t\t\t\t});\n\t\t\t\treturn true;\n\t\t\t} else if (match.matches !== undefined) {\n\t\t\t\tif (match.isGroup && quantifierRecurse !== match) { //when a group pass along to the quantifier\n\t\t\t\t\tmatch = handleMatch(maskToken.matches[maskToken.matches.indexOf(match) + 1], loopNdx, quantifierRecurse);\n\t\t\t\t\tif (match) return true;\n\t\t\t\t} else if (match.isOptional) {\n\t\t\t\t\tvar optionalToken = match, mtchsNdx = matches.length;\n\t\t\t\t\tmatch = resolveTestFromToken(match, ndxInitializer, loopNdx, quantifierRecurse);\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\t//mark optionality in matches\n\t\t\t\t\t\tmatches.forEach(function (mtch, ndx) {\n\t\t\t\t\t\t\tif (ndx >= mtchsNdx) {\n\t\t\t\t\t\t\t\tmtch.match.optionality = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tlatestMatch = matches[matches.length - 1].match;\n\t\t\t\t\t\tif (quantifierRecurse === undefined && isFirstMatch(latestMatch, optionalToken)) { //prevent loop see #698\n\t\t\t\t\t\t\tinsertStop = true; //insert a stop\n\t\t\t\t\t\t\ttestPos = pos; //match the position after the group\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else if (match.isAlternator) {\n\t\t\t\t\tvar alternateToken = match,\n\t\t\t\t\t\tmalternateMatches = [],\n\t\t\t\t\t\tmaltMatches,\n\t\t\t\t\t\tcurrentMatches = matches.slice(),\n\t\t\t\t\t\tloopNdxCnt = loopNdx.length;\n\t\t\t\t\tvar altIndex = ndxInitializer.length > 0 ? ndxInitializer.shift() : -1;\n\t\t\t\t\tif (altIndex === -1 || typeof altIndex === \"string\") {\n\t\t\t\t\t\tvar currentPos = testPos,\n\t\t\t\t\t\t\tndxInitializerClone = ndxInitializer.slice(),\n\t\t\t\t\t\t\taltIndexArr = [],\n\t\t\t\t\t\t\tamndx;\n\t\t\t\t\t\tif (typeof altIndex == \"string\") {\n\t\t\t\t\t\t\taltIndexArr = altIndex.split(\",\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (amndx = 0; amndx < alternateToken.matches.length; amndx++) {\n\t\t\t\t\t\t\t\taltIndexArr.push(amndx.toString());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (maskset.excludes[pos] !== undefined) {\n\t\t\t\t\t\t\tvar altIndexArrClone = altIndexArr.slice();\n\t\t\t\t\t\t\tfor (var i = 0, exl = maskset.excludes[pos].length; i < exl; i++) {\n\t\t\t\t\t\t\t\tvar excludeSet = maskset.excludes[pos][i].toString().split(\":\");\n\t\t\t\t\t\t\t\tif (loopNdx.length == excludeSet[1]) {\n\t\t\t\t\t\t\t\t\taltIndexArr.splice(altIndexArr.indexOf(excludeSet[0]), 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (altIndexArr.length === 0) { //fully alternated => reset\n\t\t\t\t\t\t\t\tdelete maskset.excludes[pos];\n\t\t\t\t\t\t\t\taltIndexArr = altIndexArrClone;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (opts.keepStatic === true || (isFinite(parseInt(opts.keepStatic)) && currentPos >= opts.keepStatic)) altIndexArr = altIndexArr.slice(0, 1);\n\t\t\t\t\t\tvar unMatchedAlternation = false;\n\t\t\t\t\t\tfor (var ndx = 0; ndx < altIndexArr.length; ndx++) {\n\t\t\t\t\t\t\tamndx = parseInt(altIndexArr[ndx]);\n\t\t\t\t\t\t\tmatches = [];\n\t\t\t\t\t\t\t//set the correct ndxInitializer\n\t\t\t\t\t\t\tndxInitializer = typeof altIndex === \"string\" ? resolveNdxInitializer(testPos, amndx, loopNdxCnt) || ndxInitializerClone.slice() : ndxInitializerClone.slice();\n\t\t\t\t\t\t\tif (alternateToken.matches[amndx] && handleMatch(alternateToken.matches[amndx], [amndx].concat(loopNdx), quantifierRecurse)) {\n\t\t\t\t\t\t\t\tmatch = true;\n\t\t\t\t\t\t\t} else if (ndx === 0) {\n\t\t\t\t\t\t\t\tunMatchedAlternation = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tmaltMatches = matches.slice();\n\t\t\t\t\t\t\ttestPos = currentPos;\n\t\t\t\t\t\t\tmatches = [];\n\n\t\t\t\t\t\t\t//fuzzy merge matches\n\t\t\t\t\t\t\tfor (var ndx1 = 0; ndx1 < maltMatches.length; ndx1++) {\n\t\t\t\t\t\t\t\tvar altMatch = maltMatches[ndx1],\n\t\t\t\t\t\t\t\t\tdropMatch = false;\n\t\t\t\t\t\t\t\taltMatch.match.jit = altMatch.match.jit || unMatchedAlternation; //mark jit when there are unmatched alternations  ex: mask: \"(a|aa)\"\n\t\t\t\t\t\t\t\taltMatch.alternation = altMatch.alternation || loopNdxCnt;\n\t\t\t\t\t\t\t\tsetMergeLocators(altMatch);\n\t\t\t\t\t\t\t\tfor (var ndx2 = 0; ndx2 < malternateMatches.length; ndx2++) {\n\t\t\t\t\t\t\t\t\tvar altMatch2 = malternateMatches[ndx2];\n\t\t\t\t\t\t\t\t\tif (typeof altIndex !== \"string\" || (altMatch.alternation !== undefined && altIndexArr.includes(altMatch.locator[altMatch.alternation].toString()))) {\n\t\t\t\t\t\t\t\t\t\tif (altMatch.match.nativeDef === altMatch2.match.nativeDef) {\n\t\t\t\t\t\t\t\t\t\t\tdropMatch = true;\n\t\t\t\t\t\t\t\t\t\t\tsetMergeLocators(altMatch2, altMatch);\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t} else if (isSubsetOf(altMatch, altMatch2)) {\n\t\t\t\t\t\t\t\t\t\t\tif (setMergeLocators(altMatch, altMatch2)) {\n\t\t\t\t\t\t\t\t\t\t\t\tdropMatch = true;\n\t\t\t\t\t\t\t\t\t\t\t\tmalternateMatches.splice(malternateMatches.indexOf(altMatch2), 0, altMatch);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t} else if (isSubsetOf(altMatch2, altMatch)) {\n\t\t\t\t\t\t\t\t\t\t\tsetMergeLocators(altMatch2, altMatch);\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t} else if (staticCanMatchDefinition(altMatch, altMatch2)) {\n\t\t\t\t\t\t\t\t\t\t\tif (!isSameLevel(altMatch, altMatch2) && el.inputmask.userOptions.keepStatic === undefined) {\n\t\t\t\t\t\t\t\t\t\t\t\topts.keepStatic = true;\n\t\t\t\t\t\t\t\t\t\t\t} else if (setMergeLocators(altMatch, altMatch2)) {\n\t\t\t\t\t\t\t\t\t\t\t\t//insert match above general match\n\t\t\t\t\t\t\t\t\t\t\t\tdropMatch = true;\n\t\t\t\t\t\t\t\t\t\t\t\tmalternateMatches.splice(malternateMatches.indexOf(altMatch2), 0, altMatch);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!dropMatch) {\n\t\t\t\t\t\t\t\t\tmalternateMatches.push(altMatch);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmatches = currentMatches.concat(malternateMatches);\n\t\t\t\t\t\ttestPos = pos;\n\t\t\t\t\t\tinsertStop = matches.length > 0; //insert a stopelemnt when there is an alternate - needed for non-greedy option\n\t\t\t\t\t\tmatch = malternateMatches.length > 0; //set correct match state\n\n\t\t\t\t\t\t//cloneback\n\t\t\t\t\t\tndxInitializer = ndxInitializerClone.slice();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = handleMatch(alternateToken.matches[altIndex] || maskToken.matches[altIndex], [altIndex].concat(loopNdx), quantifierRecurse);\n\t\t\t\t\t}\n\t\t\t\t\tif (match) return true;\n\t\t\t\t} else if (match.isQuantifier && quantifierRecurse !== maskToken.matches[maskToken.matches.indexOf(match) - 1]) {\n\t\t\t\t\tvar qt = match;\n\t\t\t\t\tfor (var qndx = (ndxInitializer.length > 0) ? ndxInitializer.shift() : 0; (qndx < (isNaN(qt.quantifier.max) ? qndx + 1 : qt.quantifier.max)) && testPos <= pos; qndx++) {\n\t\t\t\t\t\tvar tokenGroup = maskToken.matches[maskToken.matches.indexOf(qt) - 1];\n\t\t\t\t\t\tmatch = handleMatch(tokenGroup, [qndx].concat(loopNdx), tokenGroup); //set the tokenGroup as quantifierRecurse marker\n\t\t\t\t\t\tif (match) {\n\t\t\t\t\t\t\t//get latest match\n\t\t\t\t\t\t\tlatestMatch = matches[matches.length - 1].match;\n\t\t\t\t\t\t\t//mark optionality\n\t\t\t\t\t\t\t//TODO FIX RECURSIVE QUANTIFIERS\n\t\t\t\t\t\t\tlatestMatch.optionalQuantifier = qndx >= qt.quantifier.min;\n\t\t\t\t\t\t\t// console.log(pos + \" \" + qt.quantifier.min + \" \" + latestMatch.optionalQuantifier);\n\t\t\t\t\t\t\tlatestMatch.jit = (qndx || 1) * tokenGroup.matches.indexOf(latestMatch) >= qt.quantifier.jit;\n\t\t\t\t\t\t\tif (latestMatch.optionalQuantifier && isFirstMatch(latestMatch, tokenGroup)) {\n\t\t\t\t\t\t\t\tinsertStop = true;\n\t\t\t\t\t\t\t\ttestPos = pos; //match the position after the group\n\t\t\t\t\t\t\t\tbreak; //stop quantifierloop && search for next possible match\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (latestMatch.jit /*&& !latestMatch.optionalQuantifier*/) {\n\t\t\t\t\t\t\t\t//always set jitOffset, isvalid checks when to apply\n\t\t\t\t\t\t\t\tmaskset.jitOffset[pos] = tokenGroup.matches.length - tokenGroup.matches.indexOf(latestMatch);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tmatch = resolveTestFromToken(match, ndxInitializer, loopNdx, quantifierRecurse);\n\t\t\t\t\tif (match) return true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttestPos++;\n\t\t\t}\n\t\t}\n\n\t\t//the offset is set in the quantifierloop when git masking is used\n\t\tfor (var tndx = (ndxInitializer.length > 0 ? ndxInitializer.shift() : 0); tndx < maskToken.matches.length; tndx++) {\n\t\t\tif (maskToken.matches[tndx].isQuantifier !== true) {\n\t\t\t\tvar match = handleMatch(maskToken.matches[tndx], [tndx].concat(loopNdx), quantifierRecurse);\n\t\t\t\tif (match && testPos === pos) {\n\t\t\t\t\treturn match;\n\t\t\t\t} else if (testPos > pos) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction mergeLocators(pos, tests) {\n\t\tlet locator = [], alternation;\n\t\tif (!Array.isArray(tests)) tests = [tests];\n\n\t\tif (tests.length > 0) {\n\t\t\tif (tests[0].alternation === undefined || opts.keepStatic === true) {\n\t\t\t\tlocator = determineTestTemplate.call(inputmask, pos, tests.slice()).locator.slice();\n\t\t\t\tif (locator.length === 0) locator = tests[0].locator.slice();\n\t\t\t} else {\n\t\t\t\ttests.forEach(function (tst) {\n\t\t\t\t\tif (tst.def !== \"\") {\n\t\t\t\t\t\tif (locator.length === 0) {\n\t\t\t\t\t\t\talternation = tst.alternation;\n\t\t\t\t\t\t\tlocator = tst.locator.slice();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (tst.locator[alternation] && locator[alternation].toString().indexOf(tst.locator[alternation]) === -1) {\n\t\t\t\t\t\t\t\tlocator[alternation] += \",\" + tst.locator[alternation];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn locator;\n\t}\n\n\tif (pos > -1 && (inputmask.maxLength === undefined || pos < inputmask.maxLength)) {\n\t\tif (ndxIntlzr === undefined) { //determine index initializer\n\t\t\tvar previousPos = pos - 1,\n\t\t\t\ttest;\n\t\t\twhile ((test = maskset.validPositions[previousPos] || maskset.tests[previousPos]) === undefined && previousPos > -1) {\n\t\t\t\tpreviousPos--;\n\t\t\t}\n\t\t\tif (test !== undefined && previousPos > -1) {\n\t\t\t\tndxInitializer = mergeLocators(previousPos, test);\n\t\t\t\tcacheDependency = ndxInitializer.join(\"\");\n\t\t\t\ttestPos = previousPos;\n\t\t\t}\n\t\t}\n\t\tif (maskset.tests[pos] && maskset.tests[pos][0].cd === cacheDependency) { //cacheDependency is set on all tests, just check on the first\n\t\t\treturn maskset.tests[pos];\n\t\t}\n\t\tfor (var mtndx = ndxInitializer.shift(); mtndx < maskTokens.length; mtndx++) {\n\t\t\tvar match = resolveTestFromToken(maskTokens[mtndx], ndxInitializer, [mtndx]);\n\t\t\tif ((match && testPos === pos) || testPos > pos) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tif (matches.length === 0 || insertStop) {\n\t\tmatches.push({\n\t\t\tmatch: {\n\t\t\t\tfn: null,\n\t\t\t\tstatic: true,\n\t\t\t\toptionality: false,\n\t\t\t\tcasing: null,\n\t\t\t\tdef: \"\",\n\t\t\t\tplaceholder: \"\"\n\t\t\t},\n\t\t\tlocator: [],\n\t\t\tmloc: {},\n\t\t\tcd: cacheDependency\n\t\t});\n\t}\n\n\tif (ndxIntlzr !== undefined && maskset.tests[pos]) { //prioritize full tests for caching\n\t\treturn $.extend(true, [], matches);\n\t}\n\tmaskset.tests[pos] = $.extend(true, [], matches); //set a clone to prevent overwriting some props\n\t// console.log(pos + \" - \" + JSON.stringify(matches));\n\treturn maskset.tests[pos];\n}\n","const ua = (window.navigator && window.navigator.userAgent) || \"\",\n\tie = (ua.indexOf(\"MSIE \") > 0) || (ua.indexOf(\"Trident/\") > 0),\n\tmobile = \"ontouchstart\" in window, //not entirely correct but will currently do\n\tiemobile = /iemobile/i.test(ua),\n\tiphone = /iphone/i.test(ua) && !iemobile;\n\nexport {ua, ie, mobile, iemobile, iphone};","import keyCode from \"./keycode.json\";\nimport {getMaskTemplate, getPlaceholder, getTest} from \"./validation-tests\";\nimport {\n\tcaret,\n\tdetermineNewCaretPosition,\n\tgetBuffer, getBufferTemplate,\n\tgetLastValidPosition,\n\tisMask,\n\tresetMaskSet,\n\tseekNext\n} from \"./positioning\";\nimport {isComplete, isValid, refreshFromBuffer} from \"./validation\";\nimport {ie} from \"./environment\";\nimport {EventHandlers} from \"./eventhandlers\";\n\n\nexport {applyInputValue, clearOptionalTail, checkVal, HandleNativePlaceholder, unmaskedvalue, writeBuffer};\n\nfunction applyInputValue(input, value) {\n\tconst inputmask = input ? input.inputmask : this, opts = inputmask.opts;\n\n\tinput.inputmask.refreshValue = false;\n\tif (typeof opts.onBeforeMask === \"function\") value = opts.onBeforeMask.call(inputmask, value, opts) || value;\n\tvalue = value.toString().split(\"\");\n\tcheckVal(input, true, false, value);\n\tinputmask.undoValue = getBuffer.call(inputmask).join(\"\");\n\tif ((opts.clearMaskOnLostFocus || opts.clearIncomplete) && input.inputmask._valueGet() === getBufferTemplate.call(inputmask).join(\"\") && getLastValidPosition.call(inputmask) === -1) {\n\t\tinput.inputmask._valueSet(\"\");\n\t}\n}\n\n//todo put on prototype?\nfunction clearOptionalTail(buffer) {\n\tconst inputmask = this;\n\n\tbuffer.length = 0;\n\tvar template = getMaskTemplate.call(inputmask, true, 0, true, undefined, true), lmnt;\n\twhile ((lmnt = template.shift()) !== undefined) buffer.push(lmnt);\n\treturn buffer;\n}\n\nfunction checkVal(input, writeOut, strict, nptvl, initiatingEvent) {\n\tconst inputmask = input ? input.inputmask : this,\n\t\tmaskset = inputmask.maskset,\n\t\topts = inputmask.opts,$ = inputmask.dependencyLib;\n\n\tvar inputValue = nptvl.slice(),\n\t\tcharCodes = \"\",\n\t\tinitialNdx = -1,\n\t\tresult = undefined, skipOptionalPartCharacter = opts.skipOptionalPartCharacter;\n\topts.skipOptionalPartCharacter = \"\"; //see issue #2311\n\n\tfunction isTemplateMatch(ndx, charCodes) {\n\t\tvar targetTemplate = getMaskTemplate.call(inputmask, true, 0).slice(ndx, seekNext.call(inputmask, ndx)).join(\"\").replace(/'/g, \"\"),\n\t\t\tcharCodeNdx = targetTemplate.indexOf(charCodes);\n\t\t//strip spaces from targetTemplate\n\t\twhile (charCodeNdx > 0 && targetTemplate[charCodeNdx - 1] === \" \") charCodeNdx--;\n\n\t\tvar match = charCodeNdx === 0 && !isMask.call(inputmask, ndx)\n\t\t\t&& (getTest.call(inputmask, ndx).match.nativeDef === charCodes.charAt(0)\n\t\t\t\t|| (getTest.call(inputmask, ndx).match.static === true && getTest.call(inputmask, ndx).match.nativeDef === (\"'\" + charCodes.charAt(0)))\n\t\t\t\t|| (getTest.call(inputmask, ndx).match.nativeDef === \" \" && (getTest.call(inputmask, ndx + 1).match.nativeDef === charCodes.charAt(0)\n\t\t\t\t\t|| (getTest.call(inputmask, ndx + 1).match.static === true && getTest.call(inputmask, ndx + 1).match.nativeDef === (\"'\" + charCodes.charAt(0))))));\n\n\t\tif (!match && charCodeNdx > 0 && !isMask.call(inputmask, ndx, false, true)) {\n\t\t\tvar nextPos = seekNext.call(inputmask, ndx);\n\t\t\tif (inputmask.caretPos.begin < nextPos) {\n\t\t\t\tinputmask.caretPos = {begin: nextPos};\n\t\t\t}\n\t\t}\n\t\treturn match;\n\t}\n\n\tresetMaskSet.call(inputmask);\n\tmaskset.tests = {}; //reset tests ~ possible after alternating\n\tinitialNdx = opts.radixPoint ? determineNewCaretPosition.call(inputmask, {begin: 0, end: 0}).begin : 0;\n\tmaskset.p = initialNdx;\n\tinputmask.caretPos = {begin: initialNdx};\n\n\tvar staticMatches = [], prevCaretPos = inputmask.caretPos;\n\tinputValue.forEach( function ( charCode, ndx) {\n\t\tif (charCode !== undefined) { //inputfallback strips some elements out of the inputarray.  $.each logically presents them as undefined\n\t\t\tif (maskset.validPositions[ndx] === undefined && inputValue[ndx] === getPlaceholder.call(inputmask, ndx) && isMask.call(inputmask, ndx, true) &&\n\t\t\t\tisValid.call(inputmask, ndx, inputValue[ndx], true, undefined, undefined, true) === false) {\n\t\t\t\tmaskset.p++;\n\t\t\t} else {\n\t\t\t\tvar keypress = new $.Event(\"_checkval\");\n\t\t\t\tkeypress.which = charCode.toString().charCodeAt(0);\n\t\t\t\tcharCodes += charCode;\n\t\t\t\tvar lvp = getLastValidPosition.call(inputmask, undefined, true);\n\t\t\t\tif (!isTemplateMatch(initialNdx, charCodes)) {\n\t\t\t\t\tresult = EventHandlers.keypressEvent.call(input || inputmask, keypress, true, false, strict, inputmask.caretPos.begin);\n\n\t\t\t\t\tif (result) {\n\t\t\t\t\t\tinitialNdx = inputmask.caretPos.begin + 1;\n\t\t\t\t\t\tcharCodes = \"\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tresult = EventHandlers.keypressEvent.call(input || inputmask, keypress, true, false, strict, lvp + 1);\n\t\t\t\t}\n\t\t\t\tif (result) {\n\t\t\t\t\tif (result.pos !== undefined && maskset.validPositions[result.pos] && maskset.validPositions[result.pos].match.static === true && maskset.validPositions[result.pos].alternation === undefined) {\n\t\t\t\t\t\tstaticMatches.push(result.pos);\n\t\t\t\t\t\tif (!inputmask.isRTL) {\n\t\t\t\t\t\t\tresult.forwardPosition = result.pos + 1;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twriteBuffer.call(inputmask, undefined, getBuffer.call(inputmask), result.forwardPosition, keypress, false);\n\t\t\t\t\tinputmask.caretPos = {begin: result.forwardPosition, end: result.forwardPosition};\n\t\t\t\t\tprevCaretPos = inputmask.caretPos;\n\t\t\t\t} else {\n\t\t\t\t\tinputmask.caretPos = prevCaretPos;\n\t\t\t\t}  //restore the caret position from before the failed validation\n\t\t\t}\n\t\t}\n\t});\n\tif (staticMatches.length > 0) {\n\t\tvar sndx, validPos, nextValid = seekNext.call(inputmask, -1, undefined, false);\n\t\tif ((!isComplete.call(inputmask, getBuffer.call(inputmask)) && staticMatches.length <= nextValid)\n\t\t\t|| (isComplete.call(inputmask, getBuffer.call(inputmask)) && staticMatches.length > 0 && (staticMatches.length !== nextValid && staticMatches[0] === 0))) { //should check if is sequence starting from 0\n\t\t\tvar nextSndx = nextValid;\n\t\t\twhile ((sndx = staticMatches.shift()) !== undefined) {\n\t\t\t\tvar keypress = new $.Event(\"_checkval\");\n\t\t\t\tvalidPos = maskset.validPositions[sndx];\n\t\t\t\tvalidPos.generatedInput = true;\n\t\t\t\tkeypress.which = validPos.input.charCodeAt(0);\n\t\t\t\tresult = EventHandlers.keypressEvent.call(input, keypress, true, false, strict, nextSndx);\n\t\t\t\tif (result && result.pos !== undefined && result.pos !== sndx && maskset.validPositions[result.pos] && maskset.validPositions[result.pos].match.static === true) {\n\t\t\t\t\tstaticMatches.push(result.pos);\n\t\t\t\t} else if (!result) break;\n\t\t\t\tnextSndx++;\n\t\t\t}\n\t\t} else { //mark al statics as generated\n\t\t\t// while ((sndx = staticMatches.pop())) {\n\t\t\t// \tvalidPos = maskset.validPositions[sndx];\n\t\t\t// \tif (validPos) {\n\t\t\t// \t\tvalidPos.generatedInput = true;\n\t\t\t// \t}\n\t\t\t// }\n\t\t}\n\t}\n\tif (writeOut) {\n\t\twriteBuffer.call(inputmask, input, getBuffer.call(inputmask), result ? result.forwardPosition : inputmask.caretPos.begin, initiatingEvent || new $.Event(\"checkval\"), initiatingEvent && initiatingEvent.type === \"input\" && inputmask.undoValue !== getBuffer.call(inputmask).join(\"\"));\n\t\t// for (var vndx in maskset.validPositions) {\n\t\t// \tif (maskset.validPositions[vndx].match.generated !== true) { //only remove non forced generated\n\t\t// \t\tdelete maskset.validPositions[vndx].generatedInput; //clear generated markings ~ consider initializing with a  value as fully typed\n\t\t// \t}\n\t\t// }\n\t}\n\topts.skipOptionalPartCharacter = skipOptionalPartCharacter;\n}\n\nfunction HandleNativePlaceholder(npt, value) {\n\tconst inputmask = npt ? npt.inputmask : this;\n\n\tif (ie) {\n\t\tif (npt.inputmask._valueGet() !== value && (npt.placeholder !== value || npt.placeholder === \"\")) {\n\t\t\tvar buffer = getBuffer.call(inputmask).slice(),\n\t\t\t\tnptValue = npt.inputmask._valueGet();\n\t\t\tif (nptValue !== value) {\n\t\t\t\tvar lvp = getLastValidPosition.call(inputmask);\n\t\t\t\tif (lvp === -1 && nptValue === getBufferTemplate.call(inputmask).join(\"\")) {\n\t\t\t\t\tbuffer = [];\n\t\t\t\t} else if (lvp !== -1) { //clearout optional tail of the mask\n\t\t\t\t\tclearOptionalTail.call(inputmask, buffer);\n\t\t\t\t}\n\t\t\t\twriteBuffer(npt, buffer);\n\t\t\t}\n\t\t}\n\t} else if (npt.placeholder !== value) {\n\t\tnpt.placeholder = value;\n\t\tif (npt.placeholder === \"\") npt.removeAttribute(\"placeholder\");\n\t}\n}\n\nfunction unmaskedvalue(input) {\n\tconst inputmask = input ? input.inputmask : this,\n\t\topts = inputmask.opts,\n\t\tmaskset = inputmask.maskset;\n\n\tif (input) {\n\t\tif (input.inputmask === undefined) {\n\t\t\treturn input.value;\n\t\t}\n\t\tif (input.inputmask && input.inputmask.refreshValue) { //forced refresh from the value form.reset\n\t\t\tapplyInputValue(input, input.inputmask._valueGet(true));\n\t\t}\n\t}\n\tvar umValue = [],\n\t\tvps = maskset.validPositions;\n\tfor (var pndx in vps) {\n\t\tif (vps[pndx] && vps[pndx].match && (vps[pndx].match.static != true || (Array.isArray(maskset.metadata) && vps[pndx].generatedInput !== true))) {\n\t\t\t//only include generated input with multiple masks (check on metadata)\n\t\t\tumValue.push(vps[pndx].input);\n\t\t}\n\t}\n\tvar unmaskedValue = umValue.length === 0 ? \"\" : (inputmask.isRTL ? umValue.reverse() : umValue).join(\"\");\n\tif (typeof opts.onUnMask === \"function\") {\n\t\tvar bufferValue = (inputmask.isRTL ? getBuffer.call(inputmask).slice().reverse() : getBuffer.call(inputmask)).join(\"\");\n\t\tunmaskedValue = opts.onUnMask.call(inputmask, bufferValue, unmaskedValue, opts);\n\t}\n\treturn unmaskedValue;\n}\n\nfunction writeBuffer(input, buffer, caretPos, event, triggerEvents) {\n\tconst inputmask = input ? input.inputmask : this,\n\t\topts = inputmask.opts,\n\t\t$ = inputmask.dependencyLib;\n\n\tif (event && typeof opts.onBeforeWrite === \"function\") {\n\t\t//    buffer = buffer.slice(); //prevent uncontrolled manipulation of the internal buffer\n\t\tvar result = opts.onBeforeWrite.call(inputmask, event, buffer, caretPos, opts);\n\t\tif (result) {\n\t\t\tif (result.refreshFromBuffer) {\n\t\t\t\tvar refresh = result.refreshFromBuffer;\n\t\t\t\trefreshFromBuffer.call(inputmask, refresh === true ? refresh : refresh.start, refresh.end, result.buffer || buffer);\n\t\t\t\tbuffer = getBuffer.call(inputmask, true);\n\t\t\t}\n\t\t\tif (caretPos !== undefined) caretPos = result.caret !== undefined ? result.caret : caretPos;\n\t\t}\n\t}\n\tif (input !== undefined) {\n\t\tinput.inputmask._valueSet(buffer.join(\"\"));\n\t\tif (caretPos !== undefined && (event === undefined || event.type !== \"blur\")) {\n\t\t\tcaret.call(inputmask, input, caretPos, undefined, undefined, (event !== undefined && event.type === \"keydown\" && (event.keyCode === keyCode.DELETE || event.keyCode === keyCode.BACKSPACE)));\n\t\t}\n\t\tif (triggerEvents === true) {\n\t\t\tvar $input = $(input), nptVal = input.inputmask._valueGet();\n\t\t\tinput.inputmask.skipInputEvent = true;\n\t\t\t$input.trigger(\"input\");\n\t\t\tsetTimeout(function () { //timeout needed for IE\n\t\t\t\tif (nptVal === getBufferTemplate.call(inputmask).join(\"\")) {\n\t\t\t\t\t$input.trigger(\"cleared\");\n\t\t\t\t} else if (isComplete.call(inputmask, buffer) === true) {\n\t\t\t\t\t$input.trigger(\"complete\");\n\t\t\t\t}\n\t\t\t}, 0);\n\t\t}\n\t}\n}\n","import {\n\tcaret, determineNewCaretPosition,\n\tgetBuffer, getBufferTemplate,\n\tgetLastValidPosition, isMask,\n\tresetMaskSet,\n\tseekNext,\n\tseekPrevious,\n\ttranslatePosition\n} from \"./positioning\";\nimport keyCode from \"./keycode.json\";\nimport {iemobile, iphone} from \"./environment\";\nimport {handleRemove, isComplete, isValid} from \"./validation\";\nimport {applyInputValue, checkVal, clearOptionalTail, HandleNativePlaceholder, writeBuffer} from \"./inputHandling\";\nimport {getPlaceholder, getTest} from \"./validation-tests\";\n\nexport {EventHandlers};\n\nvar EventHandlers = {\n\tkeydownEvent: function (e) {\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts, $ = inputmask.dependencyLib,\n\t\t\tmaskset = inputmask.maskset;\n\n\t\tvar input = this,\n\t\t\t$input = $(input),\n\t\t\tk = e.keyCode,\n\t\t\tpos = caret.call(inputmask, input);\n\n\t\tvar kdResult = opts.onKeyDown.call(this, e, getBuffer.call(inputmask), pos, opts);\n\t\tif (kdResult !== undefined) return kdResult;\n\n\t\t//backspace, delete, and escape get special treatment\n\t\tif (k === keyCode.BACKSPACE || k === keyCode.DELETE || (iphone && k === keyCode.BACKSPACE_SAFARI) || (e.ctrlKey && k === keyCode.X && !(\"oncut\" in input))) { //backspace/delete\n\t\t\te.preventDefault(); //stop default action but allow propagation\n\t\t\thandleRemove.call(inputmask, input, k, pos);\n\t\t\twriteBuffer(input, getBuffer.call(inputmask, true), maskset.p, e, input.inputmask._valueGet() !== getBuffer.call(inputmask).join(\"\"));\n\t\t} else if (k === keyCode.END || k === keyCode.PAGE_DOWN) { //when END or PAGE_DOWN pressed set position at lastmatch\n\t\t\te.preventDefault();\n\t\t\tvar caretPos = seekNext.call(inputmask, getLastValidPosition.call(inputmask));\n\t\t\tcaret.call(inputmask, input, e.shiftKey ? pos.begin : caretPos, caretPos, true);\n\t\t} else if ((k === keyCode.HOME && !e.shiftKey) || k === keyCode.PAGE_UP) { //Home or page_up\n\t\t\te.preventDefault();\n\t\t\tcaret.call(inputmask, input, 0, e.shiftKey ? pos.begin : 0, true);\n\t\t} else if (((opts.undoOnEscape && k === keyCode.ESCAPE) || (k === 90 && e.ctrlKey)) && e.altKey !== true) { //escape && undo && #762\n\t\t\tcheckVal(input, true, false, inputmask.undoValue.split(\"\"));\n\t\t\t$input.trigger(\"click\");\n\t\t\t// } else if (k === keyCode.INSERT && !(e.shiftKey || e.ctrlKey) && inputmask.userOptions.insertMode === undefined) { //insert\n\t\t\t// \topts.insertMode = !opts.insertMode;\n\t\t\t// \tcaret(input, pos.begin, pos.end);\n\t\t} else if (opts.tabThrough === true && k === keyCode.TAB) {\n\t\t\tif (e.shiftKey === true) {\n\t\t\t\tpos.end = seekPrevious.call(inputmask, pos.end, true);\n\t\t\t\tif (getTest.call(inputmask, pos.end - 1).match.static === true) {\n\t\t\t\t\tpos.end--;\n\t\t\t\t}\n\t\t\t\tpos.begin = seekPrevious.call(inputmask, pos.end, true);\n\t\t\t\tif (pos.begin >= 0 && pos.end > 0) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tcaret.call(inputmask, input, pos.begin, pos.end);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpos.begin = seekNext.call(inputmask, pos.begin, true);\n\t\t\t\tpos.end = seekNext.call(inputmask, pos.begin, true);\n\t\t\t\tif (pos.end < maskset.maskLength) pos.end--;\n\t\t\t\tif (pos.begin <= maskset.maskLength) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tcaret.call(inputmask, input, pos.begin, pos.end);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (!e.shiftKey) {\n\t\t\tif (opts.insertModeVisual && opts.insertMode === false) {\n\t\t\t\tif (k === keyCode.RIGHT) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tvar caretPos = caret.call(inputmask, input);\n\t\t\t\t\t\tcaret.call(inputmask, input, caretPos.begin);\n\t\t\t\t\t}, 0);\n\t\t\t\t} else if (k === keyCode.LEFT) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tvar caretPos = {\n\t\t\t\t\t\t\tbegin: translatePosition.call(inputmask, input.inputmask.caretPos.begin),\n\t\t\t\t\t\t\tend: translatePosition.call(inputmask, input.inputmask.caretPos.end)\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif (inputmask.isRTL) {\n\t\t\t\t\t\t\tcaret.call(inputmask, input, caretPos.begin + (caretPos.begin === maskset.maskLength ? 0 : 1));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcaret.call(inputmask, input, caretPos.begin - (caretPos.begin === 0 ? 0 : 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tinputmask.ignorable = opts.ignorables.includes(k);\n\t},\n\tkeypressEvent: function (e, checkval, writeOut, strict, ndx) {\n\t\tconst inputmask = this.inputmask || this, opts = inputmask.opts, $ = inputmask.dependencyLib,\n\t\t\tmaskset = inputmask.maskset;\n\n\t\tvar input = inputmask.el,\n\t\t\t$input = $(input),\n\t\t\tk = e.which || e.charCode || e.keyCode;\n\n\t\tif (checkval !== true && (!(e.ctrlKey && e.altKey) && (e.ctrlKey || e.metaKey || inputmask.ignorable))) {\n\t\t\tif (k === keyCode.ENTER && inputmask.undoValue !== getBuffer.call(inputmask).join(\"\")) {\n\t\t\t\tinputmask.undoValue = getBuffer.call(inputmask).join(\"\");\n\t\t\t\t// e.preventDefault();\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t$input.trigger(\"change\");\n\t\t\t\t}, 0);\n\t\t\t}\n\t\t\tinputmask.skipInputEvent = true; //skip the input as otherwise the skipped char could be picked up for validation by the inputfallback\n\t\t\treturn true;\n\t\t} else if (k) {\n\t\t\t//special treat the decimal separator\n\t\t\tif ((k === 44 || k === 46) && e.location === 3 && opts.radixPoint !== \"\") k = opts.radixPoint.charCodeAt(0);\n\t\t\tvar pos = checkval ? {\n\t\t\t\t\tbegin: ndx,\n\t\t\t\t\tend: ndx\n\t\t\t\t} : caret.call(inputmask, input),\n\t\t\t\tforwardPosition, c = String.fromCharCode(k);\n\n\t\t\tmaskset.writeOutBuffer = true;\n\t\t\tvar valResult = isValid.call(inputmask, pos, c, strict, undefined, undefined, undefined, checkval);\n\t\t\tif (valResult !== false) {\n\t\t\t\tresetMaskSet.call(inputmask, true);\n\t\t\t\tforwardPosition = valResult.caret !== undefined ? valResult.caret : seekNext.call(inputmask, valResult.pos.begin ? valResult.pos.begin : valResult.pos);\n\t\t\t\tmaskset.p = forwardPosition; //needed for checkval\n\t\t\t}\n\n\t\t\tforwardPosition = ((opts.numericInput && valResult.caret === undefined) ? seekPrevious.call(inputmask, forwardPosition) : forwardPosition);\n\t\t\tif (writeOut !== false) {\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\topts.onKeyValidation.call(input, k, valResult);\n\t\t\t\t}, 0);\n\t\t\t\tif (maskset.writeOutBuffer && valResult !== false) {\n\t\t\t\t\tvar buffer = getBuffer.call(inputmask);\n\t\t\t\t\twriteBuffer(input, buffer, forwardPosition, e, checkval !== true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\te.preventDefault();\n\n\t\t\tif (checkval) {\n\t\t\t\tif (valResult !== false) valResult.forwardPosition = forwardPosition;\n\t\t\t\treturn valResult;\n\t\t\t}\n\t\t}\n\t},\n\tkeyupEvent: function (e) {\n\t\tconst inputmask = this.inputmask;\n\n\t\tif (inputmask.isComposing && (e.keyCode === keyCode.KEY_229 || e.keyCode === keyCode.ENTER)) {\n\t\t\tinputmask.$el.trigger(\"input\");\n\t\t}\n\t},\n\tpasteEvent: function (e) {\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts;\n\n\t\tvar input = this,\n\t\t\tinputValue = inputmask._valueGet(true),\n\t\t\tcaretPos = caret.call(inputmask, input),\n\t\t\ttempValue;\n\n\t\tif (inputmask.isRTL) {\n\t\t\ttempValue = caretPos.end;\n\t\t\tcaretPos.end = caretPos.begin;\n\t\t\tcaretPos.begin = tempValue;\n\t\t}\n\n\t\tvar valueBeforeCaret = inputValue.substr(0, caretPos.begin),\n\t\t\tvalueAfterCaret = inputValue.substr(caretPos.end, inputValue.length);\n\n\t\tif (valueBeforeCaret == (inputmask.isRTL ? getBufferTemplate.call(inputmask).slice().reverse() : getBufferTemplate.call(inputmask)).slice(0, caretPos.begin).join(\"\")) valueBeforeCaret = \"\";\n\t\tif (valueAfterCaret == (inputmask.isRTL ? getBufferTemplate.call(inputmask).slice().reverse() : getBufferTemplate.call(inputmask)).slice(caretPos.end).join(\"\")) valueAfterCaret = \"\";\n\n\t\tif (window.clipboardData && window.clipboardData.getData) { // IE\n\t\t\tinputValue = valueBeforeCaret + window.clipboardData.getData(\"Text\") + valueAfterCaret;\n\t\t} else if (e.clipboardData && e.clipboardData.getData) {\n\t\t\tinputValue = valueBeforeCaret + e.clipboardData.getData(\"text/plain\") + valueAfterCaret;\n\t\t} else {\n\t\t\treturn true;\n\t\t} //allow native paste event as fallback ~ masking will continue by inputfallback\n\n\t\tvar pasteValue = inputValue;\n\t\tif (typeof opts.onBeforePaste === \"function\") {\n\t\t\tpasteValue = opts.onBeforePaste.call(inputmask, inputValue, opts);\n\t\t\tif (pasteValue === false) {\n\t\t\t\treturn e.preventDefault();\n\t\t\t}\n\t\t\tif (!pasteValue) {\n\t\t\t\tpasteValue = inputValue;\n\t\t\t}\n\t\t}\n\t\tcheckVal(input, true, false, pasteValue.toString().split(\"\"), e);\n\t\t// writeBuffer(input, getBuffer(), seekNext(getLastValidPosition()), e, inputmask.undoValue !== getBuffer().join(\"\"));\n\n\t\treturn e.preventDefault();\n\t},\n\tinputFallBackEvent: function (e) { //fallback when keypress is not triggered\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts, $ = inputmask.dependencyLib;\n\n\t\tfunction ieMobileHandler(input, inputValue, caretPos) {\n\t\t\tif (iemobile) { //iemobile just sets the character at the end althought the caret position is correctly set\n\t\t\t\tvar inputChar = inputValue.replace(getBuffer.call(inputmask).join(\"\"), \"\");\n\t\t\t\tif (inputChar.length === 1) {\n\t\t\t\t\tvar iv = inputValue.split(\"\");\n\t\t\t\t\tiv.splice(caretPos.begin, 0, inputChar);\n\t\t\t\t\tinputValue = iv.join(\"\");\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn inputValue;\n\t\t}\n\n\t\tfunction analyseChanges(inputValue, buffer, caretPos) {\n\t\t\tvar frontPart = inputValue.substr(0, caretPos.begin).split(\"\"),\n\t\t\t\tbackPart = inputValue.substr(caretPos.begin).split(\"\"),\n\t\t\t\tfrontBufferPart = buffer.substr(0, caretPos.begin).split(\"\"),\n\t\t\t\tbackBufferPart = buffer.substr(caretPos.begin).split(\"\");\n\n\t\t\tvar fpl = frontPart.length >= frontBufferPart.length ? frontPart.length : frontBufferPart.length,\n\t\t\t\tbpl = backPart.length >= backBufferPart.length ? backPart.length : backBufferPart.length,\n\t\t\t\tbl, i, action = \"\", data = [], marker = \"~\", placeholder;\n\n\t\t\t//align buffers\n\t\t\twhile (frontPart.length < fpl) frontPart.push(marker);\n\t\t\twhile (frontBufferPart.length < fpl) frontBufferPart.push(marker);\n\t\t\twhile (backPart.length < bpl) backPart.unshift(marker);\n\t\t\twhile (backBufferPart.length < bpl) backBufferPart.unshift(marker);\n\n\t\t\tvar newBuffer = frontPart.concat(backPart);\n\t\t\tvar oldBuffer = frontBufferPart.concat(backBufferPart);\n\n\t\t\t// console.log(\"N \" + newBuffer);\n\t\t\t// console.log(\"O \" + oldBuffer);\n\n\t\t\tfor (i = 0, bl = newBuffer.length; i < bl; i++) {\n\t\t\t\tplaceholder = getPlaceholder.call(inputmask, translatePosition.call(inputmask, i));\n\t\t\t\tswitch (action) {\n\t\t\t\t\tcase \"insertText\":\n\t\t\t\t\t\tif (oldBuffer[i - 1] === newBuffer[i] && caretPos.begin == newBuffer.length - 1) {\n\t\t\t\t\t\t\tdata.push(newBuffer[i]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti = bl;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"insertReplacementText\":\n\t\t\t\t\t\tif (newBuffer[i] === marker) { //extend selection\n\t\t\t\t\t\t\tcaretPos.end++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// breakout loop\n\t\t\t\t\t\t\ti = bl;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"deleteContentBackward\":\n\t\t\t\t\t\tif (newBuffer[i] === marker) {\n\t\t\t\t\t\t\tcaretPos.end++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//breakout loop\n\t\t\t\t\t\t\ti = bl;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tif (newBuffer[i] !== oldBuffer[i]) {\n\t\t\t\t\t\t\tif ((newBuffer[i + 1] === marker || newBuffer[i + 1] === placeholder || newBuffer[i + 1] === undefined) && ((oldBuffer[i] === placeholder && oldBuffer[i + 1] === marker) || oldBuffer[i] === marker)) {  //basic insert\n\t\t\t\t\t\t\t\taction = \"insertText\";\n\t\t\t\t\t\t\t\tdata.push(newBuffer[i]);\n\t\t\t\t\t\t\t\tcaretPos.begin--;\n\t\t\t\t\t\t\t\tcaretPos.end--;\n\t\t\t\t\t\t\t} else if (oldBuffer[i + 1] === marker && oldBuffer[i] === newBuffer[i + 1]) { //insert between\n\t\t\t\t\t\t\t\taction = \"insertText\";\n\t\t\t\t\t\t\t\tdata.push(newBuffer[i]);\n\t\t\t\t\t\t\t\tcaretPos.begin--;\n\t\t\t\t\t\t\t\tcaretPos.end--;\n\t\t\t\t\t\t\t} else if (newBuffer[i] !== placeholder && newBuffer[i] !== marker &&\n\t\t\t\t\t\t\t\t(newBuffer[i + 1] === marker || (oldBuffer[i] !== newBuffer[i] && oldBuffer[i + 1] === newBuffer[i + 1] /*single char replacement*/))) { //replace selection\n\t\t\t\t\t\t\t\taction = \"insertReplacementText\";\n\t\t\t\t\t\t\t\tdata.push(newBuffer[i]);\n\t\t\t\t\t\t\t\tcaretPos.begin--;\n\t\t\t\t\t\t\t} else if (newBuffer[i] === marker) {  //delete~backspace\n\t\t\t\t\t\t\t\taction = \"deleteContentBackward\";\n\t\t\t\t\t\t\t\tif (isMask.call(inputmask, translatePosition.call(inputmask, i), true) || oldBuffer[i] === opts.radixPoint) caretPos.end++;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ti = bl;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\taction: action,\n\t\t\t\tdata: data,\n\t\t\t\tcaret: caretPos\n\t\t\t};\n\t\t}\n\n\t\tvar input = this,\n\t\t\tinputValue = input.inputmask._valueGet(true),\n\t\t\tbuffer = (inputmask.isRTL ? getBuffer.call(inputmask).slice().reverse() : getBuffer.call(inputmask)).join(\"\"),\n\t\t\tcaretPos = caret.call(inputmask, input, undefined, undefined, true);\n\n\t\tif (buffer !== inputValue) {\n\t\t\t// inputValue = radixPointHandler(input, inputValue, caretPos);\n\t\t\tinputValue = ieMobileHandler(input, inputValue, caretPos);\n\n\t\t\tvar changes = analyseChanges(inputValue, buffer, caretPos);\n\n\t\t\t// console.log(JSON.stringify(changes));\n\t\t\tif ((input.inputmask.shadowRoot || document).activeElement !== input) {\n\t\t\t\tinput.focus();\n\t\t\t}\n\t\t\twriteBuffer(input, getBuffer.call(inputmask));\n\t\t\tcaret.call(inputmask, input, caretPos.begin, caretPos.end, true);\n\t\t\tswitch (changes.action) {\n\t\t\t\tcase \"insertText\":\n\t\t\t\tcase \"insertReplacementText\":\n\t\t\t\t\tchanges.data.forEach(function (entry, ndx) {\n\t\t\t\t\t\tvar keypress = new $.Event(\"keypress\");\n\t\t\t\t\t\tkeypress.which = entry.charCodeAt(0);\n\t\t\t\t\t\tinputmask.ignorable = false; //make sure ignorable is ignored ;-)\n\t\t\t\t\t\tEventHandlers.keypressEvent.call(input, keypress);\n\t\t\t\t\t});\n\t\t\t\t\tsetTimeout(function () {  //#2195 trigger keyup to help some other plugins to track changes\n\t\t\t\t\t\tinputmask.$el.trigger(\"keyup\");\n\t\t\t\t\t}, 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"deleteContentBackward\":\n\t\t\t\t\tvar keydown = new $.Event(\"keydown\");\n\t\t\t\t\tkeydown.keyCode = keyCode.BACKSPACE;\n\t\t\t\t\tEventHandlers.keydownEvent.call(input, keydown);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tapplyInputValue(input, inputValue);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tcompositionendEvent: function (e) {\n\t\tconst inputmask = this.inputmask;\n\n\t\tinputmask.isComposing = false;\n\t\tinputmask.$el.trigger(\"input\");\n\t},\n\tsetValueEvent: function (e) {\n\t\tconst inputmask = this.inputmask;\n\t\tvar input = this,\n\t\t\tvalue = (e && e.detail) ? e.detail[0] : arguments[1];\n\n\t\tif (value === undefined) {\n\t\t\tvalue = input.inputmask._valueGet(true);\n\t\t}\n\n\t\tapplyInputValue(input, value);\n\n\t\tif ((e.detail && e.detail[1] !== undefined) || arguments[2] !== undefined) {\n\t\t\tcaret.call(inputmask, input, e.detail ? e.detail[1] : arguments[2]);\n\t\t}\n\t}\n\t,\n\tfocusEvent: function (e) {\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts;\n\t\tvar input = this,\n\t\t\tnptValue = input.inputmask._valueGet();\n\n\t\tif (opts.showMaskOnFocus) {\n\t\t\tif (nptValue !== getBuffer.call(inputmask).join(\"\")) {\n\t\t\t\twriteBuffer(input, getBuffer.call(inputmask), seekNext.call(inputmask, getLastValidPosition.call(inputmask)));\n\t\t\t} /*else if (mouseEnter === false) { //only executed on focus without mouseenter\n\t\t\t\t\tcaret(input, seekNext(getLastValidPosition()));\n\t\t\t\t}*/\n\t\t}\n\t\tif (opts.positionCaretOnTab === true && inputmask.mouseEnter === false && (!isComplete.call(inputmask, getBuffer.call(inputmask)) || getLastValidPosition.call(inputmask) === -1)) {\n\t\t\tEventHandlers.clickEvent.apply(input, [e, true]);\n\t\t}\n\t\tinputmask.undoValue = getBuffer.call(inputmask).join(\"\");\n\t},\n\tinvalidEvent: function (e) {\n\t\tthis.inputmask.validationEvent = true;\n\t},\n\tmouseleaveEvent: function () {\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts;\n\n\t\tvar input = this;\n\t\tinputmask.mouseEnter = false;\n\t\tif (opts.clearMaskOnLostFocus && (input.inputmask.shadowRoot || document).activeElement !== input) {\n\t\t\tHandleNativePlaceholder(input, inputmask.originalPlaceholder);\n\t\t}\n\t},\n\tclickEvent: function (e, tabbed) {\n\t\tconst inputmask = this.inputmask;\n\n\t\tvar input = this;\n\t\tif ((input.inputmask.shadowRoot || document).activeElement === input) {\n\t\t\tvar newCaretPosition = determineNewCaretPosition.call(inputmask, caret.call(inputmask, input), tabbed);\n\t\t\tif (newCaretPosition !== undefined) {\n\t\t\t\tcaret.call(inputmask, input, newCaretPosition);\n\t\t\t}\n\t\t}\n\t},\n\tcutEvent: function (e) {\n\t\tconst inputmask = this.inputmask, maskset = inputmask.maskset;\n\n\t\tvar input = this,\n\t\t\tpos = caret.call(inputmask, input);\n\n\t\t//correct clipboardData\n\t\tvar clipboardData = window.clipboardData || e.clipboardData,\n\t\t\tclipData = inputmask.isRTL ? getBuffer.call(inputmask).slice(pos.end, pos.begin) : getBuffer.call(inputmask).slice(pos.begin, pos.end);\n\t\tclipboardData.setData(\"text\", inputmask.isRTL ? clipData.reverse().join(\"\") : clipData.join(\"\"));\n\t\tif (document.execCommand) document.execCommand(\"copy\"); // copy selected content to system clipbaord\n\n\t\thandleRemove.call(inputmask, input, keyCode.DELETE, pos);\n\t\twriteBuffer(input, getBuffer.call(inputmask), maskset.p, e, inputmask.undoValue !== getBuffer.call(inputmask).join(\"\"));\n\t}\n\t,\n\tblurEvent: function (e) {\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts, $ = inputmask.dependencyLib;\n\n\t\tvar $input = $(this),\n\t\t\tinput = this;\n\t\tif (input.inputmask) {\n\t\t\tHandleNativePlaceholder(input, inputmask.originalPlaceholder);\n\t\t\tvar nptValue = input.inputmask._valueGet(),\n\t\t\t\tbuffer = getBuffer.call(inputmask).slice();\n\n\t\t\tif (nptValue !== \"\") {\n\t\t\t\tif (opts.clearMaskOnLostFocus) {\n\t\t\t\t\tif (getLastValidPosition.call(inputmask) === -1 && nptValue === getBufferTemplate.call(inputmask).join(\"\")) {\n\t\t\t\t\t\tbuffer = [];\n\t\t\t\t\t} else { //clearout optional tail of the mask\n\t\t\t\t\t\tclearOptionalTail.call(inputmask, buffer);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isComplete.call(inputmask, buffer) === false) {\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t$input.trigger(\"incomplete\");\n\t\t\t\t\t}, 0);\n\t\t\t\t\tif (opts.clearIncomplete) {\n\t\t\t\t\t\tresetMaskSet.call(inputmask);\n\t\t\t\t\t\tif (opts.clearMaskOnLostFocus) {\n\t\t\t\t\t\t\tbuffer = [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tbuffer = getBufferTemplate.call(inputmask).slice();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\twriteBuffer(input, buffer, undefined, e);\n\t\t\t}\n\n\t\t\tif (inputmask.undoValue !== getBuffer.call(inputmask).join(\"\")) {\n\t\t\t\tinputmask.undoValue = getBuffer.call(inputmask).join(\"\");\n\t\t\t\t$input.trigger(\"change\");\n\t\t\t}\n\t\t}\n\t}\n\t,\n\tmouseenterEvent: function () {\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts;\n\n\t\tvar input = this;\n\t\tinputmask.mouseEnter = true;\n\t\tif ((input.inputmask.shadowRoot || document).activeElement !== input) {\n\t\t\tif (inputmask.originalPlaceholder == undefined && input.placeholder !== inputmask.originalPlaceholder) {\n\t\t\t\tinputmask.originalPlaceholder = input.placeholder;\n\t\t\t}\n\t\t\tif (opts.showMaskOnHover) {\n\t\t\t\tHandleNativePlaceholder(input, (inputmask.isRTL ? getBufferTemplate.call(inputmask).slice().reverse() : getBufferTemplate.call(inputmask)).join(\"\"));\n\t\t\t}\n\t\t}\n\t}\n\t,\n\tsubmitEvent: function () { //trigger change on submit if any\n\t\tconst inputmask = this.inputmask, opts = inputmask.opts;\n\n\t\tif (inputmask.undoValue !== getBuffer.call(inputmask).join(\"\")) {\n\t\t\tinputmask.$el.trigger(\"change\");\n\t\t}\n\t\tif (opts.clearMaskOnLostFocus && getLastValidPosition.call(inputmask) === -1 && inputmask._valueGet && inputmask._valueGet() === getBufferTemplate.call(inputmask).join(\"\")) {\n\t\t\tinputmask._valueSet(\"\"); //clear masktemplete on submit and still has focus\n\t\t}\n\t\tif (opts.clearIncomplete && isComplete.call(inputmask, getBuffer.call(inputmask)) === false) {\n\t\t\tinputmask._valueSet(\"\");\n\t\t}\n\t\tif (opts.removeMaskOnSubmit) {\n\t\t\tinputmask._valueSet(inputmask.unmaskedvalue(), true);\n\t\t\tsetTimeout(function () {\n\t\t\t\twriteBuffer(inputmask.el, getBuffer.call(inputmask));\n\t\t\t}, 0);\n\t\t}\n\t},\n\tresetEvent: function () {\n\t\tconst inputmask = this.inputmask;\n\n\t\tinputmask.refreshValue = true; //indicate a forced refresh when there is a call to the value before leaving the triggering event fn\n\t\tsetTimeout(function () {\n\t\t\tapplyInputValue(inputmask.el, inputmask._valueGet(true));\n\t\t}, 0);\n\t}\n};\n","import {\n\tdetermineTestTemplate,\n\tgetDecisionTaker,\n\tgetPlaceholder,\n\tgetTest,\n\tgetTests,\n\tgetTestTemplate\n} from \"./validation-tests\";\nimport keyCode from \"./keycode.json\";\nimport {\n\tdetermineLastRequiredPosition, determineNewCaretPosition,\n\tgetBuffer,\n\tgetLastValidPosition,\n\tisMask,\n\tresetMaskSet,\n\tseekNext,\n\tseekPrevious\n} from \"./positioning\";\nimport {EventHandlers} from \"./eventhandlers\";\n\nexport {alternate, checkAlternationMatch, isComplete, isValid, refreshFromBuffer, revalidateMask, handleRemove};\n\n//tobe put on prototype?\nfunction alternate(maskPos, c, strict, fromIsValid, rAltPos, selection) { //pos == true => generalize\n\tconst inputmask = this,\n\t\t$ = this.dependencyLib,\n\t\topts = this.opts,\n\t\tmaskset = inputmask.maskset;\n\n\tvar validPsClone = $.extend(true, {}, maskset.validPositions),\n\t\ttstClone = $.extend(true, {}, maskset.tests),\n\t\tlastAlt,\n\t\talternation,\n\t\tisValidRslt = false, returnRslt = false,\n\t\taltPos, prevAltPos, i, validPos,\n\t\tdecisionPos,\n\t\tlAltPos = rAltPos !== undefined ? rAltPos : getLastValidPosition.call(inputmask), nextPos, input, begin, end;\n\n\tif (selection) {\n\t\tbegin = selection.begin;\n\t\tend = selection.end;\n\t\tif (selection.begin > selection.end) {\n\t\t\tbegin = selection.end;\n\t\t\tend = selection.begin;\n\t\t}\n\t}\n\tif (lAltPos === -1 && rAltPos === undefined) { //do not recurse when already paste the beginning\n\t\tlastAlt = 0;\n\t\tprevAltPos = getTest.call(inputmask, lastAlt);\n\t\talternation = prevAltPos.alternation;\n\t} else {\n\t\t//find last modified alternation\n\t\tfor (; lAltPos >= 0; lAltPos--) {\n\t\t\taltPos = maskset.validPositions[lAltPos];\n\t\t\tif (altPos && altPos.alternation !== undefined) {\n\t\t\t\tif (prevAltPos && prevAltPos.locator[altPos.alternation] !== altPos.locator[altPos.alternation]) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlastAlt = lAltPos;\n\t\t\t\talternation = maskset.validPositions[lastAlt].alternation;\n\t\t\t\tprevAltPos = altPos;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (alternation !== undefined) {\n\t\tdecisionPos = parseInt(lastAlt);\n\t\tmaskset.excludes[decisionPos] = maskset.excludes[decisionPos] || [];\n\t\tif (maskPos !== true) { //generalize\n\t\t\tmaskset.excludes[decisionPos].push(getDecisionTaker(prevAltPos) + \":\" + prevAltPos.alternation);\n\t\t}\n\n\t\tvar validInputs = [], resultPos = -1;\n\t\tfor (i = decisionPos; i < getLastValidPosition.call(inputmask, undefined, true) + 1; i++) {\n\t\t\tif (resultPos === -1 && maskPos <= i && c !== undefined) {\n\t\t\t\tvalidInputs.push(c);\n\t\t\t\tresultPos = validInputs.length - 1;\n\t\t\t}\n\t\t\tvalidPos = maskset.validPositions[i];\n\t\t\tif (validPos && validPos.generatedInput !== true && (selection === undefined || (i < begin || i >= end))) {\n\t\t\t\tvalidInputs.push(validPos.input);\n\t\t\t}\n\t\t\tdelete maskset.validPositions[i];\n\t\t}\n\t\tif (resultPos === -1 && c !== undefined) {\n\t\t\tvalidInputs.push(c);\n\t\t\tresultPos = validInputs.length - 1;\n\t\t}\n\n\t\twhile (maskset.excludes[decisionPos] !== undefined && maskset.excludes[decisionPos].length < 10) {\n\t\t\t// maskset.tests[decisionPos] = undefined; //clear decisionPos\n\t\t\tmaskset.tests = {};  //clear all\n\t\t\tresetMaskSet.call(inputmask, true); //clear getbuffer\n\t\t\tisValidRslt = true;\n\t\t\tfor (i = 0; i < validInputs.length; i++) {\n\t\t\t\tnextPos = isValidRslt.caret || (getLastValidPosition.call(inputmask, undefined, true) + 1);\n\t\t\t\tinput = validInputs[i];\n\t\t\t\tif (!(isValidRslt = isValid.call(inputmask, nextPos, input, false, fromIsValid, true))) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (i === resultPos) {\n\t\t\t\t\treturnRslt = isValidRslt;\n\t\t\t\t}\n\t\t\t\tif (maskPos == true && isValidRslt) {  //return validposition on generalise\n\t\t\t\t\treturnRslt = {caretPos: i};\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!isValidRslt) {\n\t\t\t\tresetMaskSet.call(inputmask);\n\t\t\t\tprevAltPos = getTest.call(inputmask, decisionPos);  //get the current decisionPos to exclude ~ needs to be before restoring the initial validation\n\t\t\t\t//reset & revert\n\t\t\t\tmaskset.validPositions = $.extend(true, {}, validPsClone);\n\t\t\t\tmaskset.tests = $.extend(true, {}, tstClone); //refresh tests after possible alternating\n\t\t\t\tif (maskset.excludes[decisionPos]) {\n\t\t\t\t\tvar decisionTaker = getDecisionTaker(prevAltPos);\n\t\t\t\t\tif (maskset.excludes[decisionPos].indexOf(decisionTaker + \":\" + prevAltPos.alternation) !== -1) {\n\t\t\t\t\t\treturnRslt = alternate.call(inputmask, maskPos, c, strict, fromIsValid, decisionPos - 1, selection);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tmaskset.excludes[decisionPos].push(decisionTaker + \":\" + prevAltPos.alternation);\n\t\t\t\t\tfor (i = decisionPos; i < getLastValidPosition.call(inputmask, undefined, true) + 1; i++) delete maskset.validPositions[i];\n\t\t\t\t} else { //latest alternation\n\t\t\t\t\treturnRslt = alternate.call(inputmask, maskPos, c, strict, fromIsValid, decisionPos - 1, selection);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\t//reset alternation excludes\n\tif (!returnRslt || opts.keepStatic !== false) {\n\t\tdelete maskset.excludes[decisionPos];\n\t}\n\treturn returnRslt;\n}\n\nfunction casing(elem, test, pos) {\n\tconst opts = this.opts,\n\t\tmaskset = this.maskset;\n\n\tswitch (opts.casing || test.casing) {\n\t\tcase \"upper\":\n\t\t\telem = elem.toUpperCase();\n\t\t\tbreak;\n\t\tcase \"lower\":\n\t\t\telem = elem.toLowerCase();\n\t\t\tbreak;\n\t\tcase \"title\":\n\t\t\tvar posBefore = maskset.validPositions[pos - 1];\n\t\t\tif (pos === 0 || posBefore && posBefore.input === String.fromCharCode(keyCode.SPACE)) {\n\t\t\t\telem = elem.toUpperCase();\n\t\t\t} else {\n\t\t\t\telem = elem.toLowerCase();\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tif (typeof opts.casing === \"function\") {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\t\targs.push(maskset.validPositions);\n\t\t\t\telem = opts.casing.apply(this, args);\n\t\t\t}\n\t}\n\n\treturn elem;\n}\n\n//tobe put on prototype?\nfunction checkAlternationMatch(altArr1, altArr2, na) {\n\tconst opts = this.opts;\n\n\tvar altArrC = opts.greedy ? altArr2 : altArr2.slice(0, 1),\n\t\tisMatch = false,\n\t\tnaArr = na !== undefined ? na.split(\",\") : [],\n\t\tnaNdx;\n\n\t//remove no alternate indexes from alternation array\n\tfor (var i = 0; i < naArr.length; i++) {\n\t\tif ((naNdx = altArr1.indexOf(naArr[i])) !== -1) {\n\t\t\taltArr1.splice(naNdx, 1);\n\t\t}\n\t}\n\n\tfor (var alndx = 0; alndx < altArr1.length; alndx++) {\n\t\tif (altArrC.includes(altArr1[alndx])) {\n\t\t\tisMatch = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn isMatch;\n}\n\n//tobe put on prototype?\nfunction handleRemove(input, k, pos, strict, fromIsValid) {\n\tconst inputmask = this, maskset = this.maskset, opts = this.opts;\n\n\tif (opts.numericInput || inputmask.isRTL) {\n\t\tif (k === keyCode.BACKSPACE) {\n\t\t\tk = keyCode.DELETE;\n\t\t} else if (k === keyCode.DELETE) {\n\t\t\tk = keyCode.BACKSPACE;\n\t\t}\n\n\t\tif (inputmask.isRTL) {\n\t\t\tvar pend = pos.end;\n\t\t\tpos.end = pos.begin;\n\t\t\tpos.begin = pend;\n\t\t}\n\t}\n\n\tvar lvp = getLastValidPosition.call(inputmask, undefined, true);\n\tif (pos.end >= getBuffer.call(inputmask).length && lvp >= pos.end) { //handle numeric negate symbol offset, due to  dynamic jit masking\n\t\tpos.end = lvp + 1;\n\t}\n\n\tif (k === keyCode.BACKSPACE) {\n\t\tif ((pos.end - pos.begin < 1)) {\n\t\t\tpos.begin = seekPrevious.call(inputmask, pos.begin);\n\t\t}\n\t} else if (k === keyCode.DELETE) {\n\t\tif (pos.begin === pos.end) {\n\t\t\tpos.end = isMask.call(inputmask, pos.end, true, true) ? pos.end + 1 : seekNext.call(inputmask, pos.end) + 1;\n\t\t}\n\t}\n\tvar offset;\n\tif ((offset = revalidateMask.call(inputmask, pos)) !== false) {\n\t\tif (strict !== true && opts.keepStatic !== false || (opts.regex !== null && getTest.call(inputmask, pos.begin).match.def.indexOf(\"|\") !== -1)) { //TODO NEEDS BETTER CHECK WHEN TO ALTERNATE  ~ opts regex isn\"t good enough\n\t\t\tvar result = alternate.call(inputmask, true);\n\t\t\tif (result) {\n\t\t\t\tvar newPos = result.caret !== undefined ? result.caret : (result.pos ? seekNext.call(inputmask, result.pos.begin ? result.pos.begin : result.pos) : getLastValidPosition.call(inputmask, -1, true));\n\t\t\t\tif (k !== keyCode.DELETE || pos.begin > newPos) {\n\t\t\t\t\tpos.begin == newPos;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (strict !== true) {\n\t\t\tmaskset.p = k === keyCode.DELETE ? pos.begin + offset : pos.begin;\n\t\t}\n\t}\n}\n\n//tobe put on prototype?\nfunction isComplete(buffer) { //return true / false / undefined (repeat *)\n\tconst inputmask = this, opts = this.opts, maskset = this.maskset;\n\n\tif (typeof opts.isComplete === \"function\") return opts.isComplete(buffer, opts);\n\tif (opts.repeat === \"*\") return undefined;\n\tvar complete = false,\n\t\tlrp = determineLastRequiredPosition.call(inputmask, true),\n\t\taml = seekPrevious.call(inputmask, lrp.l);\n\n\tif (lrp.def === undefined || lrp.def.newBlockMarker || lrp.def.optionality || lrp.def.optionalQuantifier) {\n\t\tcomplete = true;\n\t\tfor (var i = 0; i <= aml; i++) {\n\t\t\tvar test = getTestTemplate.call(inputmask, i).match;\n\t\t\tif ((test.static !== true && maskset.validPositions[i] === undefined && test.optionality !== true && test.optionalQuantifier !== true) || (test.static === true && buffer[i] !== getPlaceholder.call(inputmask, i, test))) {\n\t\t\t\tcomplete = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn complete;\n}\n\n//tobe put on prototype?\nfunction isValid(pos, c, strict, fromIsValid, fromAlternate, validateOnly, fromCheckval) { //strict true ~ no correction or autofill\n\tconst inputmask = this,\n\t\t$ = this.dependencyLib,\n\t\topts = this.opts,\n\t\tel = inputmask.el,\n\t\tmaskset = inputmask.maskset;\n\n\tfunction isSelection(posObj) {\n\t\treturn inputmask.isRTL ? (posObj.begin - posObj.end) > 1 || ((posObj.begin - posObj.end) === 1) :\n\t\t\t(posObj.end - posObj.begin) > 1 || ((posObj.end - posObj.begin) === 1);\n\t}\n\n\tstrict = strict === true; //always set a value to strict to prevent possible strange behavior in the extensions\n\n\tvar maskPos = pos;\n\tif (pos.begin !== undefined) { //position was a position object - used to handle a delete by typing over a selection\n\t\tmaskPos = inputmask.isRTL ? pos.end : pos.begin;\n\t}\n\n\tfunction processCommandObject(commandObj) {\n\t\tif (commandObj !== undefined) {\n\t\t\tif (commandObj.remove !== undefined) { //remove position(s)\n\t\t\t\tif (!Array.isArray(commandObj.remove)) commandObj.remove = [commandObj.remove];\n\t\t\t\tcommandObj.remove.sort(function (a, b) {\n\t\t\t\t\treturn b.pos - a.pos;\n\t\t\t\t}).forEach(function (lmnt) {\n\t\t\t\t\trevalidateMask.call(inputmask, {begin: lmnt, end: lmnt + 1});\n\t\t\t\t});\n\t\t\t\tcommandObj.remove = undefined;\n\t\t\t}\n\t\t\tif (commandObj.insert !== undefined) { //insert position(s)\n\t\t\t\tif (!Array.isArray(commandObj.insert)) commandObj.insert = [commandObj.insert];\n\t\t\t\tcommandObj.insert.sort(function (a, b) {\n\t\t\t\t\treturn a.pos - b.pos;\n\t\t\t\t}).forEach(function (lmnt) {\n\t\t\t\t\tif (lmnt.c !== \"\") {\n\t\t\t\t\t\tisValid.call(inputmask, lmnt.pos, lmnt.c, lmnt.strict !== undefined ? lmnt.strict : true, lmnt.fromIsValid !== undefined ? lmnt.fromIsValid : fromIsValid);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcommandObj.insert = undefined;\n\t\t\t}\n\n\t\t\tif (commandObj.refreshFromBuffer && commandObj.buffer) {\n\t\t\t\tvar refresh = commandObj.refreshFromBuffer;\n\t\t\t\trefreshFromBuffer.call(inputmask, refresh === true ? refresh : refresh.start, refresh.end, commandObj.buffer);\n\t\t\t\tcommandObj.refreshFromBuffer = undefined;\n\t\t\t}\n\n\t\t\tif (commandObj.rewritePosition !== undefined) {\n\t\t\t\tmaskPos = commandObj.rewritePosition;\n\t\t\t\t// commandObj.rewritePosition = undefined;\n\t\t\t\tcommandObj = true;\n\t\t\t}\n\t\t}\n\t\treturn commandObj;\n\t}\n\n\tfunction _isValid(position, c, strict) {\n\t\tvar rslt = false;\n\n\t\tgetTests.call(inputmask, position).every(function (tst, ndx) {\n\t\t\tvar test = tst.match;\n\t\t\t//make sure the buffer is set and correct\n\t\t\tgetBuffer.call(inputmask, true);\n\t\t\t//return is false or a json object => { pos: ??, c: ??} or true\n\t\t\trslt = test.fn != null ?\n\t\t\t\ttest.fn.test(c, maskset, position, strict, opts, isSelection(pos)) : (c === test.def || c === opts.skipOptionalPartCharacter) && test.def !== \"\" ? //non mask\n\t\t\t\t\t{\n\t\t\t\t\t\tc: getPlaceholder.call(inputmask, position, test, true) || test.def,\n\t\t\t\t\t\tpos: position\n\t\t\t\t\t} : false;\n\n\t\t\tif (rslt !== false) {\n\t\t\t\tvar elem = rslt.c !== undefined ? rslt.c : c, validatedPos = position;\n\t\t\t\telem = (elem === opts.skipOptionalPartCharacter && test.static === true) ?\n\t\t\t\t\t(getPlaceholder.call(inputmask, position, test, true) || test.def) : elem;\n\n\t\t\t\trslt = processCommandObject(rslt);\n\n\t\t\t\tif (rslt !== true && rslt.pos !== undefined && rslt.pos !== position) { //their is a position offset\n\t\t\t\t\tvalidatedPos = rslt.pos;\n\t\t\t\t}\n\n\t\t\t\tif (rslt !== true && rslt.pos === undefined && rslt.c === undefined) {\n\t\t\t\t\treturn false; //breakout if nothing to insert\n\t\t\t\t}\n\n\t\t\t\tif (revalidateMask.call(inputmask, pos, $.extend({}, tst, {\n\t\t\t\t\t\"input\": casing.call(inputmask, elem, test, validatedPos)\n\t\t\t\t}), fromIsValid, validatedPos) === false) {\n\t\t\t\t\trslt = false;\n\t\t\t\t}\n\t\t\t\treturn false; //break from loop\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\t\treturn rslt;\n\t}\n\n\tvar result = true,\n\t\tpositionsClone = $.extend(true, {}, maskset.validPositions); //clone the currentPositions\n\n\tif (opts.keepStatic === false && maskset.excludes[maskPos] !== undefined && fromAlternate !== true && fromIsValid !== true) {\n\t\tfor (var i = maskPos; i < (inputmask.isRTL ? pos.begin : pos.end); i++) {\n\t\t\tif (maskset.excludes[i] !== undefined) {\n\t\t\t\tmaskset.excludes[i] = undefined;\n\t\t\t\tdelete maskset.tests[i];\n\t\t\t}\n\t\t}\n\t}\n\n\tif (typeof opts.preValidation === \"function\" && fromIsValid !== true && validateOnly !== true) {\n\t\tresult = opts.preValidation.call(el, getBuffer.call(inputmask), maskPos, c, isSelection(pos), opts, maskset, pos, strict || fromAlternate);\n\t\tresult = processCommandObject(result);\n\t}\n\tif (result === true) { //preValidation result\n\t\tif (inputmask.maxLength === undefined || maskPos < inputmask.maxLength) {\n\t\t\tresult = _isValid(maskPos, c, strict);\n\t\t\tif ((!strict || fromIsValid === true) && result === false && validateOnly !== true) {\n\t\t\t\tvar currentPosValid = maskset.validPositions[maskPos];\n\t\t\t\tif (currentPosValid && currentPosValid.match.static === true && (currentPosValid.match.def === c || c === opts.skipOptionalPartCharacter)) {\n\t\t\t\t\tresult = {\n\t\t\t\t\t\t\"caret\": seekNext.call(inputmask, maskPos)\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tif (opts.insertMode || maskset.validPositions[seekNext.call(inputmask, maskPos)] === undefined || pos.end > maskPos) { //does the input match on a further position?\n\t\t\t\t\t\tvar skip = false;\n\t\t\t\t\t\tif (maskset.jitOffset[maskPos] && maskset.validPositions[seekNext.call(inputmask, maskPos)] === undefined) {\n\t\t\t\t\t\t\tresult = isValid.call(inputmask, maskPos + maskset.jitOffset[maskPos], c, true);\n\t\t\t\t\t\t\tif (result !== false) {\n\t\t\t\t\t\t\t\tif (fromAlternate !== true) result.caret = maskPos;\n\t\t\t\t\t\t\t\tskip = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (pos.end > maskPos) {\n\t\t\t\t\t\t\tmaskset.validPositions[maskPos] = undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!skip && !isMask.call(inputmask, maskPos, opts.keepStatic && maskPos === 0)) {\n\t\t\t\t\t\t\tfor (var nPos = maskPos + 1, snPos = seekNext.call(inputmask, maskPos, false, maskPos !== 0); nPos <= snPos; nPos++) {\n\t\t\t\t\t\t\t\t// if (!isMask(nPos, true)) {\n\t\t\t\t\t\t\t\t// \tcontinue;\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\tresult = _isValid(nPos, c, strict);\n\t\t\t\t\t\t\t\tif (result !== false) {\n\t\t\t\t\t\t\t\t\tresult = trackbackPositions.call(inputmask, maskPos, result.pos !== undefined ? result.pos : nPos) || result;\n\t\t\t\t\t\t\t\t\tmaskPos = nPos;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tresult = false;\n\t\t}\n\n\n\t\tif (result === false && opts.keepStatic && (isComplete.call(inputmask, getBuffer.call(inputmask)) || maskPos === 0) && !strict && fromAlternate !== true) { //try fuzzy alternator logic\n\t\t\tresult = alternate.call(inputmask, maskPos, c, strict, fromIsValid, undefined, pos);\n\t\t} else if (isSelection(pos) && maskset.tests[maskPos] && maskset.tests[maskPos].length > 1 && opts.keepStatic && !strict && fromAlternate !== true) { //selection clears an alternated keepstatic mask ~ #2189\n\t\t\tresult = alternate.call(inputmask, true);\n\t\t}\n\n\t\tif (result === true) {\n\t\t\tresult = {\n\t\t\t\t\"pos\": maskPos\n\t\t\t};\n\t\t}\n\t}\n\tif (typeof opts.postValidation === \"function\" && fromIsValid !== true && validateOnly !== true) {\n\t\tvar postResult = opts.postValidation.call(el, getBuffer.call(inputmask, true), pos.begin !== undefined ? (inputmask.isRTL ? pos.end : pos.begin) : pos, c, result, opts, maskset, strict, fromCheckval);\n\t\tif (postResult !== undefined) {\n\t\t\tresult = postResult === true ? result : postResult;\n\t\t}\n\t}\n\n\tif (result && result.pos === undefined) {\n\t\tresult.pos = maskPos;\n\t}\n\n\tif (result === false || validateOnly === true) {\n\t\tresetMaskSet.call(inputmask, true);\n\t\tmaskset.validPositions = $.extend(true, {}, positionsClone); //revert validation changes\n\t} else {\n\t\ttrackbackPositions.call(inputmask, undefined, maskPos, true);\n\t}\n\n\tvar endResult = processCommandObject(result);\n\t// console.log(\"returned result \" + JSON.stringify(endResult));\n\treturn endResult;\n}\n\n//tobe put on prototype?\nfunction positionCanMatchDefinition(pos, testDefinition, opts) {\n\tconst inputmask = this,\n\t\tmaskset = this.maskset;\n\n\tvar valid = false,\n\t\ttests = getTests.call(inputmask, pos);\n\tfor (var tndx = 0; tndx < tests.length; tndx++) {\n\t\tif (tests[tndx].match &&\n\t\t\t((tests[tndx].match[\"nativeDef\"] === testDefinition.match[opts.shiftPositions ? \"def\" : \"nativeDef\"] && (!opts.shiftPositions || !testDefinition.match.static)) ||\n\t\t\t\ttests[tndx].match[\"nativeDef\"] === testDefinition.match[\"nativeDef\"])) {\n\t\t\tvalid = true;\n\t\t\tbreak;\n\t\t} else if (tests[tndx].match && tests[tndx].match[\"def\"] === testDefinition.match[\"nativeDef\"]) {\n\t\t\tvalid = undefined;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (valid === false) {\n\t\tif (maskset.jitOffset[pos] !== undefined) {\n\t\t\tvalid = positionCanMatchDefinition.call(inputmask, pos + maskset.jitOffset[pos], testDefinition, opts);\n\t\t}\n\t}\n\treturn valid;\n}\n\n//tobe put on prototype?\nfunction refreshFromBuffer(start, end, buffer) {\n\tconst inputmask = this,\n\t\tmaskset = this.maskset,\n\t\topts = this.opts,\n\t\t$ = this.dependencyLib,\n\t\tel = inputmask.el;\n\n\t// checkVal.call(inputmask, el, false, true, isRTL ? buffer.reverse() : buffer);\n\tvar i, p, skipOptionalPartCharacter = opts.skipOptionalPartCharacter,\n\t\tbffr = inputmask.isRTL ? buffer.slice().reverse() : buffer;\n\topts.skipOptionalPartCharacter = \"\";\n\tif (start === true) {\n\t\tresetMaskSet.call(inputmask);\n\t\tmaskset.tests = {}; //refresh tests after possible alternating\n\t\tstart = 0;\n\t\tend = buffer.length;\n\t\tp = determineNewCaretPosition.call(inputmask, {begin: 0, end: 0}, false).begin;\n\t} else {\n\t\tfor (i = start; i < end; i++) {\n\t\t\tdelete maskset.validPositions[i];\n\t\t}\n\t\tp = start;\n\t}\n\n\tvar keypress = new $.Event(\"keypress\");\n\tfor (i = start; i < end; i++) {\n\t\tkeypress.which = bffr[i].toString().charCodeAt(0);\n\t\tinputmask.ignorable = false; //make sure ignorable is ignored ;-)\n\t\tvar valResult = EventHandlers.keypressEvent.call(el, keypress, true, false, false, p);\n\t\tif (valResult !== false) {\n\t\t\tp = valResult.forwardPosition;\n\t\t}\n\t}\n\n\topts.skipOptionalPartCharacter = skipOptionalPartCharacter;\n}\n\n//tobe put on prototype?\n//fill in best positions according the current input\nfunction trackbackPositions(originalPos, newPos, fillOnly) {\n\tconst inputmask = this,\n\t\tmaskset = this.maskset,\n\t\t$ = this.dependencyLib;\n\n\t// console.log(\"trackbackPositions \" + originalPos + \" \" + newPos);\n\tif (originalPos === undefined) {\n\t\t//find previous valid\n\t\tfor (originalPos = newPos - 1; originalPos > 0; originalPos--) {\n\t\t\tif (maskset.validPositions[originalPos]) break;\n\t\t}\n\t}\n\tfor (var ps = originalPos; ps < newPos; ps++) {\n\t\tif (maskset.validPositions[ps] === undefined && !isMask.call(inputmask, ps, true)) {\n\t\t\tvar vp = ps == 0 ? getTest.call(inputmask, ps) : maskset.validPositions[ps - 1];\n\t\t\tif (vp) {\n\t\t\t\tvar tests = getTests.call(inputmask, ps).slice();\n\t\t\t\tif (tests[tests.length - 1].match.def === \"\") tests.pop();\n\t\t\t\tvar bestMatch = determineTestTemplate.call(inputmask, ps, tests), np;\n\t\t\t\tif (bestMatch && (bestMatch.match.jit !== true || (bestMatch.match.newBlockMarker === \"master\" && (np = maskset.validPositions[ps + 1]) && np.match.optionalQuantifier === true))) {\n\t\t\t\t\tbestMatch = $.extend({}, bestMatch, {\n\t\t\t\t\t\t\"input\": getPlaceholder.call(inputmask, ps, bestMatch.match, true) || bestMatch.match.def\n\t\t\t\t\t});\n\t\t\t\t\tbestMatch.generatedInput = true;\n\t\t\t\t\trevalidateMask.call(inputmask, ps, bestMatch, true);\n\n\t\t\t\t\tif (fillOnly !== true) {\n\t\t\t\t\t\t//revalidate the new position to update the locator value\n\t\t\t\t\t\tvar cvpInput = maskset.validPositions[newPos].input;\n\t\t\t\t\t\tmaskset.validPositions[newPos] = undefined;\n\t\t\t\t\t\treturn isValid.call(inputmask, newPos, cvpInput, true, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n//tobe put on prototype?\nfunction revalidateMask(pos, validTest, fromIsValid, validatedPos) {\n\tconst inputmask = this,\n\t\tmaskset = this.maskset,\n\t\topts = this.opts,\n\t\t$ = this.dependencyLib;\n\n\tfunction IsEnclosedStatic(pos, valids, selection) {\n\t\tvar posMatch = valids[pos];\n\t\tif (posMatch !== undefined && posMatch.match.static === true && posMatch.match.optionality !== true && (valids[0] === undefined || valids[0].alternation === undefined)) {\n\t\t\tvar prevMatch = selection.begin <= pos - 1 ? valids[pos - 1] && valids[pos - 1].match.static === true && valids[pos - 1] : valids[pos - 1],\n\t\t\t\tnextMatch = selection.end > pos + 1 ? valids[pos + 1] && valids[pos + 1].match.static === true && valids[pos + 1] : valids[pos + 1];\n\t\t\treturn prevMatch && nextMatch;\n\t\t}\n\t\treturn false;\n\t}\n\n\tvar offset = 0, begin = pos.begin !== undefined ? pos.begin : pos, end = pos.end !== undefined ? pos.end : pos;\n\tif (pos.begin > pos.end) {\n\t\tbegin = pos.end;\n\t\tend = pos.begin;\n\t}\n\n\tvalidatedPos = validatedPos !== undefined ? validatedPos : begin;\n\tif (begin !== end || (opts.insertMode && maskset.validPositions[validatedPos] !== undefined && fromIsValid === undefined) || validTest === undefined) {\n\t\t//reposition & revalidate others\n\t\tvar positionsClone = $.extend(true, {}, maskset.validPositions),\n\t\t\tlvp = getLastValidPosition.call(inputmask, undefined, true),\n\t\t\ti;\n\t\tmaskset.p = begin; //needed for alternated position after overtype selection\n\n\t\tfor (i = lvp; i >= begin; i--) {\n\t\t\tdelete maskset.validPositions[i];\n\t\t\tif (validTest === undefined) delete maskset.tests[i + 1];\n\t\t}\n\n\t\tvar valid = true, j = validatedPos,\n\t\t\tposMatch = j, t, canMatch;\n\n\t\tif (validTest) {\n\t\t\tmaskset.validPositions[validatedPos] = $.extend(true, {}, validTest);\n\t\t\tposMatch++;\n\t\t\tj++;\n\t\t}\n\n\t\tfor (i = validTest ? end : end - 1; i <= lvp; i++) {\n\t\t\tif ((t = positionsClone[i]) !== undefined && t.generatedInput !== true &&\n\t\t\t\t(i >= end || (i >= begin && IsEnclosedStatic(i, positionsClone, {\n\t\t\t\t\tbegin: begin,\n\t\t\t\t\tend: end\n\t\t\t\t})))) {\n\t\t\t\twhile (getTest.call(inputmask, posMatch).match.def !== \"\") { //loop needed to match further positions\n\t\t\t\t\tif ((canMatch = positionCanMatchDefinition.call(inputmask, posMatch, t, opts)) !== false || t.match.def === \"+\") { //validated match //we still need some hackery for the + validator (numeric alias)\n\t\t\t\t\t\tif (t.match.def === \"+\") getBuffer.call(inputmask, true);\n\t\t\t\t\t\tvar result = isValid.call(inputmask, posMatch, t.input, t.match.def !== \"+\", t.match.def !== \"+\");\n\t\t\t\t\t\tvalid = result !== false;\n\t\t\t\t\t\tj = (result.pos || posMatch) + 1;\n\t\t\t\t\t\tif (!valid && canMatch) break;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (valid) {\n\t\t\t\t\t\tif (validTest === undefined && t.match.static && i === pos.begin) offset++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tif (!valid && posMatch > maskset.maskLength) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tposMatch++;\n\t\t\t\t}\n\t\t\t\tif (getTest.call(inputmask, posMatch).match.def == \"\") {\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t\t//restore position\n\t\t\t\tposMatch = j;\n\t\t\t}\n\t\t\tif (!valid) break;\n\t\t}\n\n\t\tif (!valid) {\n\t\t\tmaskset.validPositions = $.extend(true, {}, positionsClone);\n\t\t\tresetMaskSet.call(inputmask, true);\n\t\t\treturn false;\n\t\t}\n\t} else if (validTest && getTest.call(inputmask, validatedPos).match.cd === validTest.match.cd) {\n\t\tmaskset.validPositions[validatedPos] = $.extend(true, {}, validTest);\n\t}\n\n\tresetMaskSet.call(inputmask, true);\n\treturn offset;\n}\n","import {\n\tdetermineTestTemplate,\n\tgetMaskTemplate,\n\tgetPlaceholder,\n\tgetTest,\n\tgetTests,\n\tgetTestTemplate\n} from \"./validation-tests\";\nimport {checkAlternationMatch} from \"./validation\";\nimport {mask} from \"./mask\";\n\nexport {\n\tcaret,\n\tdetermineLastRequiredPosition,\n\tdetermineNewCaretPosition,\n\tgetBuffer,\n\tgetBufferTemplate,\n\tgetLastValidPosition,\n\tisMask,\n\tresetMaskSet,\n\tseekNext,\n\tseekPrevious,\n\ttranslatePosition\n};\n\n//tobe put on prototype?\nfunction caret(input, begin, end, notranslate, isDelete) {\n\tconst inputmask = this,\n\t\topts = this.opts;\n\n\tvar range;\n\tif (begin !== undefined) {\n\t\tif (Array.isArray(begin)) {\n\t\t\tend = inputmask.isRTL ? begin[0] : begin[1];\n\t\t\tbegin = inputmask.isRTL ? begin[1] : begin[0];\n\t\t}\n\t\tif (begin.begin !== undefined) {\n\t\t\tend = inputmask.isRTL ? begin.begin : begin.end;\n\t\t\tbegin = inputmask.isRTL ? begin.end : begin.begin;\n\t\t}\n\t\tif (typeof begin === \"number\") {\n\t\t\tbegin = notranslate ? begin : translatePosition.call(inputmask, begin);\n\t\t\tend = notranslate ? end : translatePosition.call(inputmask, end);\n\t\t\tend = (typeof end == \"number\") ? end : begin;\n\t\t\t// if (!$(input).is(\":visible\")) {\n\t\t\t// \treturn;\n\t\t\t// }\n\n\t\t\tvar scrollCalc = parseInt(((input.ownerDocument.defaultView || window).getComputedStyle ? (input.ownerDocument.defaultView || window).getComputedStyle(input, null) : input.currentStyle).fontSize) * end;\n\t\t\tinput.scrollLeft = scrollCalc > input.scrollWidth ? scrollCalc : 0;\n\t\t\tinput.inputmask.caretPos = {begin: begin, end: end}; //track caret internally\n\t\t\tif (opts.insertModeVisual && opts.insertMode === false && begin === end) {\n\t\t\t\tif (!isDelete) {\n\t\t\t\t\tend++; //set visualization for insert/overwrite mode\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (input === (input.inputmask.shadowRoot || document).activeElement) {\n\t\t\t\tif (\"setSelectionRange\" in input) {\n\t\t\t\t\tinput.setSelectionRange(begin, end);\n\t\t\t\t} else if (window.getSelection) {\n\t\t\t\t\trange = document.createRange();\n\t\t\t\t\tif (input.firstChild === undefined || input.firstChild === null) {\n\t\t\t\t\t\tvar textNode = document.createTextNode(\"\");\n\t\t\t\t\t\tinput.appendChild(textNode);\n\t\t\t\t\t}\n\t\t\t\t\trange.setStart(input.firstChild, begin < input.inputmask._valueGet().length ? begin : input.inputmask._valueGet().length);\n\t\t\t\t\trange.setEnd(input.firstChild, end < input.inputmask._valueGet().length ? end : input.inputmask._valueGet().length);\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\tvar sel = window.getSelection();\n\t\t\t\t\tsel.removeAllRanges();\n\t\t\t\t\tsel.addRange(range);\n\t\t\t\t\t//input.focus();\n\t\t\t\t} else if (input.createTextRange) {\n\t\t\t\t\trange = input.createTextRange();\n\t\t\t\t\trange.collapse(true);\n\t\t\t\t\trange.moveEnd(\"character\", end);\n\t\t\t\t\trange.moveStart(\"character\", begin);\n\t\t\t\t\trange.select();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else {\n\t\tif (\"selectionStart\" in input && \"selectionEnd\" in input) {\n\t\t\tbegin = input.selectionStart;\n\t\t\tend = input.selectionEnd;\n\t\t} else if (window.getSelection) {\n\t\t\trange = window.getSelection().getRangeAt(0);\n\t\t\tif (range.commonAncestorContainer.parentNode === input || range.commonAncestorContainer === input) {\n\t\t\t\tbegin = range.startOffset;\n\t\t\t\tend = range.endOffset;\n\t\t\t}\n\t\t} else if (document.selection && document.selection.createRange) {\n\t\t\trange = document.selection.createRange();\n\t\t\tbegin = 0 - range.duplicate().moveStart(\"character\", -input.inputmask._valueGet().length);\n\t\t\tend = begin + range.text.length;\n\t\t}\n\n\t\t// if (opts.insertModeVisual && opts.insertMode === false && begin === (end - 1)) end--; //correct caret for insert/overwrite mode\n\n\t\t/*eslint-disable consistent-return */\n\t\treturn {\n\t\t\t\"begin\": notranslate ? begin : translatePosition.call(inputmask, begin),\n\t\t\t\"end\": notranslate ? end : translatePosition.call(inputmask, end)\n\t\t};\n\t\t/*eslint-enable consistent-return */\n\t}\n}\n\n//tobe put on prototype?\nfunction determineLastRequiredPosition(returnDefinition) {\n\tconst inputmask = this,\n\t\tmaskset = this.maskset,\n\t\t$ = this.dependencyLib;\n\n\tvar buffer = getMaskTemplate.call(inputmask, true, getLastValidPosition.call(inputmask), true, true),\n\t\tbl = buffer.length,\n\t\tpos, lvp = getLastValidPosition.call(inputmask),\n\t\tpositions = {},\n\t\tlvTest = maskset.validPositions[lvp],\n\t\tndxIntlzr = lvTest !== undefined ? lvTest.locator.slice() : undefined,\n\t\ttestPos;\n\tfor (pos = lvp + 1; pos < buffer.length; pos++) {\n\t\ttestPos = getTestTemplate.call(inputmask, pos, ndxIntlzr, pos - 1);\n\t\tndxIntlzr = testPos.locator.slice();\n\t\tpositions[pos] = $.extend(true, {}, testPos);\n\t}\n\n\tvar lvTestAlt = lvTest && lvTest.alternation !== undefined ? lvTest.locator[lvTest.alternation] : undefined;\n\tfor (pos = bl - 1; pos > lvp; pos--) {\n\t\ttestPos = positions[pos];\n\t\tif ((testPos.match.optionality ||\n\t\t\t(testPos.match.optionalQuantifier && testPos.match.newBlockMarker) ||\n\t\t\t(lvTestAlt &&\n\t\t\t\t(\n\t\t\t\t\t(lvTestAlt !== positions[pos].locator[lvTest.alternation] && testPos.match.static != true) ||\n\t\t\t\t\t(testPos.match.static === true &&\n\t\t\t\t\t\ttestPos.locator[lvTest.alternation] &&\n\t\t\t\t\t\tcheckAlternationMatch.call(inputmask, testPos.locator[lvTest.alternation].toString().split(\",\"), lvTestAlt.toString().split(\",\")) &&\n\t\t\t\t\t\tgetTests.call(inputmask, pos)[0].def !== \"\")\n\t\t\t\t)\n\t\t\t)) &&\n\t\t\tbuffer[pos] === getPlaceholder.call(inputmask, pos, testPos.match)) {\n\t\t\tbl--;\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn returnDefinition ? {\n\t\t\"l\": bl,\n\t\t\"def\": positions[bl] ? positions[bl].match : undefined\n\t} : bl;\n}\n\n//tobe put on prototype?\nfunction determineNewCaretPosition(selectedCaret, tabbed) {\n\tconst inputmask = this,\n\t\tmaskset = this.maskset,\n\t\topts = this.opts;\n\n\tfunction doRadixFocus(clickPos) {\n\t\tif (opts.radixPoint !== \"\" && opts.digits !== 0) {\n\t\t\tvar vps = maskset.validPositions;\n\t\t\tif (vps[clickPos] === undefined || (vps[clickPos].input === getPlaceholder.call(inputmask, clickPos))) {\n\t\t\t\tif (clickPos < seekNext.call(inputmask, -1)) return true;\n\t\t\t\tvar radixPos = getBuffer.call(inputmask).indexOf(opts.radixPoint);\n\t\t\t\tif (radixPos !== -1) {\n\t\t\t\t\tfor (var vp in vps) {\n\t\t\t\t\t\tif (vps[vp] && radixPos < vp && vps[vp].input !== getPlaceholder.call(inputmask, vp)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tif (tabbed) {\n\t\tif (inputmask.isRTL) {\n\t\t\tselectedCaret.end = selectedCaret.begin;\n\t\t} else {\n\t\t\tselectedCaret.begin = selectedCaret.end;\n\t\t}\n\t}\n\tif (selectedCaret.begin === selectedCaret.end) {\n\t\tswitch (opts.positionCaretOnClick) {\n\t\t\tcase \"none\":\n\t\t\t\tbreak;\n\t\t\tcase \"select\":\n\t\t\t\tselectedCaret = {begin: 0, end: getBuffer.call(inputmask).length};\n\t\t\t\tbreak;\n\t\t\tcase \"ignore\":\n\t\t\t\tselectedCaret.end = selectedCaret.begin = seekNext.call(inputmask, getLastValidPosition.call(inputmask));\n\t\t\t\tbreak;\n\t\t\tcase \"radixFocus\":\n\t\t\t\tif (doRadixFocus(selectedCaret.begin)) {\n\t\t\t\t\tvar radixPos = getBuffer.call(inputmask).join(\"\").indexOf(opts.radixPoint);\n\t\t\t\t\tselectedCaret.end = selectedCaret.begin = opts.numericInput ? seekNext.call(inputmask, radixPos) : radixPos;\n\t\t\t\t\tbreak;\n\t\t\t\t} //fallback to lvp\n\t\t\t// eslint-disable-next-line no-fallthrough\n\t\t\tdefault: //lvp:\n\t\t\t\tvar clickPosition = selectedCaret.begin,\n\t\t\t\t\tlvclickPosition = getLastValidPosition.call(inputmask, clickPosition, true),\n\t\t\t\t\tlastPosition = seekNext.call(inputmask, (lvclickPosition === -1 && !isMask.call(inputmask, 0)) ? -1 : lvclickPosition);\n\n\t\t\t\tif (clickPosition <= lastPosition) {\n\t\t\t\t\tselectedCaret.end = selectedCaret.begin = !isMask.call(inputmask, clickPosition, false, true) ? seekNext.call(inputmask, clickPosition) : clickPosition;\n\t\t\t\t} else {\n\t\t\t\t\tvar lvp = maskset.validPositions[lvclickPosition],\n\t\t\t\t\t\ttt = getTestTemplate.call(inputmask, lastPosition, lvp ? lvp.match.locator : undefined, lvp),\n\t\t\t\t\t\tplaceholder = getPlaceholder.call(inputmask, lastPosition, tt.match);\n\t\t\t\t\tif ((placeholder !== \"\" && getBuffer.call(inputmask)[lastPosition] !== placeholder && tt.match.optionalQuantifier !== true && tt.match.newBlockMarker !== true) || (!isMask.call(inputmask, lastPosition, opts.keepStatic, true) && tt.match.def === placeholder)) {\n\t\t\t\t\t\tvar newPos = seekNext.call(inputmask, lastPosition);\n\t\t\t\t\t\tif (clickPosition >= newPos || clickPosition === lastPosition) {\n\t\t\t\t\t\t\tlastPosition = newPos;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tselectedCaret.end = selectedCaret.begin = lastPosition;\n\t\t\t\t}\n\t\t}\n\n\t\treturn selectedCaret;\n\t}\n}\n\n\n//tobe put on prototype?\nfunction getBuffer(noCache) {\n\tconst inputmask = this, maskset = this.maskset;\n\n\tif (maskset.buffer === undefined || noCache === true) {\n\t\tmaskset.buffer = getMaskTemplate.call(inputmask, true, getLastValidPosition.call(inputmask), true);\n\t\tif (maskset._buffer === undefined) maskset._buffer = maskset.buffer.slice();\n\t}\n\treturn maskset.buffer;\n}\n\n//tobe put on prototype?\nfunction getBufferTemplate() {\n\tconst inputmask = this, maskset = this.maskset;\n\n\tif (maskset._buffer === undefined) {\n\t\t//generate template\n\t\tmaskset._buffer = getMaskTemplate.call(inputmask, false, 1);\n\t\tif (maskset.buffer === undefined) maskset.buffer = maskset._buffer.slice();\n\t}\n\treturn maskset._buffer;\n}\n\n//tobe put on prototype?\nfunction getLastValidPosition(closestTo, strict, validPositions) {\n\tconst maskset = this.maskset;\n\n\tvar before = -1,\n\t\tafter = -1,\n\t\tvalids = validPositions || maskset.validPositions; //for use in valhook ~ context switch\n\tif (closestTo === undefined) closestTo = -1;\n\tfor (var posNdx in valids) {\n\t\tvar psNdx = parseInt(posNdx);\n\t\tif (valids[psNdx] && (strict || valids[psNdx].generatedInput !== true)) {\n\t\t\tif (psNdx <= closestTo) before = psNdx;\n\t\t\tif (psNdx >= closestTo) after = psNdx;\n\t\t}\n\t}\n\treturn (before === -1 || before == closestTo) ? after : after == -1 ? before : (closestTo - before) < (after - closestTo) ? before : after;\n}\n\n//tobe put on prototype?\nfunction isMask(pos, strict, fuzzy) {\n\tconst inputmask = this, maskset = this.maskset;\n\n\tvar test = getTestTemplate.call(inputmask, pos).match;\n\tif (test.def === \"\") test = getTest.call(inputmask, pos).match;\n\n\tif (test.static !== true) {\n\t\treturn test.fn;\n\t}\n\tif (fuzzy === true && (maskset.validPositions[pos] !== undefined && maskset.validPositions[pos].generatedInput !== true)) {\n\t\treturn true;\n\t}\n\n\tif (strict !== true && pos > -1) {\n\t\tif (fuzzy) { //check on the number of tests\n\t\t\tvar tests = getTests.call(inputmask, pos);\n\t\t\treturn tests.length > (1 + (tests[tests.length - 1].match.def === \"\" ? 1 : 0));\n\t\t}\n\t\t//else based on the template\n\t\tvar testTemplate = determineTestTemplate.call(inputmask, pos, getTests.call(inputmask, pos));\n\t\tvar testPlaceHolder = getPlaceholder.call(inputmask, pos, testTemplate.match);\n\t\treturn testTemplate.match.def !== testPlaceHolder;\n\n\t}\n\treturn false;\n}\n\n//tobe put on prototype?\nfunction resetMaskSet(soft) {\n\tconst maskset = this.maskset;\n\n\tmaskset.buffer = undefined;\n\tif (soft !== true) {\n\t\tmaskset.validPositions = {};\n\t\tmaskset.p = 0;\n\t}\n}\n\n//tobe put on prototype?\nfunction seekNext(pos, newBlock, fuzzy) {\n\tconst inputmask = this;\n\n\tif (fuzzy === undefined) fuzzy = true;\n\tvar position = pos + 1;\n\twhile (getTest.call(inputmask, position).match.def !== \"\" &&\n\t((newBlock === true && (getTest.call(inputmask, position).match.newBlockMarker !== true || !isMask.call(inputmask, position, undefined, true))) ||\n\t\t(newBlock !== true && !isMask.call(inputmask, position, undefined, fuzzy)))) {\n\t\tposition++;\n\t}\n\treturn position;\n}\n\n//tobe put on prototype?\nfunction seekPrevious(pos, newBlock) {\n\tconst inputmask = this;\n\n\tvar position = pos - 1;\n\tif (pos <= 0) return 0;\n\n\twhile (position > 0 &&\n\t((newBlock === true && (getTest.call(inputmask, position).match.newBlockMarker !== true || !isMask.call(inputmask, position, undefined, true))) ||\n\t\t(newBlock !== true && !isMask.call(inputmask, position, undefined, true)))) {\n\t\tposition--;\n\t}\n\treturn position;\n}\n\n//tobe put on prototype?\nfunction translatePosition(pos) {\n\tconst inputmask = this,\n\t\topts = this.opts,\n\t\tel = this.el;\n\n\tif (inputmask.isRTL && typeof pos === \"number\" && (!opts.greedy || opts.placeholder !== \"\") && el) {\n\t\tpos = inputmask._valueGet().length - pos;\n\t}\n\treturn pos;\n}\n","import Inputmask from \"./inputmask\";\nimport keyCode from \"./keycode.json\";\nimport {getBufferTemplate} from \"./positioning\";\nimport {HandleNativePlaceholder} from \"./inputHandling\";\n\nexport {EventRuler};\n\nvar EventRuler = {\n\ton: function (input, eventName, eventHandler) {\n\t\tconst $ = input.inputmask.dependencyLib;\n\n\t\tvar ev = function (e) {\n\t\t\tif (e.originalEvent) {\n\t\t\t\te = e.originalEvent || e; //get original event from jquery evenbt\n\t\t\t\targuments[0] = e;\n\t\t\t}\n\t\t\t// console.log(e.type);\n\t\t\tvar that = this, args, inputmask = that.inputmask, opts = inputmask ? inputmask.opts : undefined,\n\t\t\t\t$ = inputmask.dependencyLib;\n\t\t\tif (inputmask === undefined && this.nodeName !== \"FORM\") { //happens when cloning an object with jquery.clone\n\t\t\t\tvar imOpts = $.data(that, \"_inputmask_opts\");\n\t\t\t\t$(that).off(); //unbind all events\n\t\t\t\tif (imOpts) {\n\t\t\t\t\t(new Inputmask(imOpts)).mask(that);\n\t\t\t\t}\n\t\t\t} else if (e.type !== \"setvalue\" && this.nodeName !== \"FORM\" && (that.disabled || (that.readOnly && !(e.type === \"keydown\" && (e.ctrlKey && e.keyCode === 67) || (opts.tabThrough === false && e.keyCode === keyCode.TAB))))) {\n\t\t\t\te.preventDefault();\n\t\t\t} else {\n\t\t\t\tswitch (e.type) {\n\t\t\t\t\tcase \"input\":\n\t\t\t\t\t\tif (inputmask.skipInputEvent === true || (e.inputType && e.inputType === \"insertCompositionText\")) {\n\t\t\t\t\t\t\tinputmask.skipInputEvent = false;\n\t\t\t\t\t\t\treturn e.preventDefault();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// if (mobile) { //this causes problem see #2220\n\t\t\t\t\t\t// \targs = arguments;\n\t\t\t\t\t\t// \tsetTimeout(function () { //needed for caret selection when entering a char on Android 8 - #1818\n\t\t\t\t\t\t// \t\teventHandler.apply(that, args);\n\t\t\t\t\t\t// \t\tcaret(that, that.inputmask.caretPos, undefined, true);\n\t\t\t\t\t\t// \t}, 0);\n\t\t\t\t\t\t// \treturn false;\n\t\t\t\t\t\t// }\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"keydown\":\n\t\t\t\t\t\t//Safari 5.1.x - modal dialog fires keypress twice workaround\n\t\t\t\t\t\tinputmask.skipKeyPressEvent = false;\n\t\t\t\t\t\tinputmask.skipInputEvent = inputmask.isComposing = e.keyCode === keyCode.KEY_229;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"keyup\":\n\t\t\t\t\tcase \"compositionend\":\n\t\t\t\t\t\tif (inputmask.isComposing) {\n\t\t\t\t\t\t\tinputmask.skipInputEvent = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"keypress\":\n\t\t\t\t\t\tif (inputmask.skipKeyPressEvent === true) {\n\t\t\t\t\t\t\treturn e.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinputmask.skipKeyPressEvent = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"click\":\n\t\t\t\t\tcase \"focus\":\n\t\t\t\t\t\tif (inputmask.validationEvent) { // #841\n\t\t\t\t\t\t\tinputmask.validationEvent = false;\n\t\t\t\t\t\t\tinput.blur();\n\t\t\t\t\t\t\tHandleNativePlaceholder(input, (inputmask.isRTL ? getBufferTemplate.call(inputmask).slice().reverse() : getBufferTemplate.call(inputmask)).join(\"\"));\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\tinput.focus();\n\t\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\targs = arguments;\n\t\t\t\t\t\tsetTimeout(function () { //needed for Chrome ~ initial selection clears after the clickevent\n\t\t\t\t\t\t\tif (!input.inputmask) {\n\t\t\t\t\t\t\t\t// `inputmask.remove()` was called before this callback\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\teventHandler.apply(that, args);\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar returnVal = eventHandler.apply(that, arguments);\n\t\t\t\tif (returnVal === false) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\treturn returnVal;\n\t\t\t}\n\t\t};\n\t\t//keep instance of the event\n\t\tinput.inputmask.events[eventName] = input.inputmask.events[eventName] || [];\n\t\tinput.inputmask.events[eventName].push(ev);\n\n\t\tif ([\"submit\", \"reset\"].includes(eventName)) {\n\t\t\tif (input.form !== null) $(input.form).on(eventName, ev.bind(input));\n\t\t} else {\n\t\t\t$(input).on(eventName, ev);\n\t\t}\n\t},\n\toff: function (input, event) {\n\t\tif (input.inputmask && input.inputmask.events) {\n\t\t\tconst $ = input.inputmask.dependencyLib;\n\t\t\tlet events = input.inputmask.events;\n\t\t\tif (event) {\n\t\t\t\tevents = [];\n\t\t\t\tevents[event] = input.inputmask.events[event];\n\t\t\t}\n\t\t\tfor (let eventName in events) {\n\t\t\t\tlet evArr = events[eventName];\n\t\t\t\twhile (evArr.length > 0) {\n\t\t\t\t\tlet ev = evArr.pop();\n\t\t\t\t\tif ([\"submit\", \"reset\",].includes(eventName)) {\n\t\t\t\t\t\tif (input.form !== null) $(input.form).off(eventName, ev);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$(input).off(eventName, ev);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdelete input.inputmask.events[eventName];\n\t\t\t}\n\t\t}\n\t}\n};","import \"./getPrototypeOf\";\nimport keyCode from \"./keycode.json\";\nimport {caret, getBuffer, getBufferTemplate, getLastValidPosition, resetMaskSet, seekNext} from \"./positioning\";\nimport {applyInputValue, clearOptionalTail, writeBuffer} from \"./inputHandling\";\nimport {EventRuler} from \"./eventruler\";\nimport {iphone, mobile} from \"./environment\";\nimport {isComplete} from \"./validation\";\nimport {EventHandlers} from \"./eventhandlers\";\n\nexport{mask};\n\n//todo put on the prototype?\nfunction mask() {\n\tconst inputmask = this,\n\t\topts= this.opts,\n\tel=this.el,$=this.dependencyLib;\n\n\n\tfunction isElementTypeSupported(input, opts) {\n\t\tfunction patchValueProperty(npt) {\n\t\t\tvar valueGet;\n\t\t\tvar valueSet;\n\n\t\t\tfunction patchValhook(type) {\n\t\t\t\tif ($.valHooks && ($.valHooks[type] === undefined || $.valHooks[type].inputmaskpatch !== true)) {\n\t\t\t\t\tvar valhookGet = $.valHooks[type] && $.valHooks[type].get ? $.valHooks[type].get : function (elem) {\n\t\t\t\t\t\treturn elem.value;\n\t\t\t\t\t};\n\t\t\t\t\tvar valhookSet = $.valHooks[type] && $.valHooks[type].set ? $.valHooks[type].set : function (elem, value) {\n\t\t\t\t\t\telem.value = value;\n\t\t\t\t\t\treturn elem;\n\t\t\t\t\t};\n\n\t\t\t\t\t$.valHooks[type] = {\n\t\t\t\t\t\tget: function (elem) {\n\t\t\t\t\t\t\tif (elem.inputmask) {\n\t\t\t\t\t\t\t\tif (elem.inputmask.opts.autoUnmask) {\n\t\t\t\t\t\t\t\t\treturn elem.inputmask.unmaskedvalue();\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tvar result = valhookGet(elem);\n\t\t\t\t\t\t\t\t\treturn getLastValidPosition.call(inputmask, undefined, undefined, elem.inputmask.maskset.validPositions) !== -1 || opts.nullable !== true ? result : \"\";\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn valhookGet(elem);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tset: function (elem, value) {\n\t\t\t\t\t\t\tvar result = valhookSet(elem, value);\n\t\t\t\t\t\t\tif (elem.inputmask) {\n\t\t\t\t\t\t\t\tapplyInputValue(elem, value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputmaskpatch: true\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction getter() {\n\t\t\t\tif (this.inputmask) {\n\t\t\t\t\treturn this.inputmask.opts.autoUnmask ?\n\t\t\t\t\t\tthis.inputmask.unmaskedvalue() :\n\t\t\t\t\t\t(getLastValidPosition.call(inputmask) !== -1 || opts.nullable !== true ?\n\t\t\t\t\t\t\t((this.inputmask.shadowRoot || document.activeElement) === this && opts.clearMaskOnLostFocus ?\n\t\t\t\t\t\t\t\t(inputmask.isRTL ? clearOptionalTail.call(inputmask,getBuffer.call(inputmask).slice()).reverse() : clearOptionalTail.call(inputmask,getBuffer.call(inputmask).slice())).join(\"\") :\n\t\t\t\t\t\t\t\tvalueGet.call(this)) :\n\t\t\t\t\t\t\t\"\");\n\t\t\t\t} else {\n\t\t\t\t\treturn valueGet.call(this);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction setter(value) {\n\t\t\t\tvalueSet.call(this, value);\n\t\t\t\tif (this.inputmask) {\n\t\t\t\t\tapplyInputValue(this, value);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction installNativeValueSetFallback(npt) {\n\t\t\t\tEventRuler.on(npt, \"mouseenter\", function () {\n\t\t\t\t\tvar input = this,\n\t\t\t\t\t\tvalue = input.inputmask._valueGet(true);\n\t\t\t\t\tif (value !== (inputmask.isRTL ? getBuffer.call(inputmask).reverse() : getBuffer.call(inputmask)).join(\"\")) { //Is this correct? to apply RTL? TOCHECK\n\t\t\t\t\t\tapplyInputValue(input, value);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!npt.inputmask.__valueGet) {\n\t\t\t\tif (opts.noValuePatching !== true) {\n\t\t\t\t\tif (Object.getOwnPropertyDescriptor) {\n\t\t\t\t\t\tvar valueProperty = Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(npt), \"value\") : undefined;\n\t\t\t\t\t\tif (valueProperty && valueProperty.get && valueProperty.set) {\n\t\t\t\t\t\t\tvalueGet = valueProperty.get;\n\t\t\t\t\t\t\tvalueSet = valueProperty.set;\n\t\t\t\t\t\t\tObject.defineProperty(npt, \"value\", {\n\t\t\t\t\t\t\t\tget: getter,\n\t\t\t\t\t\t\t\tset: setter,\n\t\t\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (npt.tagName.toLowerCase() !== \"input\") {\n\t\t\t\t\t\t\tvalueGet = function () {\n\t\t\t\t\t\t\t\treturn this.textContent;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tvalueSet = function (value) {\n\t\t\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tObject.defineProperty(npt, \"value\", {\n\t\t\t\t\t\t\t\tget: getter,\n\t\t\t\t\t\t\t\tset: setter,\n\t\t\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (document.__lookupGetter__ && npt.__lookupGetter__(\"value\")) {\n\t\t\t\t\t\tvalueGet = npt.__lookupGetter__(\"value\");\n\t\t\t\t\t\tvalueSet = npt.__lookupSetter__(\"value\");\n\n\t\t\t\t\t\tnpt.__defineGetter__(\"value\", getter);\n\t\t\t\t\t\tnpt.__defineSetter__(\"value\", setter);\n\t\t\t\t\t}\n\t\t\t\t\tnpt.inputmask.__valueGet = valueGet; //store native property getter\n\t\t\t\t\tnpt.inputmask.__valueSet = valueSet; //store native property setter\n\t\t\t\t}\n\t\t\t\tnpt.inputmask._valueGet = function (overruleRTL) {\n\t\t\t\t\treturn inputmask.isRTL && overruleRTL !== true ? valueGet.call(this.el).split(\"\").reverse().join(\"\") : valueGet.call(this.el);\n\t\t\t\t};\n\t\t\t\tnpt.inputmask._valueSet = function (value, overruleRTL) { //null check is needed for IE8 => otherwise converts to \"null\"\n\t\t\t\t\tvalueSet.call(this.el, (value === null || value === undefined) ? \"\" : ((overruleRTL !== true && inputmask.isRTL) ? value.split(\"\").reverse().join(\"\") : value));\n\t\t\t\t};\n\n\t\t\t\tif (valueGet === undefined) { //jquery.val fallback\n\t\t\t\t\tvalueGet = function () {\n\t\t\t\t\t\treturn this.value;\n\t\t\t\t\t};\n\t\t\t\t\tvalueSet = function (value) {\n\t\t\t\t\t\tthis.value = value;\n\t\t\t\t\t};\n\t\t\t\t\tpatchValhook(npt.type);\n\t\t\t\t\tinstallNativeValueSetFallback(npt);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (input.tagName.toLowerCase() !== \"textarea\") {\n\t\t\topts.ignorables.push(keyCode.ENTER);\n\t\t}\n\n\t\tvar elementType = input.getAttribute(\"type\");\n\t\tvar isSupported = (input.tagName.toLowerCase() === \"input\" && opts.supportsInputType.includes(elementType)) || input.isContentEditable || input.tagName.toLowerCase() === \"textarea\";\n\t\tif (!isSupported) {\n\t\t\tif (input.tagName.toLowerCase() === \"input\") {\n\t\t\t\tvar el = document.createElement(\"input\");\n\t\t\t\tel.setAttribute(\"type\", elementType);\n\t\t\t\tisSupported = el.type === \"text\"; //apply mask only if the type is not natively supported\n\t\t\t\tel = null;\n\t\t\t} else {\n\t\t\t\tisSupported = \"partial\";\n\t\t\t}\n\t\t}\n\t\tif (isSupported !== false) {\n\t\t\tpatchValueProperty(input);\n\t\t} else {\n\t\t\tinput.inputmask = undefined;\n\t\t}\n\t\treturn isSupported;\n\t}\n\n\t//unbind all events - to make sure that no other mask will interfere when re-masking\n\tEventRuler.off(el);\n\tvar isSupported = isElementTypeSupported(el, opts);\n\tif (isSupported !== false) {\n\t\tinputmask.originalPlaceholder = el.placeholder;\n\n\t\t//read maxlength prop from el\n\t\tinputmask.maxLength = el !== undefined ? el.maxLength : undefined;\n\t\tif (inputmask.maxLength === -1) inputmask.maxLength = undefined;\n\t\tif (\"inputMode\" in el && el.getAttribute(\"inputmode\") === null) {\n\t\t\tel.inputMode = opts.inputmode;\n\t\t\tel.setAttribute(\"inputmode\", opts.inputmode);\n\t\t}\n\n\n\t\tif (isSupported === true) {\n\t\t\topts.showMaskOnFocus = opts.showMaskOnFocus && [\"cc-number\", \"cc-exp\"].indexOf(el.autocomplete) === -1;\n\t\t\tif (iphone) { //selecting the caret shows as a slection on iphone\n\t\t\t\topts.insertModeVisual = false;\n\t\t\t}\n\n\t\t\t//bind events\n\t\t\tEventRuler.on(el, \"submit\", EventHandlers.submitEvent);\n\t\t\tEventRuler.on(el, \"reset\", EventHandlers.resetEvent);\n\t\t\tEventRuler.on(el, \"blur\", EventHandlers.blurEvent);\n\t\t\tEventRuler.on(el, \"focus\", EventHandlers.focusEvent);\n\t\t\tEventRuler.on(el, \"invalid\", EventHandlers.invalidEvent);\n\t\t\tEventRuler.on(el, \"click\", EventHandlers.clickEvent);\n\t\t\tEventRuler.on(el, \"mouseleave\", EventHandlers.mouseleaveEvent);\n\t\t\tEventRuler.on(el, \"mouseenter\", EventHandlers.mouseenterEvent);\n\t\t\tEventRuler.on(el, \"paste\", EventHandlers.pasteEvent);\n\t\t\tEventRuler.on(el, \"cut\", EventHandlers.cutEvent);\n\t\t\tEventRuler.on(el, \"complete\", opts.oncomplete);\n\t\t\tEventRuler.on(el, \"incomplete\", opts.onincomplete);\n\t\t\tEventRuler.on(el, \"cleared\", opts.oncleared);\n\t\t\tif (opts.inputEventOnly !== true) {\n\t\t\t\tEventRuler.on(el, \"keydown\", EventHandlers.keydownEvent);\n\t\t\t\tEventRuler.on(el, \"keypress\", EventHandlers.keypressEvent);\n\t\t\t\tEventRuler.on(el, \"keyup\", EventHandlers.keyupEvent);\n\t\t\t}\n\t\t\tif (mobile || opts.inputEventOnly) {\n\t\t\t\tel.removeAttribute(\"maxLength\");\n\t\t\t}\n\t\t\tEventRuler.on(el, \"input\", EventHandlers.inputFallBackEvent);\n\t\t\tEventRuler.on(el, \"compositionend\", EventHandlers.compositionendEvent);\n\t\t\t// EventRuler.on(el, \"beforeinput\", EventHandlers.beforeInputEvent); //https://github.com/w3c/input-events - to implement\n\t\t}\n\t\tEventRuler.on(el, \"setvalue\", EventHandlers.setValueEvent);\n\n\t\t//apply mask\n\t\tinputmask.undoValue = getBufferTemplate.call(inputmask).join(\"\"); //initialize the buffer and getmasklength\n\t\tvar activeElement = (el.inputmask.shadowRoot || document).activeElement;\n\t\tif (el.inputmask._valueGet(true) !== \"\" || opts.clearMaskOnLostFocus === false || activeElement === el) {\n\t\t\tapplyInputValue(el, el.inputmask._valueGet(true), opts);\n\t\t\tvar buffer = getBuffer.call(inputmask).slice();\n\t\t\tif (isComplete.call(inputmask, buffer) === false) {\n\t\t\t\tif (opts.clearIncomplete) {\n\t\t\t\t\tresetMaskSet.call(inputmask);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (opts.clearMaskOnLostFocus && activeElement !== el) {\n\t\t\t\tif (getLastValidPosition.call(inputmask) === -1) {\n\t\t\t\t\tbuffer = [];\n\t\t\t\t} else {\n\t\t\t\t\tclearOptionalTail.call(inputmask, buffer);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (opts.clearMaskOnLostFocus === false || (opts.showMaskOnFocus && activeElement === el) || el.inputmask._valueGet(true) !== \"\") {\n\t\t\t\twriteBuffer(el, buffer);\n\t\t\t}\n\t\t\tif (activeElement === el) { //position the caret when in focus\n\t\t\t\tcaret.call(inputmask,el, seekNext.call(inputmask, getLastValidPosition.call(inputmask)));\n\t\t\t}\n\t\t}\n\t}\n}","export default function extend() {\n\tlet options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === \"boolean\") {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[i] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif (typeof target !== \"object\" && typeof target !== \"function\") {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; i++) {\n\t\t// Only deal with non-null/undefined values\n\t\tif ((options = arguments[i]) != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target === copy) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif (deep && copy && (Object.prototype.toString.call(copy) === \"[object Object]\" || (copyIsArray = Array.isArray(copy)))) {\n\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && Array.isArray(src) ? src : [];\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && Object.prototype.toString.call(src) === \"[object Object]\" ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n}","import extend from \"./extend\";\nimport window from \"../global/window\";\nimport DependencyLib from \"./inputmask.dependencyLib\";\n\nexport {on, off, trigger, Event};\n\nfunction isValidElement(elem) {\n\treturn elem instanceof Element;\n}\n\nlet Event;\nif (typeof window.CustomEvent === \"function\") {\n\tEvent = window.CustomEvent;\n} else {\n\tEvent = function (event, params) {\n\t\tparams = params || {bubbles: false, cancelable: false, detail: undefined};\n\t\tvar evt = document.createEvent(\"CustomEvent\");\n\t\tevt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n\t\treturn evt;\n\t};\n\tEvent.prototype = window.Event.prototype;\n}\n\n\nfunction on(events, handler) {\n\tfunction addEvent(ev, namespace) {\n\t\t//register domevent\n\t\tif (elem.addEventListener) { // all browsers except IE before version 9\n\t\t\telem.addEventListener(ev, handler, false);\n\t\t} else if (elem.attachEvent) { // IE before version 9\n\t\t\telem.attachEvent(\"on\" + ev, handler);\n\t\t}\n\t\teventRegistry[ev] = eventRegistry[ev] || {};\n\t\teventRegistry[ev][namespace] = eventRegistry[ev][namespace] || [];\n\t\teventRegistry[ev][namespace].push(handler);\n\t}\n\n\tif (isValidElement(this[0])) {\n\t\tvar eventRegistry = this[0].eventRegistry,\n\t\t\telem = this[0];\n\n\n\t\tvar _events = events.split(\" \");\n\t\tfor (var endx = 0; endx < _events.length; endx++) {\n\t\t\tvar nsEvent = _events[endx].split(\".\"),\n\t\t\t\tev = nsEvent[0],\n\t\t\t\tnamespace = nsEvent[1] || \"global\";\n\t\t\taddEvent(ev, namespace);\n\t\t}\n\t}\n\treturn this;\n}\n\nfunction off(events, handler) {\n\tvar eventRegistry, elem;\n\n\tfunction removeEvent(ev, namespace, handler) {\n\t\tif (ev in eventRegistry === true) {\n\t\t\t//unbind to dom events\n\t\t\tif (elem.removeEventListener) { // all browsers except IE before version 9\n\t\t\t\telem.removeEventListener(ev, handler, false);\n\t\t\t} else if (elem.detachEvent) { // IE before version 9\n\t\t\t\telem.detachEvent(\"on\" + ev, handler);\n\t\t\t}\n\t\t\tif (namespace === \"global\") {\n\t\t\t\tfor (var nmsp in eventRegistry[ev]) {\n\t\t\t\t\teventRegistry[ev][nmsp].splice(eventRegistry[ev][nmsp].indexOf(handler), 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\teventRegistry[ev][namespace].splice(eventRegistry[ev][namespace].indexOf(handler), 1);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction resolveNamespace(ev, namespace) {\n\t\tvar evts = [],\n\t\t\thndx, hndL;\n\t\tif (ev.length > 0) {\n\t\t\tif (handler === undefined) {\n\t\t\t\tfor (hndx = 0, hndL = eventRegistry[ev][namespace].length; hndx < hndL; hndx++) {\n\t\t\t\t\tevts.push({\n\t\t\t\t\t\tev: ev,\n\t\t\t\t\t\tnamespace: namespace && namespace.length > 0 ? namespace : \"global\",\n\t\t\t\t\t\thandler: eventRegistry[ev][namespace][hndx]\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tevts.push({\n\t\t\t\t\tev: ev,\n\t\t\t\t\tnamespace: namespace && namespace.length > 0 ? namespace : \"global\",\n\t\t\t\t\thandler: handler\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (namespace.length > 0) {\n\t\t\tfor (var evNdx in eventRegistry) {\n\t\t\t\tfor (var nmsp in eventRegistry[evNdx]) {\n\t\t\t\t\tif (nmsp === namespace) {\n\t\t\t\t\t\tif (handler === undefined) {\n\t\t\t\t\t\t\tfor (hndx = 0, hndL = eventRegistry[evNdx][nmsp].length; hndx < hndL; hndx++) {\n\t\t\t\t\t\t\t\tevts.push({\n\t\t\t\t\t\t\t\t\tev: evNdx,\n\t\t\t\t\t\t\t\t\tnamespace: nmsp,\n\t\t\t\t\t\t\t\t\thandler: eventRegistry[evNdx][nmsp][hndx]\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tevts.push({\n\t\t\t\t\t\t\t\tev: evNdx,\n\t\t\t\t\t\t\t\tnamespace: nmsp,\n\t\t\t\t\t\t\t\thandler: handler\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn evts;\n\t}\n\n\tif (isValidElement(this[0])) {\n\t\teventRegistry = this[0].eventRegistry;\n\t\telem = this[0];\n\n\n\t\tvar _events = events.split(\" \");\n\t\tfor (var endx = 0; endx < _events.length; endx++) {\n\t\t\tvar nsEvent = _events[endx].split(\".\"),\n\t\t\t\toffEvents = resolveNamespace(nsEvent[0], nsEvent[1]);\n\t\t\tfor (var i = 0, offEventsL = offEvents.length; i < offEventsL; i++) {\n\t\t\t\tremoveEvent(offEvents[i].ev, offEvents[i].namespace, offEvents[i].handler);\n\t\t\t}\n\t\t}\n\t}\n\treturn this;\n}\n\nfunction trigger(events /* , args... */) {\n\tif (isValidElement(this[0])) {\n\t\tvar eventRegistry = this[0].eventRegistry,\n\t\t\telem = this[0];\n\t\tvar _events = typeof events === \"string\" ? events.split(\" \") : [events.type];\n\t\tfor (var endx = 0; endx < _events.length; endx++) {\n\t\t\tvar nsEvent = _events[endx].split(\".\"),\n\t\t\t\tev = nsEvent[0],\n\t\t\t\tnamespace = nsEvent[1] || \"global\";\n\t\t\tif (document !== undefined && namespace === \"global\") {\n\t\t\t\t//trigger domevent\n\t\t\t\tvar evnt, i, params = {\n\t\t\t\t\tbubbles: true,\n\t\t\t\t\tcancelable: true,\n\t\t\t\t\tdetail: arguments[1]\n\t\t\t\t};\n\t\t\t\t// The custom event that will be created\n\t\t\t\tif (document.createEvent) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tevnt = new CustomEvent(ev, params);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tevnt = document.createEvent(\"CustomEvent\");\n\t\t\t\t\t\tevnt.initCustomEvent(ev, params.bubbles, params.cancelable, params.detail);\n\t\t\t\t\t}\n\t\t\t\t\tif (events.type) extend(evnt, events);\n\t\t\t\t\telem.dispatchEvent(evnt);\n\t\t\t\t} else {\n\t\t\t\t\tevnt = document.createEventObject();\n\t\t\t\t\tevnt.eventType = ev;\n\t\t\t\t\tevnt.detail = arguments[1];\n\t\t\t\t\tif (events.type) extend(evnt, events);\n\t\t\t\t\telem.fireEvent(\"on\" + evnt.eventType, evnt);\n\t\t\t\t}\n\t\t\t} else if (eventRegistry[ev] !== undefined) {\n\t\t\t\targuments[0] = arguments[0].type ? arguments[0] : DependencyLib.Event(arguments[0]);\n\t\t\t\targuments[0].detail = arguments.slice(1);\n\t\t\t\tif (namespace === \"global\") {\n\t\t\t\t\tfor (var nmsp in eventRegistry[ev]) {\n\t\t\t\t\t\tfor (i = 0; i < eventRegistry[ev][nmsp].length; i++) {\n\t\t\t\t\t\t\teventRegistry[ev][nmsp][i].apply(elem, arguments);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (i = 0; i < eventRegistry[ev][namespace].length; i++) {\n\t\t\t\t\t\teventRegistry[ev][namespace][i].apply(elem, arguments);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn this;\n}","/*\n Input Mask plugin dependencyLib\n http://github.com/RobinHerbots/jquery.inputmask\n Copyright (c) Robin Herbots\n Licensed under the MIT license\n */\n\nimport extend from \"./extend\";\nimport window from \"../global/window\";\nimport data from \"./data\";\nimport { on, off, trigger, Event} from \"./events\";\n\nconst document = window.document;\n\nfunction DependencyLib(elem) {\n\tif (elem instanceof DependencyLib) {\n\t\treturn elem;\n\t}\n\tif (!(this instanceof DependencyLib)) {\n\t\treturn new DependencyLib(elem);\n\t}\n\tif (elem !== undefined && elem !== null && elem !== window) {\n\t\tthis[0] = elem.nodeName ? elem : (elem[0] !== undefined && elem[0].nodeName ? elem[0] : document.querySelector(elem));\n\t\tif (this[0] !== undefined && this[0] !== null) {\n\t\t\tthis[0].eventRegistry = this[0].eventRegistry || {};\n\t\t}\n\t}\n}\n\nDependencyLib.prototype = {\n\ton: on,\n\toff: off,\n\ttrigger: trigger\n};\n\n//static\nDependencyLib.extend = extend;\nDependencyLib.data = data;\nDependencyLib.Event = Event;\n\nexport default DependencyLib;\n","export default function (owner, key, value) {\n\tif (value === undefined) {\n\t\treturn owner.__data ? owner.__data[key] : null;\n\t} else {\n\t\towner.__data = owner.__data || {};\n\t\towner.__data[key] = value;\n\t}\n}","import $ from \"./dependencyLibs/inputmask.dependencyLib\";\n\nexport {generateMaskSet, analyseMask};\n\nfunction generateMaskSet(opts, nocache) {\n\tvar ms;\n\n\tfunction generateMask(mask, metadata, opts) {\n\t\tvar regexMask = false;\n\t\tif (mask === null || mask === \"\") {\n\t\t\tregexMask = opts.regex !== null;\n\t\t\tif (regexMask) {\n\t\t\t\tmask = opts.regex;\n\t\t\t\tmask = mask.replace(/^(\\^)(.*)(\\$)$/, \"$2\");\n\t\t\t} else {\n\t\t\t\tregexMask = true;\n\t\t\t\tmask = \".*\";\n\t\t\t}\n\t\t}\n\t\tif (mask.length === 1 && opts.greedy === false && opts.repeat !== 0) {\n\t\t\topts.placeholder = \"\";\n\t\t} //hide placeholder with single non-greedy mask\n\t\tif (opts.repeat > 0 || opts.repeat === \"*\" || opts.repeat === \"+\") {\n\t\t\tvar repeatStart = opts.repeat === \"*\" ? 0 : (opts.repeat === \"+\" ? 1 : opts.repeat);\n\t\t\tmask = opts.groupmarker[0] + mask + opts.groupmarker[1] + opts.quantifiermarker[0] + repeatStart + \",\" + opts.repeat + opts.quantifiermarker[1];\n\t\t}\n\n\t\t// console.log(mask);\n\t\tvar masksetDefinition, maskdefKey;\n\t\tmaskdefKey = regexMask ? \"regex_\" + opts.regex : opts.numericInput ? mask.split(\"\").reverse().join(\"\") : mask;\n\t\tif (opts.keepStatic !== false) { //keepstatic modifies the output from the testdefinitions ~ so differentiate in the maskcache\n\t\t\tmaskdefKey = \"ks_\" + maskdefKey;\n\t\t}\n\n\t\tif (Inputmask.prototype.masksCache[maskdefKey] === undefined || nocache === true) {\n\t\t\tmasksetDefinition = {\n\t\t\t\t\"mask\": mask,\n\t\t\t\t\"maskToken\": Inputmask.prototype.analyseMask(mask, regexMask, opts),\n\t\t\t\t\"validPositions\": {},\n\t\t\t\t\"_buffer\": undefined,\n\t\t\t\t\"buffer\": undefined,\n\t\t\t\t\"tests\": {},\n\t\t\t\t\"excludes\": {}, //excluded alternations\n\t\t\t\t\"metadata\": metadata,\n\t\t\t\t\"maskLength\": undefined,\n\t\t\t\t\"jitOffset\": {}\n\t\t\t};\n\t\t\tif (nocache !== true) {\n\t\t\t\tInputmask.prototype.masksCache[maskdefKey] = masksetDefinition;\n\t\t\t\tmasksetDefinition = $.extend(true, {}, Inputmask.prototype.masksCache[maskdefKey]);\n\t\t\t}\n\t\t} else {\n\t\t\tmasksetDefinition = $.extend(true, {}, Inputmask.prototype.masksCache[maskdefKey]);\n\t\t}\n\n\t\treturn masksetDefinition;\n\t}\n\n\tif (typeof opts.mask === \"function\") { //allow mask to be a preprocessing fn - should return a valid mask\n\t\topts.mask = opts.mask(opts);\n\t}\n\tif (Array.isArray(opts.mask)) {\n\t\tif (opts.mask.length > 1) {\n\t\t\tif (opts.keepStatic === null) { //enable by default when passing multiple masks when the option is not explicitly specified\n\t\t\t\topts.keepStatic = true;\n\t\t\t}\n\t\t\tvar altMask = opts.groupmarker[0];\n\t\t\t(opts.isRTL ? opts.mask.reverse() : opts.mask).forEach(function (msk) {\n\t\t\t\tif (altMask.length > 1) {\n\t\t\t\t\taltMask += opts.groupmarker[1] + opts.alternatormarker + opts.groupmarker[0];\n\t\t\t\t}\n\t\t\t\tif (msk.mask !== undefined && typeof msk.mask !== \"function\") {\n\t\t\t\t\taltMask += msk.mask;\n\t\t\t\t} else {\n\t\t\t\t\taltMask += msk;\n\t\t\t\t}\n\t\t\t});\n\t\t\taltMask += opts.groupmarker[1];\n\t\t\t// console.log(altMask);\n\t\t\treturn generateMask(altMask, opts.mask, opts);\n\t\t} else {\n\t\t\topts.mask = opts.mask.pop();\n\t\t}\n\t}\n\tif (opts.keepStatic === null) opts.keepStatic = false;\n\tif (opts.mask && opts.mask.mask !== undefined && typeof opts.mask.mask !== \"function\") {\n\t\tms = generateMask(opts.mask.mask, opts.mask, opts);\n\t} else {\n\t\tms = generateMask(opts.mask, opts.mask, opts);\n\t}\n\n\treturn ms;\n}\n\nfunction analyseMask(mask, regexMask, opts) {\n\tconst tokenizer = /(?:[?*+]|\\{[0-9+*]+(?:,[0-9+*]*)?(?:\\|[0-9+*]*)?\\})|[^.?*+^${[]()|\\\\]+|./g,\n\t\t//Thx to https://github.com/slevithan/regex-colorizer for the regexTokenizer regex\n\t\tregexTokenizer = /\\[\\^?]?(?:[^\\\\\\]]+|\\\\[\\S\\s]?)*]?|\\\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\\S\\s]?)|\\((?:\\?[:=!]?)?|(?:[?*+]|\\{[0-9]+(?:,[0-9]*)?\\})\\??|[^.?*+^${[()|\\\\]+|./g;\n\tvar escaped = false,\n\t\tcurrentToken = new MaskToken(),\n\t\tmatch,\n\t\tm,\n\t\topenenings = [],\n\t\tmaskTokens = [],\n\t\topeningToken,\n\t\tcurrentOpeningToken,\n\t\talternator,\n\t\tlastMatch,\n\t\tcloseRegexGroup = false;\n\n\tfunction MaskToken(isGroup, isOptional, isQuantifier, isAlternator) {\n\t\tthis.matches = [];\n\t\tthis.openGroup = isGroup || false;\n\t\tthis.alternatorGroup = false;\n\t\tthis.isGroup = isGroup || false;\n\t\tthis.isOptional = isOptional || false;\n\t\tthis.isQuantifier = isQuantifier || false;\n\t\tthis.isAlternator = isAlternator || false;\n\t\tthis.quantifier = {\n\t\t\tmin: 1,\n\t\t\tmax: 1\n\t\t};\n\t}\n\n\t//test definition => {fn: RegExp/function, static: true/false optionality: bool, newBlockMarker: bool, casing: null/upper/lower, def: definitionSymbol, placeholder: placeholder, mask: real maskDefinition}\n\tfunction insertTestDefinition(mtoken, element, position) {\n\t\tposition = position !== undefined ? position : mtoken.matches.length;\n\t\tvar prevMatch = mtoken.matches[position - 1];\n\t\tif (regexMask) {\n\t\t\tif (element.indexOf(\"[\") === 0 || (escaped && /\\\\d|\\\\s|\\\\w]/i.test(element)) || element === \".\") {\n\t\t\t\tmtoken.matches.splice(position++, 0, {\n\t\t\t\t\tfn: new RegExp(element, opts.casing ? \"i\" : \"\"),\n\t\t\t\t\tstatic: false,\n\t\t\t\t\toptionality: false,\n\t\t\t\t\tnewBlockMarker: prevMatch === undefined ? \"master\" : prevMatch.def !== element,\n\t\t\t\t\tcasing: null,\n\t\t\t\t\tdef: element,\n\t\t\t\t\tplaceholder: undefined,\n\t\t\t\t\tnativeDef: element\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tif (escaped) element = element[element.length - 1];\n\t\t\t\telement.split(\"\").forEach(function (lmnt, ndx) {\n\t\t\t\t\tprevMatch = mtoken.matches[position - 1];\n\t\t\t\t\tmtoken.matches.splice(position++, 0, {\n\t\t\t\t\t\tfn: /[a-z]/i.test((opts.staticDefinitionSymbol || lmnt)) ? new RegExp(\"[\" + (opts.staticDefinitionSymbol || lmnt) + \"]\", opts.casing ? \"i\" : \"\") : null,\n\t\t\t\t\t\tstatic: true,\n\t\t\t\t\t\toptionality: false,\n\t\t\t\t\t\tnewBlockMarker: prevMatch === undefined ? \"master\" : (prevMatch.def !== lmnt && prevMatch.static !== true),\n\t\t\t\t\t\tcasing: null,\n\t\t\t\t\t\tdef: opts.staticDefinitionSymbol || lmnt,\n\t\t\t\t\t\tplaceholder: opts.staticDefinitionSymbol !== undefined ? lmnt : undefined,\n\t\t\t\t\t\tnativeDef: (escaped ? \"'\" : \"\") + lmnt\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tescaped = false;\n\t\t} else {\n\t\t\tvar maskdef = (opts.definitions && opts.definitions[element]) || (opts.usePrototypeDefinitions && Inputmask.prototype.definitions[element]);\n\t\t\tif (maskdef && !escaped) {\n\t\t\t\tmtoken.matches.splice(position++, 0, {\n\t\t\t\t\tfn: maskdef.validator ? typeof maskdef.validator == \"string\" ? new RegExp(maskdef.validator, opts.casing ? \"i\" : \"\") : new function () {\n\t\t\t\t\t\tthis.test = maskdef.validator;\n\t\t\t\t\t} : new RegExp(\".\"),\n\t\t\t\t\tstatic: maskdef.static || false,\n\t\t\t\t\toptionality: false,\n\t\t\t\t\tnewBlockMarker: prevMatch === undefined ? \"master\" : prevMatch.def !== (maskdef.definitionSymbol || element),\n\t\t\t\t\tcasing: maskdef.casing,\n\t\t\t\t\tdef: maskdef.definitionSymbol || element,\n\t\t\t\t\tplaceholder: maskdef.placeholder,\n\t\t\t\t\tnativeDef: element,\n\t\t\t\t\tgenerated: maskdef.generated\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tmtoken.matches.splice(position++, 0, {\n\t\t\t\t\tfn: /[a-z]/i.test((opts.staticDefinitionSymbol || element)) ? new RegExp(\"[\" + (opts.staticDefinitionSymbol || element) + \"]\", opts.casing ? \"i\" : \"\") : null,\n\t\t\t\t\tstatic: true,\n\t\t\t\t\toptionality: false,\n\t\t\t\t\tnewBlockMarker: prevMatch === undefined ? \"master\" : (prevMatch.def !== element && prevMatch.static !== true),\n\t\t\t\t\tcasing: null,\n\t\t\t\t\tdef: opts.staticDefinitionSymbol || element,\n\t\t\t\t\tplaceholder: opts.staticDefinitionSymbol !== undefined ? element : undefined,\n\t\t\t\t\tnativeDef: (escaped ? \"'\" : \"\") + element\n\t\t\t\t});\n\t\t\t\tescaped = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction verifyGroupMarker(maskToken) {\n\t\tif (maskToken && maskToken.matches) {\n\t\t\tmaskToken.matches.forEach(function (token, ndx) {\n\t\t\t\tvar nextToken = maskToken.matches[ndx + 1];\n\t\t\t\tif ((nextToken === undefined || (nextToken.matches === undefined || nextToken.isQuantifier === false)) && token && token.isGroup) { //this is not a group but a normal mask => convert\n\t\t\t\t\ttoken.isGroup = false;\n\t\t\t\t\tif (!regexMask) {\n\t\t\t\t\t\tinsertTestDefinition(token, opts.groupmarker[0], 0);\n\t\t\t\t\t\tif (token.openGroup !== true) {\n\t\t\t\t\t\t\tinsertTestDefinition(token, opts.groupmarker[1]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tverifyGroupMarker(token);\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction defaultCase() {\n\t\tif (openenings.length > 0) {\n\t\t\tcurrentOpeningToken = openenings[openenings.length - 1];\n\t\t\tinsertTestDefinition(currentOpeningToken, m);\n\t\t\tif (currentOpeningToken.isAlternator) { //handle alternator a | b case\n\t\t\t\talternator = openenings.pop();\n\t\t\t\tfor (var mndx = 0; mndx < alternator.matches.length; mndx++) {\n\t\t\t\t\tif (alternator.matches[mndx].isGroup) alternator.matches[mndx].isGroup = false; //don't mark alternate groups as group\n\t\t\t\t}\n\t\t\t\tif (openenings.length > 0) {\n\t\t\t\t\tcurrentOpeningToken = openenings[openenings.length - 1];\n\t\t\t\t\tcurrentOpeningToken.matches.push(alternator);\n\t\t\t\t} else {\n\t\t\t\t\tcurrentToken.matches.push(alternator);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tinsertTestDefinition(currentToken, m);\n\t\t}\n\t}\n\n\tfunction reverseTokens(maskToken) {\n\t\tfunction reverseStatic(st) {\n\t\t\tif (st === opts.optionalmarker[0]) {\n\t\t\t\tst = opts.optionalmarker[1];\n\t\t\t} else if (st === opts.optionalmarker[1]) {\n\t\t\t\tst = opts.optionalmarker[0];\n\t\t\t} else if (st === opts.groupmarker[0]) {\n\t\t\t\tst = opts.groupmarker[1];\n\t\t\t} else if (st === opts.groupmarker[1]) st = opts.groupmarker[0];\n\n\t\t\treturn st;\n\t\t}\n\n\t\tmaskToken.matches = maskToken.matches.reverse();\n\t\tfor (var match in maskToken.matches) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(maskToken.matches, match)) {\n\t\t\t\tvar intMatch = parseInt(match);\n\t\t\t\tif (maskToken.matches[match].isQuantifier && maskToken.matches[intMatch + 1] && maskToken.matches[intMatch + 1].isGroup) { //reposition quantifier\n\t\t\t\t\tvar qt = maskToken.matches[match];\n\t\t\t\t\tmaskToken.matches.splice(match, 1);\n\t\t\t\t\tmaskToken.matches.splice(intMatch + 1, 0, qt);\n\t\t\t\t}\n\t\t\t\tif (maskToken.matches[match].matches !== undefined) {\n\t\t\t\t\tmaskToken.matches[match] = reverseTokens(maskToken.matches[match]);\n\t\t\t\t} else {\n\t\t\t\t\tmaskToken.matches[match] = reverseStatic(maskToken.matches[match]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn maskToken;\n\t}\n\n\tfunction groupify(matches) {\n\t\tvar groupToken = new MaskToken(true);\n\t\tgroupToken.openGroup = false;\n\t\tgroupToken.matches = matches;\n\t\treturn groupToken;\n\t}\n\n\tfunction closeGroup() {\n\t\t// Group closing\n\t\topeningToken = openenings.pop();\n\t\topeningToken.openGroup = false; //mark group as complete\n\t\tif (openingToken !== undefined) {\n\t\t\tif (openenings.length > 0) {\n\t\t\t\tcurrentOpeningToken = openenings[openenings.length - 1];\n\t\t\t\tcurrentOpeningToken.matches.push(openingToken);\n\t\t\t\tif (currentOpeningToken.isAlternator) { //handle alternator (a) | (b) case\n\t\t\t\t\talternator = openenings.pop();\n\t\t\t\t\tfor (var mndx = 0; mndx < alternator.matches.length; mndx++) {\n\t\t\t\t\t\talternator.matches[mndx].isGroup = false; //don't mark alternate groups as group\n\t\t\t\t\t\talternator.matches[mndx].alternatorGroup = false;\n\t\t\t\t\t}\n\t\t\t\t\tif (openenings.length > 0) {\n\t\t\t\t\t\tcurrentOpeningToken = openenings[openenings.length - 1];\n\t\t\t\t\t\tcurrentOpeningToken.matches.push(alternator);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrentToken.matches.push(alternator);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcurrentToken.matches.push(openingToken);\n\t\t\t}\n\t\t} else {\n\t\t\tdefaultCase();\n\t\t}\n\t}\n\n\tfunction groupQuantifier(matches) {\n\t\tvar lastMatch = matches.pop();\n\t\tif (lastMatch.isQuantifier) {\n\t\t\tlastMatch = groupify([matches.pop(), lastMatch]);\n\t\t}\n\t\treturn lastMatch;\n\t}\n\n\tif (regexMask) {\n\t\topts.optionalmarker[0] = undefined;\n\t\topts.optionalmarker[1] = undefined;\n\t}\n\twhile ((match = regexMask ? regexTokenizer.exec(mask) : tokenizer.exec(mask))) {\n\t\tm = match[0];\n\n\t\tif (regexMask) {\n\t\t\tswitch (m.charAt(0)) {\n\t\t\t\t//Quantifier\n\t\t\t\tcase \"?\":\n\t\t\t\t\tm = \"{0,1}\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"+\":\n\t\t\t\tcase \"*\":\n\t\t\t\t\tm = \"{\" + m + \"}\";\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"|\":\n\t\t\t\t\t//regex mask alternator  ex: [01][0-9]|2[0-3] => ([01][0-9]|2[0-3])\n\t\t\t\t\tif (openenings.length === 0) { //wrap the mask in a group to form a regex alternator  ([01][0-9]|2[0-3])\n\t\t\t\t\t\tvar altRegexGroup = groupify(currentToken.matches);\n\t\t\t\t\t\taltRegexGroup.openGroup = true;\n\t\t\t\t\t\topenenings.push(altRegexGroup);\n\t\t\t\t\t\tcurrentToken.matches = [];\n\t\t\t\t\t\tcloseRegexGroup = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (escaped) {\n\t\t\tdefaultCase();\n\t\t\tcontinue;\n\t\t}\n\t\tswitch (m.charAt(0)) {\n\t\t\tcase \"$\":\n\t\t\tcase \"^\":\n\t\t\t\t//ignore beginswith and endswith as in masking this makes no point\n\t\t\t\tif (!regexMask) {\n\t\t\t\t\tdefaultCase();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"(?=\": //lookahead\n\t\t\t\tbreak;\n\t\t\tcase \"(?!\": //negative lookahead\n\t\t\t\tbreak;\n\t\t\tcase \"(?<=\": //lookbehind\n\t\t\t\tbreak;\n\t\t\tcase \"(?<!\": //negative lookbehind\n\t\t\t\tbreak;\n\t\t\tcase opts.escapeChar:\n\t\t\t\tescaped = true;\n\t\t\t\tif (regexMask) {\n\t\t\t\t\tdefaultCase();\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t// optional closing\n\t\t\tcase opts.optionalmarker[1]:\n\t\t\tcase opts.groupmarker[1]:\n\t\t\t\tcloseGroup();\n\t\t\t\tbreak;\n\t\t\tcase opts.optionalmarker[0]:\n\t\t\t\t// optional opening\n\t\t\t\topenenings.push(new MaskToken(false, true));\n\t\t\t\tbreak;\n\t\t\tcase opts.groupmarker[0]:\n\t\t\t\t// Group opening\n\t\t\t\topenenings.push(new MaskToken(true));\n\t\t\t\tbreak;\n\t\t\tcase opts.quantifiermarker[0]:\n\t\t\t\t//Quantifier\n\t\t\t\tvar quantifier = new MaskToken(false, false, true);\n\n\t\t\t\tm = m.replace(/[{}]/g, \"\");\n\t\t\t\tvar mqj = m.split(\"|\"),\n\t\t\t\t\tmq = mqj[0].split(\",\"),\n\t\t\t\t\tmq0 = isNaN(mq[0]) ? mq[0] : parseInt(mq[0]),\n\t\t\t\t\tmq1 = mq.length === 1 ? mq0 : (isNaN(mq[1]) ? mq[1] : parseInt(mq[1]));\n\t\t\t\tif (mq0 === \"*\" || mq0 === \"+\") {\n\t\t\t\t\tmq0 = mq1 === \"*\" ? 0 : 1;\n\t\t\t\t}\n\t\t\t\tquantifier.quantifier = {\n\t\t\t\t\tmin: mq0,\n\t\t\t\t\tmax: mq1,\n\t\t\t\t\tjit: mqj[1]\n\t\t\t\t};\n\t\t\t\tvar matches = openenings.length > 0 ? openenings[openenings.length - 1].matches : currentToken.matches;\n\t\t\t\tmatch = matches.pop();\n\t\t\t\tif (match.isAlternator) { //handle quantifier in an alternation [0-9]{2}|[0-9]{3}\n\t\t\t\t\tmatches.push(match); //push back alternator\n\t\t\t\t\tmatches = match.matches; //remap target matches\n\t\t\t\t\tvar groupToken = new MaskToken(true);\n\t\t\t\t\tvar tmpMatch = matches.pop();\n\t\t\t\t\tmatches.push(groupToken); //push the group\n\t\t\t\t\tmatches = groupToken.matches;\n\t\t\t\t\tmatch = tmpMatch;\n\t\t\t\t}\n\t\t\t\tif (!match.isGroup) {\n\t\t\t\t\t// if (regexMask && match.fn === null) { //why is this needed???\n\t\t\t\t\t//     if (match.def === \".\") match.fn = new RegExp(match.def, opts.casing ? \"i\" : \"\");\n\t\t\t\t\t// }\n\n\t\t\t\t\tmatch = groupify([match]);\n\t\t\t\t}\n\t\t\t\tmatches.push(match);\n\t\t\t\tmatches.push(quantifier);\n\n\t\t\t\tbreak;\n\t\t\tcase opts.alternatormarker:\n\n\n\t\t\t\tif (openenings.length > 0) {\n\t\t\t\t\tcurrentOpeningToken = openenings[openenings.length - 1];\n\t\t\t\t\tvar subToken = currentOpeningToken.matches[currentOpeningToken.matches.length - 1];\n\t\t\t\t\tif (currentOpeningToken.openGroup && //regexp alt syntax\n\t\t\t\t\t\t(subToken.matches === undefined || (subToken.isGroup === false && subToken.isAlternator === false))) { //alternations within group\n\t\t\t\t\t\tlastMatch = openenings.pop();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlastMatch = groupQuantifier(currentOpeningToken.matches);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlastMatch = groupQuantifier(currentToken.matches);\n\t\t\t\t}\n\t\t\t\tif (lastMatch.isAlternator) {\n\t\t\t\t\topenenings.push(lastMatch);\n\t\t\t\t} else {\n\t\t\t\t\tif (lastMatch.alternatorGroup) {\n\t\t\t\t\t\talternator = openenings.pop();\n\t\t\t\t\t\tlastMatch.alternatorGroup = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\talternator = new MaskToken(false, false, false, true);\n\t\t\t\t\t}\n\t\t\t\t\talternator.matches.push(lastMatch);\n\t\t\t\t\topenenings.push(alternator);\n\t\t\t\t\tif (lastMatch.openGroup) { //regexp alt syntax\n\t\t\t\t\t\tlastMatch.openGroup = false;\n\t\t\t\t\t\tvar alternatorGroup = new MaskToken(true);\n\t\t\t\t\t\talternatorGroup.alternatorGroup = true;\n\t\t\t\t\t\topenenings.push(alternatorGroup);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tdefaultCase();\n\t\t}\n\t}\n\n\tif (closeRegexGroup) closeGroup();\n\n\twhile (openenings.length > 0) {\n\t\topeningToken = openenings.pop();\n\t\tcurrentToken.matches.push(openingToken);\n\t}\n\tif (currentToken.matches.length > 0) {\n\t\tverifyGroupMarker(currentToken);\n\t\tmaskTokens.push(currentToken);\n\t}\n\n\tif (opts.numericInput || opts.isRTL) {\n\t\treverseTokens(maskTokens[0]);\n\t}\n\t// console.log(JSON.stringify(maskTokens));\n\treturn maskTokens;\n}\n","/*\n * Input Mask Core\n * http://github.com/RobinHerbots/jquery.inputmask\n * Copyright (c) Robin Herbots\n * Licensed under the MIT license\n */\nimport \"./getPrototypeOf\";\nimport {mask} from \"./mask\";\nimport $ from \"./dependencyLibs/inputmask.dependencyLib\";\nimport window from \"./global/window\";\nimport {generateMaskSet, analyseMask} from \"./mask-lexer\";\nimport {getMaskTemplate} from \"./validation-tests\";\nimport {determineLastRequiredPosition, getBuffer, getBufferTemplate, isMask} from \"./positioning\";\nimport {isComplete} from \"./validation\";\nimport {checkVal, unmaskedvalue} from \"./inputHandling\";\nimport {EventRuler} from \"./eventruler\";\nimport definitions from \"./definitions\";\nimport defaults from \"./defaults\";\n\nconst document = window.document, dataKey = \"_inputmask_opts\";\n\nfunction Inputmask(alias, options, internal) {\n\t//allow instanciating without new\n\tif (!(this instanceof Inputmask)) {\n\t\treturn new Inputmask(alias, options, internal);\n\t}\n\n\tthis.dependencyLib = $;\n\tthis.el = undefined;\n\tthis.events = {};\n\tthis.maskset = undefined;\n\n\tif (internal !== true) {\n\t\t//init options\n\t\tif (Object.prototype.toString.call(alias) === \"[object Object]\") {\n\t\t\toptions = alias;\n\t\t} else {\n\t\t\toptions = options || {};\n\t\t\tif (alias) options.alias = alias;\n\t\t}\n\t\tthis.opts = $.extend(true, {}, this.defaults, options);\n\t\tthis.noMasksCache = options && options.definitions !== undefined;\n\t\tthis.userOptions = options || {}; //user passed options\n\t\tresolveAlias(this.opts.alias, options, this.opts);\n\t}\n\n\t//maskscope properties\n\tthis.refreshValue = false; //indicate a refresh from the inputvalue is needed (form.reset)\n\tthis.undoValue = undefined;\n\tthis.$el = undefined;\n\tthis.skipKeyPressEvent = false; //Safari 5.1.x - modal dialog fires keypress twice workaround\n\tthis.skipInputEvent = false; //skip when triggered from within inputmask\n\tthis.validationEvent = false;\n\tthis.ignorable = false;\n\tthis.maxLength;\n\tthis.mouseEnter = false;\n\tthis.originalPlaceholder = undefined; //needed for FF\n\tthis.isComposing = false; //keydowncode == 229  compositionevent fallback\n}\n\nInputmask.prototype = {\n\tdataAttribute: \"data-inputmask\", //data attribute prefix used for attribute binding\n\t//options default\n\tdefaults: defaults,\n\tdefinitions: definitions,\n\taliases: {}, //aliases definitions\n\tmasksCache: {},\n\tget isRTL() {\n\t\treturn this.opts.isRTL || this.opts.numericInput;\n\t},\n\tmask: function (elems) {\n\t\tvar that = this;\n\t\tif (typeof elems === \"string\") {\n\t\t\telems = document.getElementById(elems) || document.querySelectorAll(elems);\n\t\t}\n\t\telems = elems.nodeName ? [elems] : elems;\n\t\telems.forEach(function (el, ndx) {\n\t\t\tvar scopedOpts = $.extend(true, {}, that.opts);\n\t\t\tif (importAttributeOptions(el, scopedOpts, $.extend(true, {}, that.userOptions), that.dataAttribute)) {\n\t\t\t\tvar maskset = generateMaskSet(scopedOpts, that.noMasksCache);\n\t\t\t\tif (maskset !== undefined) {\n\t\t\t\t\tif (el.inputmask !== undefined) {\n\t\t\t\t\t\tel.inputmask.opts.autoUnmask = true; //force autounmasking when remasking\n\t\t\t\t\t\tel.inputmask.remove();\n\t\t\t\t\t}\n\t\t\t\t\t//store inputmask instance on the input with element reference\n\t\t\t\t\tel.inputmask = new Inputmask(undefined, undefined, true);\n\t\t\t\t\tel.inputmask.opts = scopedOpts;\n\t\t\t\t\tel.inputmask.noMasksCache = that.noMasksCache;\n\t\t\t\t\tel.inputmask.userOptions = $.extend(true, {}, that.userOptions);\n\t\t\t\t\t// el.inputmask.isRTL = scopedOpts.isRTL || scopedOpts.numericInput;\n\t\t\t\t\tel.inputmask.el = el;\n\t\t\t\t\tel.inputmask.$el = $(el);\n\t\t\t\t\tel.inputmask.maskset = maskset;\n\n\t\t\t\t\t$.data(el, dataKey, that.userOptions);\n\t\t\t\t\tmask.call(el.inputmask);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\treturn elems && elems[0] ? (elems[0].inputmask || this) : this;\n\t},\n\toption: function (options, noremask) { //set extra options || retrieve value of a current option\n\t\tif (typeof options === \"string\") {\n\t\t\treturn this.opts[options];\n\t\t} else if (typeof options === \"object\") {\n\t\t\t$.extend(this.userOptions, options); //user passed options\n\t\t\t//remask\n\t\t\tif (this.el && noremask !== true) {\n\t\t\t\tthis.mask(this.el);\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t},\n\tunmaskedvalue: function (value) {\n\t\tthis.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);\n\t\tif (this.el === undefined || value !== undefined) {\n\t\t\tvar valueBuffer = (typeof this.opts.onBeforeMask === \"function\" ? (this.opts.onBeforeMask.call(this, value, this.opts) || value) : value).split(\"\");\n\t\t\tcheckVal.call(this, undefined, false, false, valueBuffer);\n\t\t\tif (typeof this.opts.onBeforeWrite === \"function\") this.opts.onBeforeWrite.call(this, undefined, getBuffer.call(this), 0, this.opts);\n\t\t}\n\t\treturn unmaskedvalue.call(this, this.el);\n\t},\n\tremove: function () {\n\t\tif (this.el) {\n\t\t\t$.data(this.el, dataKey, null); //invalidate\n\t\t\t//writeout the value\n\t\t\tvar cv = this.opts.autoUnmask ? unmaskedvalue(this.el) : this._valueGet(this.opts.autoUnmask);\n\t\t\tif (cv !== getBufferTemplate.call(this).join(\"\")) this._valueSet(cv, this.opts.autoUnmask); else this._valueSet(\"\");\n\t\t\t//unbind all events\n\t\t\tEventRuler.off(this.el);\n\n\t\t\t//restore the value property\n\t\t\tvar valueProperty;\n\t\t\tif (Object.getOwnPropertyDescriptor && Object.getPrototypeOf) {\n\t\t\t\tvalueProperty = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el), \"value\");\n\t\t\t\tif (valueProperty) {\n\t\t\t\t\tif (this.__valueGet) {\n\t\t\t\t\t\tObject.defineProperty(this.el, \"value\", {\n\t\t\t\t\t\t\tget: this.__valueGet,\n\t\t\t\t\t\t\tset: this.__valueSet,\n\t\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (document.__lookupGetter__ && this.el.__lookupGetter__(\"value\")) {\n\t\t\t\tif (this.__valueGet) {\n\t\t\t\t\tthis.el.__defineGetter__(\"value\", this.__valueGet);\n\t\t\t\t\tthis.el.__defineSetter__(\"value\", this.__valueSet);\n\t\t\t\t}\n\t\t\t}\n\t\t\t//clear data\n\t\t\tthis.el.inputmask = undefined;\n\t\t}\n\t\treturn this.el;\n\t},\n\tgetemptymask: function () { //return the default (empty) mask value, usefull for setting the default value in validation\n\t\tthis.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);\n\t\treturn getBufferTemplate.call(this).join(\"\");\n\t},\n\thasMaskedValue: function () { //check wheter the returned value is masked or not; currently only works reliable when using jquery.val fn to retrieve the value\n\t\treturn !this.opts.autoUnmask;\n\t},\n\tisComplete: function () {\n\t\tthis.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);\n\t\treturn isComplete.call(this, getBuffer.call(this));\n\t},\n\tgetmetadata: function () { //return mask metadata if exists\n\t\tthis.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);\n\t\tif (Array.isArray(this.maskset.metadata)) {\n\t\t\tvar maskTarget = getMaskTemplate.call(this, true, 0, false).join(\"\");\n\t\t\tthis.maskset.metadata.forEach(function (mtdt) {\n\t\t\t\tif (mtdt.mask === maskTarget) {\n\t\t\t\t\tmaskTarget = mtdt;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\treturn maskTarget;\n\t\t}\n\t\treturn this.maskset.metadata;\n\t},\n\tisValid: function (value) {\n\t\tthis.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);\n\t\tif (value) {\n\t\t\tvar valueBuffer = (typeof this.opts.onBeforeMask === \"function\" ? (this.opts.onBeforeMask.call(this, value, this.opts) || value) : value).split(\"\");\n\t\t\tcheckVal.call(this, undefined, true, false, valueBuffer);\n\t\t} else {\n\t\t\tvalue = this.isRTL ? getBuffer.call(this).slice().reverse().join(\"\") : getBuffer.call(this).join(\"\");\n\t\t}\n\t\tvar buffer = getBuffer.call(this);\n\t\tvar rl = determineLastRequiredPosition.call(this),\n\t\t\tlmib = buffer.length - 1;\n\t\tfor (; lmib > rl; lmib--) {\n\t\t\tif (isMask.call(this, lmib)) break;\n\t\t}\n\t\tbuffer.splice(rl, lmib + 1 - rl);\n\n\t\treturn isComplete.call(this, buffer) && value === (this.isRTL ? getBuffer.call(this).slice().reverse().join(\"\") : getBuffer.call(this).join(\"\"));\n\n\t},\n\tformat: function (value, metadata) {\n\t\tthis.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);\n\t\tlet valueBuffer = (typeof this.opts.onBeforeMask === \"function\" ? (this.opts.onBeforeMask.call(this, value, this.opts) || value) : value).split(\"\");\n\t\tcheckVal.call(this, undefined, true, false, valueBuffer);\n\t\tlet formattedValue = this.isRTL ? getBuffer.call(this).slice().reverse().join(\"\") : getBuffer.call(this).join(\"\");\n\t\treturn metadata ? {\n\t\t\tvalue: formattedValue,\n\t\t\tmetadata: this.getmetadata()\n\t\t} : formattedValue;\n\t},\n\tsetValue: function (value) {\n\t\tif (this.el) {\n\t\t\t$(this.el).trigger(\"setvalue\", [value]);\n\t\t}\n\t},\n\tanalyseMask: analyseMask\n};\n\nfunction resolveAlias(aliasStr, options, opts) {\n\tvar aliasDefinition = Inputmask.prototype.aliases[aliasStr];\n\tif (aliasDefinition) {\n\t\tif (aliasDefinition.alias) resolveAlias(aliasDefinition.alias, undefined, opts); //alias is another alias\n\t\t$.extend(true, opts, aliasDefinition); //merge alias definition in the options\n\t\t$.extend(true, opts, options); //reapply extra given options\n\t\treturn true;\n\t} else //alias not found - try as mask\n\tif (opts.mask === null) {\n\t\topts.mask = aliasStr;\n\t}\n\n\treturn false;\n}\n\nfunction importAttributeOptions(npt, opts, userOptions, dataAttribute) {\n\tfunction importOption(option, optionData) {\n\t\tconst attrOption = dataAttribute === \"\" ? option : dataAttribute + \"-\" + option;\n\t\toptionData = optionData !== undefined ? optionData : npt.getAttribute(attrOption);\n\t\tif (optionData !== null) {\n\t\t\tif (typeof optionData === \"string\") {\n\t\t\t\tif (option.indexOf(\"on\") === 0) {\n\t\t\t\t\toptionData = window[optionData];\n\t\t\t\t}//get function definition\n\t\t\t\telse if (optionData === \"false\") {\n\t\t\t\t\toptionData = false;\n\t\t\t\t} else if (optionData === \"true\") optionData = true;\n\t\t\t}\n\t\t\tuserOptions[option] = optionData;\n\t\t}\n\t}\n\n\tif (opts.importDataAttributes === true) {\n\t\tvar attrOptions = npt.getAttribute(dataAttribute), option, dataoptions, optionData, p;\n\n\t\tif (attrOptions && attrOptions !== \"\") {\n\t\t\tattrOptions = attrOptions.replace(/'/g, \"\\\"\");\n\t\t\tdataoptions = JSON.parse(\"{\" + attrOptions + \"}\");\n\t\t}\n\n\t\t//resolve aliases\n\t\tif (dataoptions) { //pickup alias from dataAttribute\n\t\t\toptionData = undefined;\n\t\t\tfor (p in dataoptions) {\n\t\t\t\tif (p.toLowerCase() === \"alias\") {\n\t\t\t\t\toptionData = dataoptions[p];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\timportOption(\"alias\", optionData); //pickup alias from dataAttribute-alias\n\t\tif (userOptions.alias) {\n\t\t\tresolveAlias(userOptions.alias, userOptions, opts);\n\t\t}\n\n\t\tfor (option in opts) {\n\t\t\tif (dataoptions) {\n\t\t\t\toptionData = undefined;\n\t\t\t\tfor (p in dataoptions) {\n\t\t\t\t\tif (p.toLowerCase() === option.toLowerCase()) {\n\t\t\t\t\t\toptionData = dataoptions[p];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\timportOption(option, optionData);\n\t\t}\n\t}\n\t$.extend(true, opts, userOptions);\n\n\t//handle dir=rtl\n\tif (npt.dir === \"rtl\" || opts.rightAlign) {\n\t\tnpt.style.textAlign = \"right\";\n\t}\n\n\tif (npt.dir === \"rtl\" || opts.numericInput) {\n\t\tnpt.dir = \"ltr\";\n\t\tnpt.removeAttribute(\"dir\");\n\t\topts.isRTL = true;\n\t}\n\n\treturn Object.keys(userOptions).length;\n}\n\n//apply defaults, definitions, aliases\nInputmask.extendDefaults = function (options) {\n\t$.extend(true, Inputmask.prototype.defaults, options);\n};\nInputmask.extendDefinitions = function (definition) {\n\t$.extend(true, Inputmask.prototype.definitions, definition);\n};\nInputmask.extendAliases = function (alias) {\n\t$.extend(true, Inputmask.prototype.aliases, alias);\n};\n//static fn on inputmask\nInputmask.format = function (value, options, metadata) {\n\treturn Inputmask(options).format(value, metadata);\n};\nInputmask.unmask = function (value, options) {\n\treturn Inputmask(options).unmaskedvalue(value);\n};\nInputmask.isValid = function (value, options) {\n\treturn Inputmask(options).isValid(value);\n};\nInputmask.remove = function (elems) {\n\tif (typeof elems === \"string\") {\n\t\telems = document.getElementById(elems) || document.querySelectorAll(elems);\n\t}\n\telems = elems.nodeName ? [elems] : elems;\n\telems.forEach(function (el) {\n\t\tif (el.inputmask) el.inputmask.remove();\n\t});\n};\nInputmask.setValue = function (elems, value) {\n\tif (typeof elems === \"string\") {\n\t\telems = document.getElementById(elems) || document.querySelectorAll(elems);\n\t}\n\telems = elems.nodeName ? [elems] : elems;\n\telems.forEach(function (el) {\n\t\tif (el.inputmask) el.inputmask.setValue(value); else $(el).trigger(\"setvalue\", [value]);\n\t});\n};\n\nInputmask.dependencyLib = $;\n\n//make inputmask available\nwindow.Inputmask = Inputmask;\nexport default Inputmask;\n","export default {\n\t_maxTestPos: 500,\n\tplaceholder: \"_\",\n\toptionalmarker: [\"[\", \"]\"],\n\tquantifiermarker: [\"{\", \"}\"],\n\tgroupmarker: [\"(\", \")\"],\n\talternatormarker: \"|\",\n\tescapeChar: \"\\\\\",\n\tmask: null, //needs tobe null instead of undefined as the extend method does not consider props with the undefined value\n\tregex: null, //regular expression as a mask\n\toncomplete: () => {\n\t}, //executes when the mask is complete\n\tonincomplete: () => {\n\t}, //executes when the mask is incomplete and focus is lost\n\toncleared: () => {\n\t}, //executes when the mask is cleared\n\trepeat: 0, //repetitions of the mask: * ~ forever, otherwise specify an integer\n\tgreedy: false, //true: allocated buffer for the mask and repetitions - false: allocate only if needed\n\tautoUnmask: false, //automatically unmask when retrieving the value with $.fn.val or value if the browser supports __lookupGetter__ or getOwnPropertyDescriptor\n\tremoveMaskOnSubmit: false, //remove the mask before submitting the form.\n\tclearMaskOnLostFocus: true,\n\tinsertMode: true, //insert the input or overwrite the input\n\tinsertModeVisual: true, //show selected caret when insertmode = false\n\tclearIncomplete: false, //clear the incomplete input on blur\n\talias: null,\n\tonKeyDown: () => {\n\t}, //callback to implement autocomplete on certain keys for example. args => event, buffer, caretPos, opts\n\tonBeforeMask: null, //executes before masking the initial value to allow preprocessing of the initial value.\targs => initialValue, opts => return processedValue\n\tonBeforePaste: function (pastedValue, opts) {\n\t\treturn typeof opts.onBeforeMask === \"function\" ? opts.onBeforeMask.call(this, pastedValue, opts) : pastedValue;\n\t}, //executes before masking the pasted value to allow preprocessing of the pasted value.\targs => pastedValue, opts => return processedValue\n\tonBeforeWrite: null, //executes before writing to the masked element. args => event, opts\n\tonUnMask: null, //executes after unmasking to allow postprocessing of the unmaskedvalue.\targs => maskedValue, unmaskedValue, opts\n\tshowMaskOnFocus: true, //show the mask-placeholder when the input has focus\n\tshowMaskOnHover: true, //show the mask-placeholder when hovering the empty input\n\tonKeyValidation: () => {\n\t}, //executes on every key-press with the result of isValid. Params: key, result, opts\n\tskipOptionalPartCharacter: \" \", //a character which can be used to skip an optional part of a mask\n\tnumericInput: false, //numericInput input direction style (input shifts to the left while holding the caret position)\n\trightAlign: false, //align to the right\n\tundoOnEscape: true, //pressing escape reverts the value to the value before focus\n\t//numeric basic properties\n\tradixPoint: \"\", //\".\", // | \",\"\n\t_radixDance: false, //dance around the radixPoint\n\tgroupSeparator: \"\", //\",\", // | \".\"\n\t//numeric basic properties\n\tkeepStatic: null, //try to keep the mask static while typing. Decisions to alter the mask will be posponed if possible\n\tpositionCaretOnTab: true, //when enabled the caret position is set after the latest valid position on TAB\n\ttabThrough: false, //allows for tabbing through the different parts of the masked field\n\tsupportsInputType: [\"text\", \"tel\", \"url\", \"password\", \"search\"], //list with the supported input types\n\t//specify keyCodes which should not be considered in the keypress event, otherwise the preventDefault will stop their default behavior especially in FF\n\tignorables: [8, 9, 19, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 93, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 229],\n\tisComplete: null, //override for isComplete - args => buffer, opts - return true || false\n\tpreValidation: null, //hook to preValidate the input.  Usefull for validating regardless the definition.\targs => buffer, pos, char, isSelection, opts, maskset, caretPos, strict => return true/false/command object\n\tpostValidation: null, //hook to postValidate the result from isValid.\tUsefull for validating the entry as a whole.\targs => buffer, pos, c, currentResult, opts, maskset, strict, fromCheckval => return true/false/json\n\tstaticDefinitionSymbol: undefined, //specify a definitionSymbol for static content, used to make matches for alternators\n\tjitMasking: false, //just in time masking ~ only mask while typing, can n (number), true or false\n\tnullable: true, //return nothing instead of the buffertemplate when the user hasn't entered anything.\n\tinputEventOnly: false, //dev option - testing inputfallback behavior\n\tnoValuePatching: false, //disable value property patching\n\tpositionCaretOnClick: \"lvp\", //none, lvp (based on the last valid position (default), radixFocus (position caret to radixpoint on initial click), select (select the whole input), ignore (ignore the click and continue the mask)\n\tcasing: null, //mask-level casing. Options: null, \"upper\", \"lower\" or \"title\" or callback args => elem, test, pos, validPositions return charValue\n\tinputmode: \"text\", //specify the inputmode\n\timportDataAttributes: true, //import data-inputmask attributes\n\tshiftPositions: true, //shift position of the mask entries on entry and deletion.\n\tusePrototypeDefinitions: true //use the default defined definitions from the prototype\n};","export default {\n\t\"9\": { //\\uFF11-\\uFF19 #1606\n\t\tvalidator: \"[0-9\\uFF10-\\uFF19]\",\n\t\tdefinitionSymbol: \"*\"\n\t},\n\t\"a\": { //\\u0410-\\u044F\\u0401\\u0451\\u00C0-\\u00FF\\u00B5 #76\n\t\tvalidator: \"[A-Za-z\\u0410-\\u044F\\u0401\\u0451\\u00C0-\\u00FF\\u00B5]\",\n\t\tdefinitionSymbol: \"*\"\n\t},\n\t\"*\": {\n\t\tvalidator: \"[0-9\\uFF10-\\uFF19A-Za-z\\u0410-\\u044F\\u0401\\u0451\\u00C0-\\u00FF\\u00B5]\"\n\t}\n}","import JustValidate from 'just-validate';\r\nimport \"@enp/inputmask/lib/inputmask\";\r\n\r\nconst SELECTORS = {\r\n    tel: 'input[type=\"tel\"]',\r\n}\r\n\r\n\r\nexport default class ValidateForm {\r\n    constructor(block) {\r\n        this.block = block;\r\n        this.telBlock = block.querySelector(SELECTORS.tel);\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        this.addTelMask();\r\n        this.JustValidate();\r\n    }\r\n    addTelMask() {\r\n        const inputMasks = new Inputmask('(999) 999-999', {showMaskOnHover: false});\r\n        inputMasks.mask(this.telBlock);\r\n    }\r\n\r\n    JustValidate() {\r\n        const validate = new JustValidate(this.block, {\r\n            errorLabelCssClass: 'form__error',\r\n            testingMode: true,\r\n        });\r\n        validate.addField(\"#name\", [\r\n            {\r\n                rule: \"required\",\r\n                errorMessage: 'This field is required',\r\n            },\r\n            {\r\n                rule: 'minLength',\r\n                value: 2,\r\n                errorMessage: 'The field must not be shorter than 2 characters',\r\n            },\r\n            {\r\n                rule: 'maxLength',\r\n                value: 30,\r\n                errorMessage: 'The field must not be longer than 30 characters',\r\n\r\n            },\r\n        ]).addField('#phone', [\r\n            {\r\n                rule: \"required\",\r\n                errorMessage: 'This field is required',\r\n            },\r\n            {\r\n                validator: () => {\r\n                    const phone = this.telBlock.inputmask.unmaskedvalue();\r\n                    return Boolean(phone.length === 9 && Number(phone));\r\n                },\r\n                errorMessage: 'The phone number is invalid!'\r\n            }\r\n        ]).addField(\"#email\", [\r\n            {\r\n                rule: 'required',\r\n                errorMessage: 'This field is required',\r\n            },\r\n            {\r\n                rule: 'email',\r\n                errorMessage: 'Email is invalid!',\r\n            },\r\n        ]).onSuccess(() => {\r\n            this.submitForm();\r\n            alert(\"The form has been submitted\");\r\n            this.block.reset();\r\n        });\r\n    }\r\n\r\n    submitForm() {\r\n        fetch('https://jsonplaceholder.typicode.com/posts', {\r\n            method: 'POST',\r\n            body: new FormData(this.block),\r\n        })\r\n            .then(response => response.json())\r\n            .then(json => console.log(json));\r\n    }\r\n}","const SELECTORS = {\r\n    icon: \".header__icon\",\r\n    menu: \".header__menu\",\r\n}\r\n\r\n\r\nexport default class Menu {\r\n    constructor(block) {\r\n        this.block = block;\r\n        this.icon = this.block.querySelector(SELECTORS.icon);\r\n        this.menuBurger = this.block.querySelector(SELECTORS.menu);\r\n\r\n        this.addClassToElements = this.addClassToElements.bind(this);\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n\r\n        this.setListener(this.icon, this.addClassToElements);\r\n    }\r\n\r\n    setListener(el, method) {\r\n        el.addEventListener('click', method);\r\n    }\r\n\r\n    addClassToElements() {\r\n        this.icon.classList.toggle('active');\r\n        this.menuBurger.classList.toggle('active');\r\n        document.body.classList.toggle(\"lock\");\r\n    }\r\n\r\n}","/**\n * SSR Window 4.0.2\n * Better handling for window object in SSR environment\n * https://github.com/nolimits4web/ssr-window\n *\n * Copyright 2021, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: December 13, 2021\n */\n/* eslint-disable no-param-reassign */\nfunction isObject(obj) {\n    return (obj !== null &&\n        typeof obj === 'object' &&\n        'constructor' in obj &&\n        obj.constructor === Object);\n}\nfunction extend(target = {}, src = {}) {\n    Object.keys(src).forEach((key) => {\n        if (typeof target[key] === 'undefined')\n            target[key] = src[key];\n        else if (isObject(src[key]) &&\n            isObject(target[key]) &&\n            Object.keys(src[key]).length > 0) {\n            extend(target[key], src[key]);\n        }\n    });\n}\n\nconst ssrDocument = {\n    body: {},\n    addEventListener() { },\n    removeEventListener() { },\n    activeElement: {\n        blur() { },\n        nodeName: '',\n    },\n    querySelector() {\n        return null;\n    },\n    querySelectorAll() {\n        return [];\n    },\n    getElementById() {\n        return null;\n    },\n    createEvent() {\n        return {\n            initEvent() { },\n        };\n    },\n    createElement() {\n        return {\n            children: [],\n            childNodes: [],\n            style: {},\n            setAttribute() { },\n            getElementsByTagName() {\n                return [];\n            },\n        };\n    },\n    createElementNS() {\n        return {};\n    },\n    importNode() {\n        return null;\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n};\nfunction getDocument() {\n    const doc = typeof document !== 'undefined' ? document : {};\n    extend(doc, ssrDocument);\n    return doc;\n}\n\nconst ssrWindow = {\n    document: ssrDocument,\n    navigator: {\n        userAgent: '',\n    },\n    location: {\n        hash: '',\n        host: '',\n        hostname: '',\n        href: '',\n        origin: '',\n        pathname: '',\n        protocol: '',\n        search: '',\n    },\n    history: {\n        replaceState() { },\n        pushState() { },\n        go() { },\n        back() { },\n    },\n    CustomEvent: function CustomEvent() {\n        return this;\n    },\n    addEventListener() { },\n    removeEventListener() { },\n    getComputedStyle() {\n        return {\n            getPropertyValue() {\n                return '';\n            },\n        };\n    },\n    Image() { },\n    Date() { },\n    screen: {},\n    setTimeout() { },\n    clearTimeout() { },\n    matchMedia() {\n        return {};\n    },\n    requestAnimationFrame(callback) {\n        if (typeof setTimeout === 'undefined') {\n            callback();\n            return null;\n        }\n        return setTimeout(callback, 0);\n    },\n    cancelAnimationFrame(id) {\n        if (typeof setTimeout === 'undefined') {\n            return;\n        }\n        clearTimeout(id);\n    },\n};\nfunction getWindow() {\n    const win = typeof window !== 'undefined' ? window : {};\n    extend(win, ssrWindow);\n    return win;\n}\n\nexport { extend, getDocument, getWindow, ssrDocument, ssrWindow };\n","/**\n * Dom7 4.0.4\n * Minimalistic JavaScript library for DOM manipulation, with a jQuery-compatible API\n * https://framework7.io/docs/dom7.html\n *\n * Copyright 2022, Vladimir Kharlampidi\n *\n * Licensed under MIT\n *\n * Released on: January 11, 2022\n */\nimport { getWindow, getDocument } from 'ssr-window';\n\n/* eslint-disable no-proto */\nfunction makeReactive(obj) {\n  const proto = obj.__proto__;\n  Object.defineProperty(obj, '__proto__', {\n    get() {\n      return proto;\n    },\n\n    set(value) {\n      proto.__proto__ = value;\n    }\n\n  });\n}\n\nclass Dom7 extends Array {\n  constructor(items) {\n    if (typeof items === 'number') {\n      super(items);\n    } else {\n      super(...(items || []));\n      makeReactive(this);\n    }\n  }\n\n}\n\nfunction arrayFlat(arr = []) {\n  const res = [];\n  arr.forEach(el => {\n    if (Array.isArray(el)) {\n      res.push(...arrayFlat(el));\n    } else {\n      res.push(el);\n    }\n  });\n  return res;\n}\nfunction arrayFilter(arr, callback) {\n  return Array.prototype.filter.call(arr, callback);\n}\nfunction arrayUnique(arr) {\n  const uniqueArray = [];\n\n  for (let i = 0; i < arr.length; i += 1) {\n    if (uniqueArray.indexOf(arr[i]) === -1) uniqueArray.push(arr[i]);\n  }\n\n  return uniqueArray;\n}\nfunction toCamelCase(string) {\n  return string.toLowerCase().replace(/-(.)/g, (match, group) => group.toUpperCase());\n}\n\n// eslint-disable-next-line\n\nfunction qsa(selector, context) {\n  if (typeof selector !== 'string') {\n    return [selector];\n  }\n\n  const a = [];\n  const res = context.querySelectorAll(selector);\n\n  for (let i = 0; i < res.length; i += 1) {\n    a.push(res[i]);\n  }\n\n  return a;\n}\n\nfunction $(selector, context) {\n  const window = getWindow();\n  const document = getDocument();\n  let arr = [];\n\n  if (!context && selector instanceof Dom7) {\n    return selector;\n  }\n\n  if (!selector) {\n    return new Dom7(arr);\n  }\n\n  if (typeof selector === 'string') {\n    const html = selector.trim();\n\n    if (html.indexOf('<') >= 0 && html.indexOf('>') >= 0) {\n      let toCreate = 'div';\n      if (html.indexOf('<li') === 0) toCreate = 'ul';\n      if (html.indexOf('<tr') === 0) toCreate = 'tbody';\n      if (html.indexOf('<td') === 0 || html.indexOf('<th') === 0) toCreate = 'tr';\n      if (html.indexOf('<tbody') === 0) toCreate = 'table';\n      if (html.indexOf('<option') === 0) toCreate = 'select';\n      const tempParent = document.createElement(toCreate);\n      tempParent.innerHTML = html;\n\n      for (let i = 0; i < tempParent.childNodes.length; i += 1) {\n        arr.push(tempParent.childNodes[i]);\n      }\n    } else {\n      arr = qsa(selector.trim(), context || document);\n    } // arr = qsa(selector, document);\n\n  } else if (selector.nodeType || selector === window || selector === document) {\n    arr.push(selector);\n  } else if (Array.isArray(selector)) {\n    if (selector instanceof Dom7) return selector;\n    arr = selector;\n  }\n\n  return new Dom7(arrayUnique(arr));\n}\n\n$.fn = Dom7.prototype;\n\n// eslint-disable-next-line\n\nfunction addClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.add(...classNames);\n  });\n  return this;\n}\n\nfunction removeClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    el.classList.remove(...classNames);\n  });\n  return this;\n}\n\nfunction toggleClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  this.forEach(el => {\n    classNames.forEach(className => {\n      el.classList.toggle(className);\n    });\n  });\n}\n\nfunction hasClass(...classes) {\n  const classNames = arrayFlat(classes.map(c => c.split(' ')));\n  return arrayFilter(this, el => {\n    return classNames.filter(className => el.classList.contains(className)).length > 0;\n  }).length > 0;\n}\n\nfunction attr(attrs, value) {\n  if (arguments.length === 1 && typeof attrs === 'string') {\n    // Get attr\n    if (this[0]) return this[0].getAttribute(attrs);\n    return undefined;\n  } // Set attrs\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (arguments.length === 2) {\n      // String\n      this[i].setAttribute(attrs, value);\n    } else {\n      // Object\n      for (const attrName in attrs) {\n        this[i][attrName] = attrs[attrName];\n        this[i].setAttribute(attrName, attrs[attrName]);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction removeAttr(attr) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].removeAttribute(attr);\n  }\n\n  return this;\n}\n\nfunction prop(props, value) {\n  if (arguments.length === 1 && typeof props === 'string') {\n    // Get prop\n    if (this[0]) return this[0][props];\n  } else {\n    // Set props\n    for (let i = 0; i < this.length; i += 1) {\n      if (arguments.length === 2) {\n        // String\n        this[i][props] = value;\n      } else {\n        // Object\n        for (const propName in props) {\n          this[i][propName] = props[propName];\n        }\n      }\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction data(key, value) {\n  let el;\n\n  if (typeof value === 'undefined') {\n    el = this[0];\n    if (!el) return undefined; // Get value\n\n    if (el.dom7ElementDataStorage && key in el.dom7ElementDataStorage) {\n      return el.dom7ElementDataStorage[key];\n    }\n\n    const dataKey = el.getAttribute(`data-${key}`);\n\n    if (dataKey) {\n      return dataKey;\n    }\n\n    return undefined;\n  } // Set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    el = this[i];\n    if (!el.dom7ElementDataStorage) el.dom7ElementDataStorage = {};\n    el.dom7ElementDataStorage[key] = value;\n  }\n\n  return this;\n}\n\nfunction removeData(key) {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.dom7ElementDataStorage && el.dom7ElementDataStorage[key]) {\n      el.dom7ElementDataStorage[key] = null;\n      delete el.dom7ElementDataStorage[key];\n    }\n  }\n}\n\nfunction dataset() {\n  const el = this[0];\n  if (!el) return undefined;\n  const dataset = {}; // eslint-disable-line\n\n  if (el.dataset) {\n    for (const dataKey in el.dataset) {\n      dataset[dataKey] = el.dataset[dataKey];\n    }\n  } else {\n    for (let i = 0; i < el.attributes.length; i += 1) {\n      const attr = el.attributes[i];\n\n      if (attr.name.indexOf('data-') >= 0) {\n        dataset[toCamelCase(attr.name.split('data-')[1])] = attr.value;\n      }\n    }\n  }\n\n  for (const key in dataset) {\n    if (dataset[key] === 'false') dataset[key] = false;else if (dataset[key] === 'true') dataset[key] = true;else if (parseFloat(dataset[key]) === dataset[key] * 1) dataset[key] *= 1;\n  }\n\n  return dataset;\n}\n\nfunction val(value) {\n  if (typeof value === 'undefined') {\n    // get value\n    const el = this[0];\n    if (!el) return undefined;\n\n    if (el.multiple && el.nodeName.toLowerCase() === 'select') {\n      const values = [];\n\n      for (let i = 0; i < el.selectedOptions.length; i += 1) {\n        values.push(el.selectedOptions[i].value);\n      }\n\n      return values;\n    }\n\n    return el.value;\n  } // set value\n\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (Array.isArray(value) && el.multiple && el.nodeName.toLowerCase() === 'select') {\n      for (let j = 0; j < el.options.length; j += 1) {\n        el.options[j].selected = value.indexOf(el.options[j].value) >= 0;\n      }\n    } else {\n      el.value = value;\n    }\n  }\n\n  return this;\n}\n\nfunction value(value) {\n  return this.val(value);\n}\n\nfunction transform(transform) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transform = transform;\n  }\n\n  return this;\n}\n\nfunction transition(duration) {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.transitionDuration = typeof duration !== 'string' ? `${duration}ms` : duration;\n  }\n\n  return this;\n}\n\nfunction on(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n\n  function handleLiveEvent(e) {\n    const target = e.target;\n    if (!target) return;\n    const eventData = e.target.dom7EventData || [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    if ($(target).is(targetSelector)) listener.apply(target, eventData);else {\n      const parents = $(target).parents(); // eslint-disable-line\n\n      for (let k = 0; k < parents.length; k += 1) {\n        if ($(parents[k]).is(targetSelector)) listener.apply(parents[k], eventData);\n      }\n    }\n  }\n\n  function handleEvent(e) {\n    const eventData = e && e.target ? e.target.dom7EventData || [] : [];\n\n    if (eventData.indexOf(e) < 0) {\n      eventData.unshift(e);\n    }\n\n    listener.apply(this, eventData);\n  }\n\n  const events = eventType.split(' ');\n  let j;\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (!targetSelector) {\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7Listeners) el.dom7Listeners = {};\n        if (!el.dom7Listeners[event]) el.dom7Listeners[event] = [];\n        el.dom7Listeners[event].push({\n          listener,\n          proxyListener: handleEvent\n        });\n        el.addEventListener(event, handleEvent, capture);\n      }\n    } else {\n      // Live events\n      for (j = 0; j < events.length; j += 1) {\n        const event = events[j];\n        if (!el.dom7LiveListeners) el.dom7LiveListeners = {};\n        if (!el.dom7LiveListeners[event]) el.dom7LiveListeners[event] = [];\n        el.dom7LiveListeners[event].push({\n          listener,\n          proxyListener: handleLiveEvent\n        });\n        el.addEventListener(event, handleLiveEvent, capture);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction off(...args) {\n  let [eventType, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventType, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  if (!capture) capture = false;\n  const events = eventType.split(' ');\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n      let handlers;\n\n      if (!targetSelector && el.dom7Listeners) {\n        handlers = el.dom7Listeners[event];\n      } else if (targetSelector && el.dom7LiveListeners) {\n        handlers = el.dom7LiveListeners[event];\n      }\n\n      if (handlers && handlers.length) {\n        for (let k = handlers.length - 1; k >= 0; k -= 1) {\n          const handler = handlers[k];\n\n          if (listener && handler.listener === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (listener && handler.listener && handler.listener.dom7proxy && handler.listener.dom7proxy === listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          } else if (!listener) {\n            el.removeEventListener(event, handler.proxyListener, capture);\n            handlers.splice(k, 1);\n          }\n        }\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction once(...args) {\n  const dom = this;\n  let [eventName, targetSelector, listener, capture] = args;\n\n  if (typeof args[1] === 'function') {\n    [eventName, listener, capture] = args;\n    targetSelector = undefined;\n  }\n\n  function onceHandler(...eventArgs) {\n    listener.apply(this, eventArgs);\n    dom.off(eventName, targetSelector, onceHandler, capture);\n\n    if (onceHandler.dom7proxy) {\n      delete onceHandler.dom7proxy;\n    }\n  }\n\n  onceHandler.dom7proxy = listener;\n  return dom.on(eventName, targetSelector, onceHandler, capture);\n}\n\nfunction trigger(...args) {\n  const window = getWindow();\n  const events = args[0].split(' ');\n  const eventData = args[1];\n\n  for (let i = 0; i < events.length; i += 1) {\n    const event = events[i];\n\n    for (let j = 0; j < this.length; j += 1) {\n      const el = this[j];\n\n      if (window.CustomEvent) {\n        const evt = new window.CustomEvent(event, {\n          detail: eventData,\n          bubbles: true,\n          cancelable: true\n        });\n        el.dom7EventData = args.filter((data, dataIndex) => dataIndex > 0);\n        el.dispatchEvent(evt);\n        el.dom7EventData = [];\n        delete el.dom7EventData;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction transitionEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('transitionend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('transitionend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction animationEnd(callback) {\n  const dom = this;\n\n  function fireCallBack(e) {\n    if (e.target !== this) return;\n    callback.call(this, e);\n    dom.off('animationend', fireCallBack);\n  }\n\n  if (callback) {\n    dom.on('animationend', fireCallBack);\n  }\n\n  return this;\n}\n\nfunction width() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerWidth;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('width'));\n  }\n\n  return null;\n}\n\nfunction outerWidth(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetWidth + parseFloat(styles.getPropertyValue('margin-right')) + parseFloat(styles.getPropertyValue('margin-left'));\n    }\n\n    return this[0].offsetWidth;\n  }\n\n  return null;\n}\n\nfunction height() {\n  const window = getWindow();\n\n  if (this[0] === window) {\n    return window.innerHeight;\n  }\n\n  if (this.length > 0) {\n    return parseFloat(this.css('height'));\n  }\n\n  return null;\n}\n\nfunction outerHeight(includeMargins) {\n  if (this.length > 0) {\n    if (includeMargins) {\n      const styles = this.styles();\n      return this[0].offsetHeight + parseFloat(styles.getPropertyValue('margin-top')) + parseFloat(styles.getPropertyValue('margin-bottom'));\n    }\n\n    return this[0].offsetHeight;\n  }\n\n  return null;\n}\n\nfunction offset() {\n  if (this.length > 0) {\n    const window = getWindow();\n    const document = getDocument();\n    const el = this[0];\n    const box = el.getBoundingClientRect();\n    const body = document.body;\n    const clientTop = el.clientTop || body.clientTop || 0;\n    const clientLeft = el.clientLeft || body.clientLeft || 0;\n    const scrollTop = el === window ? window.scrollY : el.scrollTop;\n    const scrollLeft = el === window ? window.scrollX : el.scrollLeft;\n    return {\n      top: box.top + scrollTop - clientTop,\n      left: box.left + scrollLeft - clientLeft\n    };\n  }\n\n  return null;\n}\n\nfunction hide() {\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].style.display = 'none';\n  }\n\n  return this;\n}\n\nfunction show() {\n  const window = getWindow();\n\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.style.display === 'none') {\n      el.style.display = '';\n    }\n\n    if (window.getComputedStyle(el, null).getPropertyValue('display') === 'none') {\n      // Still not visible\n      el.style.display = 'block';\n    }\n  }\n\n  return this;\n}\n\nfunction styles() {\n  const window = getWindow();\n  if (this[0]) return window.getComputedStyle(this[0], null);\n  return {};\n}\n\nfunction css(props, value) {\n  const window = getWindow();\n  let i;\n\n  if (arguments.length === 1) {\n    if (typeof props === 'string') {\n      // .css('width')\n      if (this[0]) return window.getComputedStyle(this[0], null).getPropertyValue(props);\n    } else {\n      // .css({ width: '100px' })\n      for (i = 0; i < this.length; i += 1) {\n        for (const prop in props) {\n          this[i].style[prop] = props[prop];\n        }\n      }\n\n      return this;\n    }\n  }\n\n  if (arguments.length === 2 && typeof props === 'string') {\n    // .css('width', '100px')\n    for (i = 0; i < this.length; i += 1) {\n      this[i].style[props] = value;\n    }\n\n    return this;\n  }\n\n  return this;\n}\n\nfunction each(callback) {\n  if (!callback) return this;\n  this.forEach((el, index) => {\n    callback.apply(el, [el, index]);\n  });\n  return this;\n}\n\nfunction filter(callback) {\n  const result = arrayFilter(this, callback);\n  return $(result);\n}\n\nfunction html(html) {\n  if (typeof html === 'undefined') {\n    return this[0] ? this[0].innerHTML : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].innerHTML = html;\n  }\n\n  return this;\n}\n\nfunction text(text) {\n  if (typeof text === 'undefined') {\n    return this[0] ? this[0].textContent.trim() : null;\n  }\n\n  for (let i = 0; i < this.length; i += 1) {\n    this[i].textContent = text;\n  }\n\n  return this;\n}\n\nfunction is(selector) {\n  const window = getWindow();\n  const document = getDocument();\n  const el = this[0];\n  let compareWith;\n  let i;\n  if (!el || typeof selector === 'undefined') return false;\n\n  if (typeof selector === 'string') {\n    if (el.matches) return el.matches(selector);\n    if (el.webkitMatchesSelector) return el.webkitMatchesSelector(selector);\n    if (el.msMatchesSelector) return el.msMatchesSelector(selector);\n    compareWith = $(selector);\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  if (selector === document) {\n    return el === document;\n  }\n\n  if (selector === window) {\n    return el === window;\n  }\n\n  if (selector.nodeType || selector instanceof Dom7) {\n    compareWith = selector.nodeType ? [selector] : selector;\n\n    for (i = 0; i < compareWith.length; i += 1) {\n      if (compareWith[i] === el) return true;\n    }\n\n    return false;\n  }\n\n  return false;\n}\n\nfunction index() {\n  let child = this[0];\n  let i;\n\n  if (child) {\n    i = 0; // eslint-disable-next-line\n\n    while ((child = child.previousSibling) !== null) {\n      if (child.nodeType === 1) i += 1;\n    }\n\n    return i;\n  }\n\n  return undefined;\n}\n\nfunction eq(index) {\n  if (typeof index === 'undefined') return this;\n  const length = this.length;\n\n  if (index > length - 1) {\n    return $([]);\n  }\n\n  if (index < 0) {\n    const returnIndex = length + index;\n    if (returnIndex < 0) return $([]);\n    return $([this[returnIndex]]);\n  }\n\n  return $([this[index]]);\n}\n\nfunction append(...els) {\n  let newChild;\n  const document = getDocument();\n\n  for (let k = 0; k < els.length; k += 1) {\n    newChild = els[k];\n\n    for (let i = 0; i < this.length; i += 1) {\n      if (typeof newChild === 'string') {\n        const tempDiv = document.createElement('div');\n        tempDiv.innerHTML = newChild;\n\n        while (tempDiv.firstChild) {\n          this[i].appendChild(tempDiv.firstChild);\n        }\n      } else if (newChild instanceof Dom7) {\n        for (let j = 0; j < newChild.length; j += 1) {\n          this[i].appendChild(newChild[j]);\n        }\n      } else {\n        this[i].appendChild(newChild);\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction appendTo(parent) {\n  $(parent).append(this);\n  return this;\n}\n\nfunction prepend(newChild) {\n  const document = getDocument();\n  let i;\n  let j;\n\n  for (i = 0; i < this.length; i += 1) {\n    if (typeof newChild === 'string') {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = newChild;\n\n      for (j = tempDiv.childNodes.length - 1; j >= 0; j -= 1) {\n        this[i].insertBefore(tempDiv.childNodes[j], this[i].childNodes[0]);\n      }\n    } else if (newChild instanceof Dom7) {\n      for (j = 0; j < newChild.length; j += 1) {\n        this[i].insertBefore(newChild[j], this[i].childNodes[0]);\n      }\n    } else {\n      this[i].insertBefore(newChild, this[i].childNodes[0]);\n    }\n  }\n\n  return this;\n}\n\nfunction prependTo(parent) {\n  $(parent).prepend(this);\n  return this;\n}\n\nfunction insertBefore(selector) {\n  const before = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (before.length === 1) {\n      before[0].parentNode.insertBefore(this[i], before[0]);\n    } else if (before.length > 1) {\n      for (let j = 0; j < before.length; j += 1) {\n        before[j].parentNode.insertBefore(this[i].cloneNode(true), before[j]);\n      }\n    }\n  }\n}\n\nfunction insertAfter(selector) {\n  const after = $(selector);\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (after.length === 1) {\n      after[0].parentNode.insertBefore(this[i], after[0].nextSibling);\n    } else if (after.length > 1) {\n      for (let j = 0; j < after.length; j += 1) {\n        after[j].parentNode.insertBefore(this[i].cloneNode(true), after[j].nextSibling);\n      }\n    }\n  }\n}\n\nfunction next(selector) {\n  if (this.length > 0) {\n    if (selector) {\n      if (this[0].nextElementSibling && $(this[0].nextElementSibling).is(selector)) {\n        return $([this[0].nextElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (this[0].nextElementSibling) return $([this[0].nextElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction nextAll(selector) {\n  const nextEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.nextElementSibling) {\n    const next = el.nextElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(next).is(selector)) nextEls.push(next);\n    } else nextEls.push(next);\n\n    el = next;\n  }\n\n  return $(nextEls);\n}\n\nfunction prev(selector) {\n  if (this.length > 0) {\n    const el = this[0];\n\n    if (selector) {\n      if (el.previousElementSibling && $(el.previousElementSibling).is(selector)) {\n        return $([el.previousElementSibling]);\n      }\n\n      return $([]);\n    }\n\n    if (el.previousElementSibling) return $([el.previousElementSibling]);\n    return $([]);\n  }\n\n  return $([]);\n}\n\nfunction prevAll(selector) {\n  const prevEls = [];\n  let el = this[0];\n  if (!el) return $([]);\n\n  while (el.previousElementSibling) {\n    const prev = el.previousElementSibling; // eslint-disable-line\n\n    if (selector) {\n      if ($(prev).is(selector)) prevEls.push(prev);\n    } else prevEls.push(prev);\n\n    el = prev;\n  }\n\n  return $(prevEls);\n}\n\nfunction siblings(selector) {\n  return this.nextAll(selector).add(this.prevAll(selector));\n}\n\nfunction parent(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode !== null) {\n      if (selector) {\n        if ($(this[i].parentNode).is(selector)) parents.push(this[i].parentNode);\n      } else {\n        parents.push(this[i].parentNode);\n      }\n    }\n  }\n\n  return $(parents);\n}\n\nfunction parents(selector) {\n  const parents = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    let parent = this[i].parentNode; // eslint-disable-line\n\n    while (parent) {\n      if (selector) {\n        if ($(parent).is(selector)) parents.push(parent);\n      } else {\n        parents.push(parent);\n      }\n\n      parent = parent.parentNode;\n    }\n  }\n\n  return $(parents);\n}\n\nfunction closest(selector) {\n  let closest = this; // eslint-disable-line\n\n  if (typeof selector === 'undefined') {\n    return $([]);\n  }\n\n  if (!closest.is(selector)) {\n    closest = closest.parents(selector).eq(0);\n  }\n\n  return closest;\n}\n\nfunction find(selector) {\n  const foundElements = [];\n\n  for (let i = 0; i < this.length; i += 1) {\n    const found = this[i].querySelectorAll(selector);\n\n    for (let j = 0; j < found.length; j += 1) {\n      foundElements.push(found[j]);\n    }\n  }\n\n  return $(foundElements);\n}\n\nfunction children(selector) {\n  const children = []; // eslint-disable-line\n\n  for (let i = 0; i < this.length; i += 1) {\n    const childNodes = this[i].children;\n\n    for (let j = 0; j < childNodes.length; j += 1) {\n      if (!selector || $(childNodes[j]).is(selector)) {\n        children.push(childNodes[j]);\n      }\n    }\n  }\n\n  return $(children);\n}\n\nfunction remove() {\n  for (let i = 0; i < this.length; i += 1) {\n    if (this[i].parentNode) this[i].parentNode.removeChild(this[i]);\n  }\n\n  return this;\n}\n\nfunction detach() {\n  return this.remove();\n}\n\nfunction add(...els) {\n  const dom = this;\n  let i;\n  let j;\n\n  for (i = 0; i < els.length; i += 1) {\n    const toAdd = $(els[i]);\n\n    for (j = 0; j < toAdd.length; j += 1) {\n      dom.push(toAdd[j]);\n    }\n  }\n\n  return dom;\n}\n\nfunction empty() {\n  for (let i = 0; i < this.length; i += 1) {\n    const el = this[i];\n\n    if (el.nodeType === 1) {\n      for (let j = 0; j < el.childNodes.length; j += 1) {\n        if (el.childNodes[j].parentNode) {\n          el.childNodes[j].parentNode.removeChild(el.childNodes[j]);\n        }\n      }\n\n      el.textContent = '';\n    }\n  }\n\n  return this;\n}\n\n// eslint-disable-next-line\n\nfunction scrollTo(...args) {\n  const window = getWindow();\n  let [left, top, duration, easing, callback] = args;\n\n  if (args.length === 4 && typeof easing === 'function') {\n    callback = easing;\n    [left, top, duration, callback, easing] = args;\n  }\n\n  if (typeof easing === 'undefined') easing = 'swing';\n  return this.each(function animate() {\n    const el = this;\n    let currentTop;\n    let currentLeft;\n    let maxTop;\n    let maxLeft;\n    let newTop;\n    let newLeft;\n    let scrollTop; // eslint-disable-line\n\n    let scrollLeft; // eslint-disable-line\n\n    let animateTop = top > 0 || top === 0;\n    let animateLeft = left > 0 || left === 0;\n\n    if (typeof easing === 'undefined') {\n      easing = 'swing';\n    }\n\n    if (animateTop) {\n      currentTop = el.scrollTop;\n\n      if (!duration) {\n        el.scrollTop = top;\n      }\n    }\n\n    if (animateLeft) {\n      currentLeft = el.scrollLeft;\n\n      if (!duration) {\n        el.scrollLeft = left;\n      }\n    }\n\n    if (!duration) return;\n\n    if (animateTop) {\n      maxTop = el.scrollHeight - el.offsetHeight;\n      newTop = Math.max(Math.min(top, maxTop), 0);\n    }\n\n    if (animateLeft) {\n      maxLeft = el.scrollWidth - el.offsetWidth;\n      newLeft = Math.max(Math.min(left, maxLeft), 0);\n    }\n\n    let startTime = null;\n    if (animateTop && newTop === currentTop) animateTop = false;\n    if (animateLeft && newLeft === currentLeft) animateLeft = false;\n\n    function render(time = new Date().getTime()) {\n      if (startTime === null) {\n        startTime = time;\n      }\n\n      const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n      const easeProgress = easing === 'linear' ? progress : 0.5 - Math.cos(progress * Math.PI) / 2;\n      let done;\n      if (animateTop) scrollTop = currentTop + easeProgress * (newTop - currentTop);\n      if (animateLeft) scrollLeft = currentLeft + easeProgress * (newLeft - currentLeft);\n\n      if (animateTop && newTop > currentTop && scrollTop >= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateTop && newTop < currentTop && scrollTop <= newTop) {\n        el.scrollTop = newTop;\n        done = true;\n      }\n\n      if (animateLeft && newLeft > currentLeft && scrollLeft >= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (animateLeft && newLeft < currentLeft && scrollLeft <= newLeft) {\n        el.scrollLeft = newLeft;\n        done = true;\n      }\n\n      if (done) {\n        if (callback) callback();\n        return;\n      }\n\n      if (animateTop) el.scrollTop = scrollTop;\n      if (animateLeft) el.scrollLeft = scrollLeft;\n      window.requestAnimationFrame(render);\n    }\n\n    window.requestAnimationFrame(render);\n  });\n} // scrollTop(top, duration, easing, callback) {\n\n\nfunction scrollTop(...args) {\n  let [top, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [top, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof top === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollTop;\n    return null;\n  }\n\n  return dom.scrollTo(undefined, top, duration, easing, callback);\n}\n\nfunction scrollLeft(...args) {\n  let [left, duration, easing, callback] = args;\n\n  if (args.length === 3 && typeof easing === 'function') {\n    [left, duration, callback, easing] = args;\n  }\n\n  const dom = this;\n\n  if (typeof left === 'undefined') {\n    if (dom.length > 0) return dom[0].scrollLeft;\n    return null;\n  }\n\n  return dom.scrollTo(left, undefined, duration, easing, callback);\n}\n\n// eslint-disable-next-line\n\nfunction animate(initialProps, initialParams) {\n  const window = getWindow();\n  const els = this;\n  const a = {\n    props: Object.assign({}, initialProps),\n    params: Object.assign({\n      duration: 300,\n      easing: 'swing' // or 'linear'\n\n      /* Callbacks\n      begin(elements)\n      complete(elements)\n      progress(elements, complete, remaining, start, tweenValue)\n      */\n\n    }, initialParams),\n    elements: els,\n    animating: false,\n    que: [],\n\n    easingProgress(easing, progress) {\n      if (easing === 'swing') {\n        return 0.5 - Math.cos(progress * Math.PI) / 2;\n      }\n\n      if (typeof easing === 'function') {\n        return easing(progress);\n      }\n\n      return progress;\n    },\n\n    stop() {\n      if (a.frameId) {\n        window.cancelAnimationFrame(a.frameId);\n      }\n\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      a.que = [];\n    },\n\n    done(complete) {\n      a.animating = false;\n      a.elements.each(el => {\n        const element = el;\n        delete element.dom7AnimateInstance;\n      });\n      if (complete) complete(els);\n\n      if (a.que.length > 0) {\n        const que = a.que.shift();\n        a.animate(que[0], que[1]);\n      }\n    },\n\n    animate(props, params) {\n      if (a.animating) {\n        a.que.push([props, params]);\n        return a;\n      }\n\n      const elements = []; // Define & Cache Initials & Units\n\n      a.elements.each((el, index) => {\n        let initialFullValue;\n        let initialValue;\n        let unit;\n        let finalValue;\n        let finalFullValue;\n        if (!el.dom7AnimateInstance) a.elements[index].dom7AnimateInstance = a;\n        elements[index] = {\n          container: el\n        };\n        Object.keys(props).forEach(prop => {\n          initialFullValue = window.getComputedStyle(el, null).getPropertyValue(prop).replace(',', '.');\n          initialValue = parseFloat(initialFullValue);\n          unit = initialFullValue.replace(initialValue, '');\n          finalValue = parseFloat(props[prop]);\n          finalFullValue = props[prop] + unit;\n          elements[index][prop] = {\n            initialFullValue,\n            initialValue,\n            unit,\n            finalValue,\n            finalFullValue,\n            currentValue: initialValue\n          };\n        });\n      });\n      let startTime = null;\n      let time;\n      let elementsDone = 0;\n      let propsDone = 0;\n      let done;\n      let began = false;\n      a.animating = true;\n\n      function render() {\n        time = new Date().getTime();\n        let progress;\n        let easeProgress; // let el;\n\n        if (!began) {\n          began = true;\n          if (params.begin) params.begin(els);\n        }\n\n        if (startTime === null) {\n          startTime = time;\n        }\n\n        if (params.progress) {\n          // eslint-disable-next-line\n          params.progress(els, Math.max(Math.min((time - startTime) / params.duration, 1), 0), startTime + params.duration - time < 0 ? 0 : startTime + params.duration - time, startTime);\n        }\n\n        elements.forEach(element => {\n          const el = element;\n          if (done || el.done) return;\n          Object.keys(props).forEach(prop => {\n            if (done || el.done) return;\n            progress = Math.max(Math.min((time - startTime) / params.duration, 1), 0);\n            easeProgress = a.easingProgress(params.easing, progress);\n            const {\n              initialValue,\n              finalValue,\n              unit\n            } = el[prop];\n            el[prop].currentValue = initialValue + easeProgress * (finalValue - initialValue);\n            const currentValue = el[prop].currentValue;\n\n            if (finalValue > initialValue && currentValue >= finalValue || finalValue < initialValue && currentValue <= finalValue) {\n              el.container.style[prop] = finalValue + unit;\n              propsDone += 1;\n\n              if (propsDone === Object.keys(props).length) {\n                el.done = true;\n                elementsDone += 1;\n              }\n\n              if (elementsDone === elements.length) {\n                done = true;\n              }\n            }\n\n            if (done) {\n              a.done(params.complete);\n              return;\n            }\n\n            el.container.style[prop] = currentValue + unit;\n          });\n        });\n        if (done) return; // Then call\n\n        a.frameId = window.requestAnimationFrame(render);\n      }\n\n      a.frameId = window.requestAnimationFrame(render);\n      return a;\n    }\n\n  };\n\n  if (a.elements.length === 0) {\n    return els;\n  }\n\n  let animateInstance;\n\n  for (let i = 0; i < a.elements.length; i += 1) {\n    if (a.elements[i].dom7AnimateInstance) {\n      animateInstance = a.elements[i].dom7AnimateInstance;\n    } else a.elements[i].dom7AnimateInstance = a;\n  }\n\n  if (!animateInstance) {\n    animateInstance = a;\n  }\n\n  if (initialProps === 'stop') {\n    animateInstance.stop();\n  } else {\n    animateInstance.animate(a.props, a.params);\n  }\n\n  return els;\n}\n\nfunction stop() {\n  const els = this;\n\n  for (let i = 0; i < els.length; i += 1) {\n    if (els[i].dom7AnimateInstance) {\n      els[i].dom7AnimateInstance.stop();\n    }\n  }\n}\n\nconst noTrigger = 'resize scroll'.split(' ');\n\nfunction shortcut(name) {\n  function eventHandler(...args) {\n    if (typeof args[0] === 'undefined') {\n      for (let i = 0; i < this.length; i += 1) {\n        if (noTrigger.indexOf(name) < 0) {\n          if (name in this[i]) this[i][name]();else {\n            $(this[i]).trigger(name);\n          }\n        }\n      }\n\n      return this;\n    }\n\n    return this.on(name, ...args);\n  }\n\n  return eventHandler;\n}\n\nconst click = shortcut('click');\nconst blur = shortcut('blur');\nconst focus = shortcut('focus');\nconst focusin = shortcut('focusin');\nconst focusout = shortcut('focusout');\nconst keyup = shortcut('keyup');\nconst keydown = shortcut('keydown');\nconst keypress = shortcut('keypress');\nconst submit = shortcut('submit');\nconst change = shortcut('change');\nconst mousedown = shortcut('mousedown');\nconst mousemove = shortcut('mousemove');\nconst mouseup = shortcut('mouseup');\nconst mouseenter = shortcut('mouseenter');\nconst mouseleave = shortcut('mouseleave');\nconst mouseout = shortcut('mouseout');\nconst mouseover = shortcut('mouseover');\nconst touchstart = shortcut('touchstart');\nconst touchend = shortcut('touchend');\nconst touchmove = shortcut('touchmove');\nconst resize = shortcut('resize');\nconst scroll = shortcut('scroll');\n\nexport default $;\nexport { $, add, addClass, animate, animationEnd, append, appendTo, attr, blur, change, children, click, closest, css, data, dataset, detach, each, empty, eq, filter, find, focus, focusin, focusout, hasClass, height, hide, html, index, insertAfter, insertBefore, is, keydown, keypress, keyup, mousedown, mouseenter, mouseleave, mousemove, mouseout, mouseover, mouseup, next, nextAll, off, offset, on, once, outerHeight, outerWidth, parent, parents, prepend, prependTo, prev, prevAll, prop, remove, removeAttr, removeClass, removeData, resize, scroll, scrollLeft, scrollTo, scrollTop, show, siblings, stop, styles, submit, text, toggleClass, touchend, touchmove, touchstart, transform, transition, transitionEnd, trigger, val, value, width };\n","import { $, addClass, removeClass, hasClass, toggleClass, attr, removeAttr, transform, transition, on, off, trigger, transitionEnd, outerWidth, outerHeight, styles, offset, css, each, html, text, is, index, eq, append, prepend, next, nextAll, prev, prevAll, parent, parents, closest, find, children, filter, remove } from 'dom7';\nconst Methods = {\n  addClass,\n  removeClass,\n  hasClass,\n  toggleClass,\n  attr,\n  removeAttr,\n  transform,\n  transition,\n  on,\n  off,\n  trigger,\n  transitionEnd,\n  outerWidth,\n  outerHeight,\n  styles,\n  offset,\n  css,\n  each,\n  html,\n  text,\n  is,\n  index,\n  eq,\n  append,\n  prepend,\n  next,\n  nextAll,\n  prev,\n  prevAll,\n  parent,\n  parents,\n  closest,\n  find,\n  children,\n  filter,\n  remove\n};\nObject.keys(Methods).forEach(methodName => {\n  Object.defineProperty($.fn, methodName, {\n    value: Methods[methodName],\n    writable: true\n  });\n});\nexport default $;","import { getWindow } from 'ssr-window';\n\nfunction deleteProps(obj) {\n  const object = obj;\n  Object.keys(object).forEach(key => {\n    try {\n      object[key] = null;\n    } catch (e) {// no getter for object\n    }\n\n    try {\n      delete object[key];\n    } catch (e) {// something got wrong\n    }\n  });\n}\n\nfunction nextTick(callback, delay) {\n  if (delay === void 0) {\n    delay = 0;\n  }\n\n  return setTimeout(callback, delay);\n}\n\nfunction now() {\n  return Date.now();\n}\n\nfunction getComputedStyle(el) {\n  const window = getWindow();\n  let style;\n\n  if (window.getComputedStyle) {\n    style = window.getComputedStyle(el, null);\n  }\n\n  if (!style && el.currentStyle) {\n    style = el.currentStyle;\n  }\n\n  if (!style) {\n    style = el.style;\n  }\n\n  return style;\n}\n\nfunction getTranslate(el, axis) {\n  if (axis === void 0) {\n    axis = 'x';\n  }\n\n  const window = getWindow();\n  let matrix;\n  let curTransform;\n  let transformMatrix;\n  const curStyle = getComputedStyle(el, null);\n\n  if (window.WebKitCSSMatrix) {\n    curTransform = curStyle.transform || curStyle.webkitTransform;\n\n    if (curTransform.split(',').length > 6) {\n      curTransform = curTransform.split(', ').map(a => a.replace(',', '.')).join(', ');\n    } // Some old versions of Webkit choke when 'none' is passed; pass\n    // empty string instead in this case\n\n\n    transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform);\n  } else {\n    transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');\n    matrix = transformMatrix.toString().split(',');\n  }\n\n  if (axis === 'x') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m41; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[12]); // Normal Browsers\n    else curTransform = parseFloat(matrix[4]);\n  }\n\n  if (axis === 'y') {\n    // Latest Chrome and webkits Fix\n    if (window.WebKitCSSMatrix) curTransform = transformMatrix.m42; // Crazy IE10 Matrix\n    else if (matrix.length === 16) curTransform = parseFloat(matrix[13]); // Normal Browsers\n    else curTransform = parseFloat(matrix[5]);\n  }\n\n  return curTransform || 0;\n}\n\nfunction isObject(o) {\n  return typeof o === 'object' && o !== null && o.constructor && Object.prototype.toString.call(o).slice(8, -1) === 'Object';\n}\n\nfunction isNode(node) {\n  // eslint-disable-next-line\n  if (typeof window !== 'undefined' && typeof window.HTMLElement !== 'undefined') {\n    return node instanceof HTMLElement;\n  }\n\n  return node && (node.nodeType === 1 || node.nodeType === 11);\n}\n\nfunction extend() {\n  const to = Object(arguments.length <= 0 ? undefined : arguments[0]);\n  const noExtend = ['__proto__', 'constructor', 'prototype'];\n\n  for (let i = 1; i < arguments.length; i += 1) {\n    const nextSource = i < 0 || arguments.length <= i ? undefined : arguments[i];\n\n    if (nextSource !== undefined && nextSource !== null && !isNode(nextSource)) {\n      const keysArray = Object.keys(Object(nextSource)).filter(key => noExtend.indexOf(key) < 0);\n\n      for (let nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex += 1) {\n        const nextKey = keysArray[nextIndex];\n        const desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n\n        if (desc !== undefined && desc.enumerable) {\n          if (isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else if (!isObject(to[nextKey]) && isObject(nextSource[nextKey])) {\n            to[nextKey] = {};\n\n            if (nextSource[nextKey].__swiper__) {\n              to[nextKey] = nextSource[nextKey];\n            } else {\n              extend(to[nextKey], nextSource[nextKey]);\n            }\n          } else {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n  }\n\n  return to;\n}\n\nfunction setCSSProperty(el, varName, varValue) {\n  el.style.setProperty(varName, varValue);\n}\n\nfunction animateCSSModeScroll(_ref) {\n  let {\n    swiper,\n    targetPosition,\n    side\n  } = _ref;\n  const window = getWindow();\n  const startPosition = -swiper.translate;\n  let startTime = null;\n  let time;\n  const duration = swiper.params.speed;\n  swiper.wrapperEl.style.scrollSnapType = 'none';\n  window.cancelAnimationFrame(swiper.cssModeFrameID);\n  const dir = targetPosition > startPosition ? 'next' : 'prev';\n\n  const isOutOfBound = (current, target) => {\n    return dir === 'next' && current >= target || dir === 'prev' && current <= target;\n  };\n\n  const animate = () => {\n    time = new Date().getTime();\n\n    if (startTime === null) {\n      startTime = time;\n    }\n\n    const progress = Math.max(Math.min((time - startTime) / duration, 1), 0);\n    const easeProgress = 0.5 - Math.cos(progress * Math.PI) / 2;\n    let currentPosition = startPosition + easeProgress * (targetPosition - startPosition);\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      currentPosition = targetPosition;\n    }\n\n    swiper.wrapperEl.scrollTo({\n      [side]: currentPosition\n    });\n\n    if (isOutOfBound(currentPosition, targetPosition)) {\n      swiper.wrapperEl.style.overflow = 'hidden';\n      swiper.wrapperEl.style.scrollSnapType = '';\n      setTimeout(() => {\n        swiper.wrapperEl.style.overflow = '';\n        swiper.wrapperEl.scrollTo({\n          [side]: currentPosition\n        });\n      });\n      window.cancelAnimationFrame(swiper.cssModeFrameID);\n      return;\n    }\n\n    swiper.cssModeFrameID = window.requestAnimationFrame(animate);\n  };\n\n  animate();\n}\n\nexport { animateCSSModeScroll, deleteProps, nextTick, now, getTranslate, isObject, extend, getComputedStyle, setCSSProperty };","import { getWindow, getDocument } from 'ssr-window';\nlet support;\n\nfunction calcSupport() {\n  const window = getWindow();\n  const document = getDocument();\n  return {\n    smoothScroll: document.documentElement && 'scrollBehavior' in document.documentElement.style,\n    touch: !!('ontouchstart' in window || window.DocumentTouch && document instanceof window.DocumentTouch),\n    passiveListener: function checkPassiveListener() {\n      let supportsPassive = false;\n\n      try {\n        const opts = Object.defineProperty({}, 'passive', {\n          // eslint-disable-next-line\n          get() {\n            supportsPassive = true;\n          }\n\n        });\n        window.addEventListener('testPassiveListener', null, opts);\n      } catch (e) {// No support\n      }\n\n      return supportsPassive;\n    }(),\n    gestures: function checkGestures() {\n      return 'ongesturestart' in window;\n    }()\n  };\n}\n\nfunction getSupport() {\n  if (!support) {\n    support = calcSupport();\n  }\n\n  return support;\n}\n\nexport { getSupport };","import { getWindow } from 'ssr-window';\nimport { getSupport } from './get-support.js';\nlet deviceCached;\n\nfunction calcDevice(_temp) {\n  let {\n    userAgent\n  } = _temp === void 0 ? {} : _temp;\n  const support = getSupport();\n  const window = getWindow();\n  const platform = window.navigator.platform;\n  const ua = userAgent || window.navigator.userAgent;\n  const device = {\n    ios: false,\n    android: false\n  };\n  const screenWidth = window.screen.width;\n  const screenHeight = window.screen.height;\n  const android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/); // eslint-disable-line\n\n  let ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  const ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  const iphone = !ipad && ua.match(/(iPhone\\sOS|iOS)\\s([\\d_]+)/);\n  const windows = platform === 'Win32';\n  let macos = platform === 'MacIntel'; // iPadOs 13 fix\n\n  const iPadScreens = ['1024x1366', '1366x1024', '834x1194', '1194x834', '834x1112', '1112x834', '768x1024', '1024x768', '820x1180', '1180x820', '810x1080', '1080x810'];\n\n  if (!ipad && macos && support.touch && iPadScreens.indexOf(`${screenWidth}x${screenHeight}`) >= 0) {\n    ipad = ua.match(/(Version)\\/([\\d.]+)/);\n    if (!ipad) ipad = [0, 1, '13_0_0'];\n    macos = false;\n  } // Android\n\n\n  if (android && !windows) {\n    device.os = 'android';\n    device.android = true;\n  }\n\n  if (ipad || iphone || ipod) {\n    device.os = 'ios';\n    device.ios = true;\n  } // Export object\n\n\n  return device;\n}\n\nfunction getDevice(overrides) {\n  if (overrides === void 0) {\n    overrides = {};\n  }\n\n  if (!deviceCached) {\n    deviceCached = calcDevice(overrides);\n  }\n\n  return deviceCached;\n}\n\nexport { getDevice };","import { getWindow } from 'ssr-window';\nlet browser;\n\nfunction calcBrowser() {\n  const window = getWindow();\n\n  function isSafari() {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0;\n  }\n\n  return {\n    isSafari: isSafari(),\n    isWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent)\n  };\n}\n\nfunction getBrowser() {\n  if (!browser) {\n    browser = calcBrowser();\n  }\n\n  return browser;\n}\n\nexport { getBrowser };","/* eslint-disable no-underscore-dangle */\nexport default {\n  on(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n    events.split(' ').forEach(event => {\n      if (!self.eventsListeners[event]) self.eventsListeners[event] = [];\n      self.eventsListeners[event][method](handler);\n    });\n    return self;\n  },\n\n  once(events, handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n\n    function onceHandler() {\n      self.off(events, onceHandler);\n\n      if (onceHandler.__emitterProxy) {\n        delete onceHandler.__emitterProxy;\n      }\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handler.apply(self, args);\n    }\n\n    onceHandler.__emitterProxy = handler;\n    return self.on(events, onceHandler, priority);\n  },\n\n  onAny(handler, priority) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (typeof handler !== 'function') return self;\n    const method = priority ? 'unshift' : 'push';\n\n    if (self.eventsAnyListeners.indexOf(handler) < 0) {\n      self.eventsAnyListeners[method](handler);\n    }\n\n    return self;\n  },\n\n  offAny(handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsAnyListeners) return self;\n    const index = self.eventsAnyListeners.indexOf(handler);\n\n    if (index >= 0) {\n      self.eventsAnyListeners.splice(index, 1);\n    }\n\n    return self;\n  },\n\n  off(events, handler) {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    events.split(' ').forEach(event => {\n      if (typeof handler === 'undefined') {\n        self.eventsListeners[event] = [];\n      } else if (self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach((eventHandler, index) => {\n          if (eventHandler === handler || eventHandler.__emitterProxy && eventHandler.__emitterProxy === handler) {\n            self.eventsListeners[event].splice(index, 1);\n          }\n        });\n      }\n    });\n    return self;\n  },\n\n  emit() {\n    const self = this;\n    if (!self.eventsListeners || self.destroyed) return self;\n    if (!self.eventsListeners) return self;\n    let events;\n    let data;\n    let context;\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    if (typeof args[0] === 'string' || Array.isArray(args[0])) {\n      events = args[0];\n      data = args.slice(1, args.length);\n      context = self;\n    } else {\n      events = args[0].events;\n      data = args[0].data;\n      context = args[0].context || self;\n    }\n\n    data.unshift(context);\n    const eventsArray = Array.isArray(events) ? events : events.split(' ');\n    eventsArray.forEach(event => {\n      if (self.eventsAnyListeners && self.eventsAnyListeners.length) {\n        self.eventsAnyListeners.forEach(eventHandler => {\n          eventHandler.apply(context, [event, ...data]);\n        });\n      }\n\n      if (self.eventsListeners && self.eventsListeners[event]) {\n        self.eventsListeners[event].forEach(eventHandler => {\n          eventHandler.apply(context, data);\n        });\n      }\n    });\n    return self;\n  }\n\n};","import updateSize from './updateSize.js';\nimport updateSlides from './updateSlides.js';\nimport updateAutoHeight from './updateAutoHeight.js';\nimport updateSlidesOffset from './updateSlidesOffset.js';\nimport updateSlidesProgress from './updateSlidesProgress.js';\nimport updateProgress from './updateProgress.js';\nimport updateSlidesClasses from './updateSlidesClasses.js';\nimport updateActiveIndex from './updateActiveIndex.js';\nimport updateClickedSlide from './updateClickedSlide.js';\nexport default {\n  updateSize,\n  updateSlides,\n  updateAutoHeight,\n  updateSlidesOffset,\n  updateSlidesProgress,\n  updateProgress,\n  updateSlidesClasses,\n  updateActiveIndex,\n  updateClickedSlide\n};","export default function updateSize() {\n  const swiper = this;\n  let width;\n  let height;\n  const $el = swiper.$el;\n\n  if (typeof swiper.params.width !== 'undefined' && swiper.params.width !== null) {\n    width = swiper.params.width;\n  } else {\n    width = $el[0].clientWidth;\n  }\n\n  if (typeof swiper.params.height !== 'undefined' && swiper.params.height !== null) {\n    height = swiper.params.height;\n  } else {\n    height = $el[0].clientHeight;\n  }\n\n  if (width === 0 && swiper.isHorizontal() || height === 0 && swiper.isVertical()) {\n    return;\n  } // Subtract paddings\n\n\n  width = width - parseInt($el.css('padding-left') || 0, 10) - parseInt($el.css('padding-right') || 0, 10);\n  height = height - parseInt($el.css('padding-top') || 0, 10) - parseInt($el.css('padding-bottom') || 0, 10);\n  if (Number.isNaN(width)) width = 0;\n  if (Number.isNaN(height)) height = 0;\n  Object.assign(swiper, {\n    width,\n    height,\n    size: swiper.isHorizontal() ? width : height\n  });\n}","import { setCSSProperty } from '../../shared/utils.js';\nexport default function updateSlides() {\n  const swiper = this;\n\n  function getDirectionLabel(property) {\n    if (swiper.isHorizontal()) {\n      return property;\n    } // prettier-ignore\n\n\n    return {\n      'width': 'height',\n      'margin-top': 'margin-left',\n      'margin-bottom ': 'margin-right',\n      'margin-left': 'margin-top',\n      'margin-right': 'margin-bottom',\n      'padding-left': 'padding-top',\n      'padding-right': 'padding-bottom',\n      'marginRight': 'marginBottom'\n    }[property];\n  }\n\n  function getDirectionPropertyValue(node, label) {\n    return parseFloat(node.getPropertyValue(getDirectionLabel(label)) || 0);\n  }\n\n  const params = swiper.params;\n  const {\n    $wrapperEl,\n    size: swiperSize,\n    rtlTranslate: rtl,\n    wrongRTL\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  const previousSlidesLength = isVirtual ? swiper.virtual.slides.length : swiper.slides.length;\n  const slides = $wrapperEl.children(`.${swiper.params.slideClass}`);\n  const slidesLength = isVirtual ? swiper.virtual.slides.length : slides.length;\n  let snapGrid = [];\n  const slidesGrid = [];\n  const slidesSizesGrid = [];\n  let offsetBefore = params.slidesOffsetBefore;\n\n  if (typeof offsetBefore === 'function') {\n    offsetBefore = params.slidesOffsetBefore.call(swiper);\n  }\n\n  let offsetAfter = params.slidesOffsetAfter;\n\n  if (typeof offsetAfter === 'function') {\n    offsetAfter = params.slidesOffsetAfter.call(swiper);\n  }\n\n  const previousSnapGridLength = swiper.snapGrid.length;\n  const previousSlidesGridLength = swiper.slidesGrid.length;\n  let spaceBetween = params.spaceBetween;\n  let slidePosition = -offsetBefore;\n  let prevSlideSize = 0;\n  let index = 0;\n\n  if (typeof swiperSize === 'undefined') {\n    return;\n  }\n\n  if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {\n    spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * swiperSize;\n  }\n\n  swiper.virtualSize = -spaceBetween; // reset margins\n\n  if (rtl) slides.css({\n    marginLeft: '',\n    marginBottom: '',\n    marginTop: ''\n  });else slides.css({\n    marginRight: '',\n    marginBottom: '',\n    marginTop: ''\n  }); // reset cssMode offsets\n\n  if (params.centeredSlides && params.cssMode) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', '');\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', '');\n  }\n\n  const gridEnabled = params.grid && params.grid.rows > 1 && swiper.grid;\n\n  if (gridEnabled) {\n    swiper.grid.initSlides(slidesLength);\n  } // Calc slides\n\n\n  let slideSize;\n  const shouldResetSlideSize = params.slidesPerView === 'auto' && params.breakpoints && Object.keys(params.breakpoints).filter(key => {\n    return typeof params.breakpoints[key].slidesPerView !== 'undefined';\n  }).length > 0;\n\n  for (let i = 0; i < slidesLength; i += 1) {\n    slideSize = 0;\n    const slide = slides.eq(i);\n\n    if (gridEnabled) {\n      swiper.grid.updateSlide(i, slide, slidesLength, getDirectionLabel);\n    }\n\n    if (slide.css('display') === 'none') continue; // eslint-disable-line\n\n    if (params.slidesPerView === 'auto') {\n      if (shouldResetSlideSize) {\n        slides[i].style[getDirectionLabel('width')] = ``;\n      }\n\n      const slideStyles = getComputedStyle(slide[0]);\n      const currentTransform = slide[0].style.transform;\n      const currentWebKitTransform = slide[0].style.webkitTransform;\n\n      if (currentTransform) {\n        slide[0].style.transform = 'none';\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = 'none';\n      }\n\n      if (params.roundLengths) {\n        slideSize = swiper.isHorizontal() ? slide.outerWidth(true) : slide.outerHeight(true);\n      } else {\n        // eslint-disable-next-line\n        const width = getDirectionPropertyValue(slideStyles, 'width');\n        const paddingLeft = getDirectionPropertyValue(slideStyles, 'padding-left');\n        const paddingRight = getDirectionPropertyValue(slideStyles, 'padding-right');\n        const marginLeft = getDirectionPropertyValue(slideStyles, 'margin-left');\n        const marginRight = getDirectionPropertyValue(slideStyles, 'margin-right');\n        const boxSizing = slideStyles.getPropertyValue('box-sizing');\n\n        if (boxSizing && boxSizing === 'border-box') {\n          slideSize = width + marginLeft + marginRight;\n        } else {\n          const {\n            clientWidth,\n            offsetWidth\n          } = slide[0];\n          slideSize = width + paddingLeft + paddingRight + marginLeft + marginRight + (offsetWidth - clientWidth);\n        }\n      }\n\n      if (currentTransform) {\n        slide[0].style.transform = currentTransform;\n      }\n\n      if (currentWebKitTransform) {\n        slide[0].style.webkitTransform = currentWebKitTransform;\n      }\n\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n    } else {\n      slideSize = (swiperSize - (params.slidesPerView - 1) * spaceBetween) / params.slidesPerView;\n      if (params.roundLengths) slideSize = Math.floor(slideSize);\n\n      if (slides[i]) {\n        slides[i].style[getDirectionLabel('width')] = `${slideSize}px`;\n      }\n    }\n\n    if (slides[i]) {\n      slides[i].swiperSlideSize = slideSize;\n    }\n\n    slidesSizesGrid.push(slideSize);\n\n    if (params.centeredSlides) {\n      slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;\n      if (prevSlideSize === 0 && i !== 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (i === 0) slidePosition = slidePosition - swiperSize / 2 - spaceBetween;\n      if (Math.abs(slidePosition) < 1 / 1000) slidePosition = 0;\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if (index % params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n    } else {\n      if (params.roundLengths) slidePosition = Math.floor(slidePosition);\n      if ((index - Math.min(swiper.params.slidesPerGroupSkip, index)) % swiper.params.slidesPerGroup === 0) snapGrid.push(slidePosition);\n      slidesGrid.push(slidePosition);\n      slidePosition = slidePosition + slideSize + spaceBetween;\n    }\n\n    swiper.virtualSize += slideSize + spaceBetween;\n    prevSlideSize = slideSize;\n    index += 1;\n  }\n\n  swiper.virtualSize = Math.max(swiper.virtualSize, swiperSize) + offsetAfter;\n\n  if (rtl && wrongRTL && (params.effect === 'slide' || params.effect === 'coverflow')) {\n    $wrapperEl.css({\n      width: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (params.setWrapperSize) {\n    $wrapperEl.css({\n      [getDirectionLabel('width')]: `${swiper.virtualSize + params.spaceBetween}px`\n    });\n  }\n\n  if (gridEnabled) {\n    swiper.grid.updateWrapperSize(slideSize, snapGrid, getDirectionLabel);\n  } // Remove last grid elements depending on width\n\n\n  if (!params.centeredSlides) {\n    const newSlidesGrid = [];\n\n    for (let i = 0; i < snapGrid.length; i += 1) {\n      let slidesGridItem = snapGrid[i];\n      if (params.roundLengths) slidesGridItem = Math.floor(slidesGridItem);\n\n      if (snapGrid[i] <= swiper.virtualSize - swiperSize) {\n        newSlidesGrid.push(slidesGridItem);\n      }\n    }\n\n    snapGrid = newSlidesGrid;\n\n    if (Math.floor(swiper.virtualSize - swiperSize) - Math.floor(snapGrid[snapGrid.length - 1]) > 1) {\n      snapGrid.push(swiper.virtualSize - swiperSize);\n    }\n  }\n\n  if (snapGrid.length === 0) snapGrid = [0];\n\n  if (params.spaceBetween !== 0) {\n    const key = swiper.isHorizontal() && rtl ? 'marginLeft' : getDirectionLabel('marginRight');\n    slides.filter((_, slideIndex) => {\n      if (!params.cssMode) return true;\n\n      if (slideIndex === slides.length - 1) {\n        return false;\n      }\n\n      return true;\n    }).css({\n      [key]: `${spaceBetween}px`\n    });\n  }\n\n  if (params.centeredSlides && params.centeredSlidesBounds) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n    const maxSnap = allSlidesSize - swiperSize;\n    snapGrid = snapGrid.map(snap => {\n      if (snap < 0) return -offsetBefore;\n      if (snap > maxSnap) return maxSnap + offsetAfter;\n      return snap;\n    });\n  }\n\n  if (params.centerInsufficientSlides) {\n    let allSlidesSize = 0;\n    slidesSizesGrid.forEach(slideSizeValue => {\n      allSlidesSize += slideSizeValue + (params.spaceBetween ? params.spaceBetween : 0);\n    });\n    allSlidesSize -= params.spaceBetween;\n\n    if (allSlidesSize < swiperSize) {\n      const allSlidesOffset = (swiperSize - allSlidesSize) / 2;\n      snapGrid.forEach((snap, snapIndex) => {\n        snapGrid[snapIndex] = snap - allSlidesOffset;\n      });\n      slidesGrid.forEach((snap, snapIndex) => {\n        slidesGrid[snapIndex] = snap + allSlidesOffset;\n      });\n    }\n  }\n\n  Object.assign(swiper, {\n    slides,\n    snapGrid,\n    slidesGrid,\n    slidesSizesGrid\n  });\n\n  if (params.centeredSlides && params.cssMode && !params.centeredSlidesBounds) {\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-before', `${-snapGrid[0]}px`);\n    setCSSProperty(swiper.wrapperEl, '--swiper-centered-offset-after', `${swiper.size / 2 - slidesSizesGrid[slidesSizesGrid.length - 1] / 2}px`);\n    const addToSnapGrid = -swiper.snapGrid[0];\n    const addToSlidesGrid = -swiper.slidesGrid[0];\n    swiper.snapGrid = swiper.snapGrid.map(v => v + addToSnapGrid);\n    swiper.slidesGrid = swiper.slidesGrid.map(v => v + addToSlidesGrid);\n  }\n\n  if (slidesLength !== previousSlidesLength) {\n    swiper.emit('slidesLengthChange');\n  }\n\n  if (snapGrid.length !== previousSnapGridLength) {\n    if (swiper.params.watchOverflow) swiper.checkOverflow();\n    swiper.emit('snapGridLengthChange');\n  }\n\n  if (slidesGrid.length !== previousSlidesGridLength) {\n    swiper.emit('slidesGridLengthChange');\n  }\n\n  if (params.watchSlidesProgress) {\n    swiper.updateSlidesOffset();\n  }\n\n  if (!isVirtual && !params.cssMode && (params.effect === 'slide' || params.effect === 'fade')) {\n    const backFaceHiddenClass = `${params.containerModifierClass}backface-hidden`;\n    const hasClassBackfaceClassAdded = swiper.$el.hasClass(backFaceHiddenClass);\n\n    if (slidesLength <= params.maxBackfaceHiddenSlides) {\n      if (!hasClassBackfaceClassAdded) swiper.$el.addClass(backFaceHiddenClass);\n    } else if (hasClassBackfaceClassAdded) {\n      swiper.$el.removeClass(backFaceHiddenClass);\n    }\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateAutoHeight(speed) {\n  const swiper = this;\n  const activeSlides = [];\n  const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n  let newHeight = 0;\n  let i;\n\n  if (typeof speed === 'number') {\n    swiper.setTransition(speed);\n  } else if (speed === true) {\n    swiper.setTransition(swiper.params.speed);\n  }\n\n  const getSlideByIndex = index => {\n    if (isVirtual) {\n      return swiper.slides.filter(el => parseInt(el.getAttribute('data-swiper-slide-index'), 10) === index)[0];\n    }\n\n    return swiper.slides.eq(index)[0];\n  }; // Find slides currently in view\n\n\n  if (swiper.params.slidesPerView !== 'auto' && swiper.params.slidesPerView > 1) {\n    if (swiper.params.centeredSlides) {\n      (swiper.visibleSlides || $([])).each(slide => {\n        activeSlides.push(slide);\n      });\n    } else {\n      for (i = 0; i < Math.ceil(swiper.params.slidesPerView); i += 1) {\n        const index = swiper.activeIndex + i;\n        if (index > swiper.slides.length && !isVirtual) break;\n        activeSlides.push(getSlideByIndex(index));\n      }\n    }\n  } else {\n    activeSlides.push(getSlideByIndex(swiper.activeIndex));\n  } // Find new height from highest slide in view\n\n\n  for (i = 0; i < activeSlides.length; i += 1) {\n    if (typeof activeSlides[i] !== 'undefined') {\n      const height = activeSlides[i].offsetHeight;\n      newHeight = height > newHeight ? height : newHeight;\n    }\n  } // Update Height\n\n\n  if (newHeight || newHeight === 0) swiper.$wrapperEl.css('height', `${newHeight}px`);\n}","export default function updateSlidesOffset() {\n  const swiper = this;\n  const slides = swiper.slides;\n\n  for (let i = 0; i < slides.length; i += 1) {\n    slides[i].swiperSlideOffset = swiper.isHorizontal() ? slides[i].offsetLeft : slides[i].offsetTop;\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateSlidesProgress(translate) {\n  if (translate === void 0) {\n    translate = this && this.translate || 0;\n  }\n\n  const swiper = this;\n  const params = swiper.params;\n  const {\n    slides,\n    rtlTranslate: rtl,\n    snapGrid\n  } = swiper;\n  if (slides.length === 0) return;\n  if (typeof slides[0].swiperSlideOffset === 'undefined') swiper.updateSlidesOffset();\n  let offsetCenter = -translate;\n  if (rtl) offsetCenter = translate; // Visible Slides\n\n  slides.removeClass(params.slideVisibleClass);\n  swiper.visibleSlidesIndexes = [];\n  swiper.visibleSlides = [];\n\n  for (let i = 0; i < slides.length; i += 1) {\n    const slide = slides[i];\n    let slideOffset = slide.swiperSlideOffset;\n\n    if (params.cssMode && params.centeredSlides) {\n      slideOffset -= slides[0].swiperSlideOffset;\n    }\n\n    const slideProgress = (offsetCenter + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const originalSlideProgress = (offsetCenter - snapGrid[0] + (params.centeredSlides ? swiper.minTranslate() : 0) - slideOffset) / (slide.swiperSlideSize + params.spaceBetween);\n    const slideBefore = -(offsetCenter - slideOffset);\n    const slideAfter = slideBefore + swiper.slidesSizesGrid[i];\n    const isVisible = slideBefore >= 0 && slideBefore < swiper.size - 1 || slideAfter > 1 && slideAfter <= swiper.size || slideBefore <= 0 && slideAfter >= swiper.size;\n\n    if (isVisible) {\n      swiper.visibleSlides.push(slide);\n      swiper.visibleSlidesIndexes.push(i);\n      slides.eq(i).addClass(params.slideVisibleClass);\n    }\n\n    slide.progress = rtl ? -slideProgress : slideProgress;\n    slide.originalProgress = rtl ? -originalSlideProgress : originalSlideProgress;\n  }\n\n  swiper.visibleSlides = $(swiper.visibleSlides);\n}","export default function updateProgress(translate) {\n  const swiper = this;\n\n  if (typeof translate === 'undefined') {\n    const multiplier = swiper.rtlTranslate ? -1 : 1; // eslint-disable-next-line\n\n    translate = swiper && swiper.translate && swiper.translate * multiplier || 0;\n  }\n\n  const params = swiper.params;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n  let {\n    progress,\n    isBeginning,\n    isEnd\n  } = swiper;\n  const wasBeginning = isBeginning;\n  const wasEnd = isEnd;\n\n  if (translatesDiff === 0) {\n    progress = 0;\n    isBeginning = true;\n    isEnd = true;\n  } else {\n    progress = (translate - swiper.minTranslate()) / translatesDiff;\n    isBeginning = progress <= 0;\n    isEnd = progress >= 1;\n  }\n\n  Object.assign(swiper, {\n    progress,\n    isBeginning,\n    isEnd\n  });\n  if (params.watchSlidesProgress || params.centeredSlides && params.autoHeight) swiper.updateSlidesProgress(translate);\n\n  if (isBeginning && !wasBeginning) {\n    swiper.emit('reachBeginning toEdge');\n  }\n\n  if (isEnd && !wasEnd) {\n    swiper.emit('reachEnd toEdge');\n  }\n\n  if (wasBeginning && !isBeginning || wasEnd && !isEnd) {\n    swiper.emit('fromEdge');\n  }\n\n  swiper.emit('progress', progress);\n}","export default function updateSlidesClasses() {\n  const swiper = this;\n  const {\n    slides,\n    params,\n    $wrapperEl,\n    activeIndex,\n    realIndex\n  } = swiper;\n  const isVirtual = swiper.virtual && params.virtual.enabled;\n  slides.removeClass(`${params.slideActiveClass} ${params.slideNextClass} ${params.slidePrevClass} ${params.slideDuplicateActiveClass} ${params.slideDuplicateNextClass} ${params.slideDuplicatePrevClass}`);\n  let activeSlide;\n\n  if (isVirtual) {\n    activeSlide = swiper.$wrapperEl.find(`.${params.slideClass}[data-swiper-slide-index=\"${activeIndex}\"]`);\n  } else {\n    activeSlide = slides.eq(activeIndex);\n  } // Active classes\n\n\n  activeSlide.addClass(params.slideActiveClass);\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (activeSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${realIndex}\"]`).addClass(params.slideDuplicateActiveClass);\n    }\n  } // Next Slide\n\n\n  let nextSlide = activeSlide.nextAll(`.${params.slideClass}`).eq(0).addClass(params.slideNextClass);\n\n  if (params.loop && nextSlide.length === 0) {\n    nextSlide = slides.eq(0);\n    nextSlide.addClass(params.slideNextClass);\n  } // Prev Slide\n\n\n  let prevSlide = activeSlide.prevAll(`.${params.slideClass}`).eq(0).addClass(params.slidePrevClass);\n\n  if (params.loop && prevSlide.length === 0) {\n    prevSlide = slides.eq(-1);\n    prevSlide.addClass(params.slidePrevClass);\n  }\n\n  if (params.loop) {\n    // Duplicate to all looped slides\n    if (nextSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${nextSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicateNextClass);\n    }\n\n    if (prevSlide.hasClass(params.slideDuplicateClass)) {\n      $wrapperEl.children(`.${params.slideClass}:not(.${params.slideDuplicateClass})[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    } else {\n      $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass}[data-swiper-slide-index=\"${prevSlide.attr('data-swiper-slide-index')}\"]`).addClass(params.slideDuplicatePrevClass);\n    }\n  }\n\n  swiper.emitSlidesClasses();\n}","export default function updateActiveIndex(newActiveIndex) {\n  const swiper = this;\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n  const {\n    slidesGrid,\n    snapGrid,\n    params,\n    activeIndex: previousIndex,\n    realIndex: previousRealIndex,\n    snapIndex: previousSnapIndex\n  } = swiper;\n  let activeIndex = newActiveIndex;\n  let snapIndex;\n\n  if (typeof activeIndex === 'undefined') {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1] - (slidesGrid[i + 1] - slidesGrid[i]) / 2) {\n          activeIndex = i;\n        } else if (translate >= slidesGrid[i] && translate < slidesGrid[i + 1]) {\n          activeIndex = i + 1;\n        }\n      } else if (translate >= slidesGrid[i]) {\n        activeIndex = i;\n      }\n    } // Normalize slideIndex\n\n\n    if (params.normalizeSlideIndex) {\n      if (activeIndex < 0 || typeof activeIndex === 'undefined') activeIndex = 0;\n    }\n  }\n\n  if (snapGrid.indexOf(translate) >= 0) {\n    snapIndex = snapGrid.indexOf(translate);\n  } else {\n    const skip = Math.min(params.slidesPerGroupSkip, activeIndex);\n    snapIndex = skip + Math.floor((activeIndex - skip) / params.slidesPerGroup);\n  }\n\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if (activeIndex === previousIndex) {\n    if (snapIndex !== previousSnapIndex) {\n      swiper.snapIndex = snapIndex;\n      swiper.emit('snapIndexChange');\n    }\n\n    return;\n  } // Get real index\n\n\n  const realIndex = parseInt(swiper.slides.eq(activeIndex).attr('data-swiper-slide-index') || activeIndex, 10);\n  Object.assign(swiper, {\n    snapIndex,\n    realIndex,\n    previousIndex,\n    activeIndex\n  });\n  swiper.emit('activeIndexChange');\n  swiper.emit('snapIndexChange');\n\n  if (previousRealIndex !== realIndex) {\n    swiper.emit('realIndexChange');\n  }\n\n  if (swiper.initialized || swiper.params.runCallbacksOnInit) {\n    swiper.emit('slideChange');\n  }\n}","import $ from '../../shared/dom.js';\nexport default function updateClickedSlide(e) {\n  const swiper = this;\n  const params = swiper.params;\n  const slide = $(e).closest(`.${params.slideClass}`)[0];\n  let slideFound = false;\n  let slideIndex;\n\n  if (slide) {\n    for (let i = 0; i < swiper.slides.length; i += 1) {\n      if (swiper.slides[i] === slide) {\n        slideFound = true;\n        slideIndex = i;\n        break;\n      }\n    }\n  }\n\n  if (slide && slideFound) {\n    swiper.clickedSlide = slide;\n\n    if (swiper.virtual && swiper.params.virtual.enabled) {\n      swiper.clickedIndex = parseInt($(slide).attr('data-swiper-slide-index'), 10);\n    } else {\n      swiper.clickedIndex = slideIndex;\n    }\n  } else {\n    swiper.clickedSlide = undefined;\n    swiper.clickedIndex = undefined;\n    return;\n  }\n\n  if (params.slideToClickedSlide && swiper.clickedIndex !== undefined && swiper.clickedIndex !== swiper.activeIndex) {\n    swiper.slideToClickedSlide();\n  }\n}","export default function transitionEmit(_ref) {\n  let {\n    swiper,\n    runCallbacks,\n    direction,\n    step\n  } = _ref;\n  const {\n    activeIndex,\n    previousIndex\n  } = swiper;\n  let dir = direction;\n\n  if (!dir) {\n    if (activeIndex > previousIndex) dir = 'next';else if (activeIndex < previousIndex) dir = 'prev';else dir = 'reset';\n  }\n\n  swiper.emit(`transition${step}`);\n\n  if (runCallbacks && activeIndex !== previousIndex) {\n    if (dir === 'reset') {\n      swiper.emit(`slideResetTransition${step}`);\n      return;\n    }\n\n    swiper.emit(`slideChangeTransition${step}`);\n\n    if (dir === 'next') {\n      swiper.emit(`slideNextTransition${step}`);\n    } else {\n      swiper.emit(`slidePrevTransition${step}`);\n    }\n  }\n}","import slideTo from './slideTo.js';\nimport slideToLoop from './slideToLoop.js';\nimport slideNext from './slideNext.js';\nimport slidePrev from './slidePrev.js';\nimport slideReset from './slideReset.js';\nimport slideToClosest from './slideToClosest.js';\nimport slideToClickedSlide from './slideToClickedSlide.js';\nexport default {\n  slideTo,\n  slideToLoop,\n  slideNext,\n  slidePrev,\n  slideReset,\n  slideToClosest,\n  slideToClickedSlide\n};","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function slideTo(index, speed, runCallbacks, internal, initial) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index !== 'number' && typeof index !== 'string') {\n    throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof index}] given.`);\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let slideIndex = index;\n  if (slideIndex < 0) slideIndex = 0;\n  const {\n    params,\n    snapGrid,\n    slidesGrid,\n    previousIndex,\n    activeIndex,\n    rtlTranslate: rtl,\n    wrapperEl,\n    enabled\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition || !enabled && !internal && !initial) {\n    return false;\n  }\n\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, slideIndex);\n  let snapIndex = skip + Math.floor((slideIndex - skip) / swiper.params.slidesPerGroup);\n  if (snapIndex >= snapGrid.length) snapIndex = snapGrid.length - 1;\n\n  if ((activeIndex || params.initialSlide || 0) === (previousIndex || 0) && runCallbacks) {\n    swiper.emit('beforeSlideChangeStart');\n  }\n\n  const translate = -snapGrid[snapIndex]; // Update progress\n\n  swiper.updateProgress(translate); // Normalize slideIndex\n\n  if (params.normalizeSlideIndex) {\n    for (let i = 0; i < slidesGrid.length; i += 1) {\n      const normalizedTranslate = -Math.floor(translate * 100);\n      const normalizedGrid = Math.floor(slidesGrid[i] * 100);\n      const normalizedGridNext = Math.floor(slidesGrid[i + 1] * 100);\n\n      if (typeof slidesGrid[i + 1] !== 'undefined') {\n        if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext - (normalizedGridNext - normalizedGrid) / 2) {\n          slideIndex = i;\n        } else if (normalizedTranslate >= normalizedGrid && normalizedTranslate < normalizedGridNext) {\n          slideIndex = i + 1;\n        }\n      } else if (normalizedTranslate >= normalizedGrid) {\n        slideIndex = i;\n      }\n    }\n  } // Directions locks\n\n\n  if (swiper.initialized && slideIndex !== activeIndex) {\n    if (!swiper.allowSlideNext && translate < swiper.translate && translate < swiper.minTranslate()) {\n      return false;\n    }\n\n    if (!swiper.allowSlidePrev && translate > swiper.translate && translate > swiper.maxTranslate()) {\n      if ((activeIndex || 0) !== slideIndex) return false;\n    }\n  }\n\n  let direction;\n  if (slideIndex > activeIndex) direction = 'next';else if (slideIndex < activeIndex) direction = 'prev';else direction = 'reset'; // Update Index\n\n  if (rtl && -translate === swiper.translate || !rtl && translate === swiper.translate) {\n    swiper.updateActiveIndex(slideIndex); // Update Height\n\n    if (params.autoHeight) {\n      swiper.updateAutoHeight();\n    }\n\n    swiper.updateSlidesClasses();\n\n    if (params.effect !== 'slide') {\n      swiper.setTranslate(translate);\n    }\n\n    if (direction !== 'reset') {\n      swiper.transitionStart(runCallbacks, direction);\n      swiper.transitionEnd(runCallbacks, direction);\n    }\n\n    return false;\n  }\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n    const t = rtl ? translate : -translate;\n\n    if (speed === 0) {\n      const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n\n      if (isVirtual) {\n        swiper.wrapperEl.style.scrollSnapType = 'none';\n        swiper._immediateVirtual = true;\n      }\n\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = t;\n\n      if (isVirtual) {\n        requestAnimationFrame(() => {\n          swiper.wrapperEl.style.scrollSnapType = '';\n          swiper._swiperImmediateVirtual = false;\n        });\n      }\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: t,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: t,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  swiper.setTransition(speed);\n  swiper.setTranslate(translate);\n  swiper.updateActiveIndex(slideIndex);\n  swiper.updateSlidesClasses();\n  swiper.emit('beforeTransitionStart', speed, internal);\n  swiper.transitionStart(runCallbacks, direction);\n\n  if (speed === 0) {\n    swiper.transitionEnd(runCallbacks, direction);\n  } else if (!swiper.animating) {\n    swiper.animating = true;\n\n    if (!swiper.onSlideToWrapperTransitionEnd) {\n      swiper.onSlideToWrapperTransitionEnd = function transitionEnd(e) {\n        if (!swiper || swiper.destroyed) return;\n        if (e.target !== this) return;\n        swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n        swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n        swiper.onSlideToWrapperTransitionEnd = null;\n        delete swiper.onSlideToWrapperTransitionEnd;\n        swiper.transitionEnd(runCallbacks, direction);\n      };\n    }\n\n    swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onSlideToWrapperTransitionEnd);\n    swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onSlideToWrapperTransitionEnd);\n  }\n\n  return true;\n}","export default function slideToLoop(index, speed, runCallbacks, internal) {\n  if (index === void 0) {\n    index = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (typeof index === 'string') {\n    /**\n     * The `index` argument converted from `string` to `number`.\n     * @type {number}\n     */\n    const indexAsNumber = parseInt(index, 10);\n    /**\n     * Determines whether the `index` argument is a valid `number`\n     * after being converted from the `string` type.\n     * @type {boolean}\n     */\n\n    const isValidNumber = isFinite(indexAsNumber);\n\n    if (!isValidNumber) {\n      throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${index}] given.`);\n    } // Knowing that the converted `index` is a valid number,\n    // we can update the original argument's value.\n\n\n    index = indexAsNumber;\n  }\n\n  const swiper = this;\n  let newIndex = index;\n\n  if (swiper.params.loop) {\n    newIndex += swiper.loopedSlides;\n  }\n\n  return swiper.slideTo(newIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideNext(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    animating,\n    enabled,\n    params\n  } = swiper;\n  if (!enabled) return swiper;\n  let perGroup = params.slidesPerGroup;\n\n  if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n    perGroup = Math.max(swiper.slidesPerViewDynamic('current', true), 1);\n  }\n\n  const increment = swiper.activeIndex < params.slidesPerGroupSkip ? 1 : perGroup;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  if (params.rewind && swiper.isEnd) {\n    return swiper.slideTo(0, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(swiper.activeIndex + increment, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slidePrev(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params,\n    animating,\n    snapGrid,\n    slidesGrid,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return swiper;\n\n  if (params.loop) {\n    if (animating && params.loopPreventsSlide) return false;\n    swiper.loopFix(); // eslint-disable-next-line\n\n    swiper._clientLeft = swiper.$wrapperEl[0].clientLeft;\n  }\n\n  const translate = rtlTranslate ? swiper.translate : -swiper.translate;\n\n  function normalize(val) {\n    if (val < 0) return -Math.floor(Math.abs(val));\n    return Math.floor(val);\n  }\n\n  const normalizedTranslate = normalize(translate);\n  const normalizedSnapGrid = snapGrid.map(val => normalize(val));\n  let prevSnap = snapGrid[normalizedSnapGrid.indexOf(normalizedTranslate) - 1];\n\n  if (typeof prevSnap === 'undefined' && params.cssMode) {\n    let prevSnapIndex;\n    snapGrid.forEach((snap, snapIndex) => {\n      if (normalizedTranslate >= snap) {\n        // prevSnap = snap;\n        prevSnapIndex = snapIndex;\n      }\n    });\n\n    if (typeof prevSnapIndex !== 'undefined') {\n      prevSnap = snapGrid[prevSnapIndex > 0 ? prevSnapIndex - 1 : prevSnapIndex];\n    }\n  }\n\n  let prevIndex = 0;\n\n  if (typeof prevSnap !== 'undefined') {\n    prevIndex = slidesGrid.indexOf(prevSnap);\n    if (prevIndex < 0) prevIndex = swiper.activeIndex - 1;\n\n    if (params.slidesPerView === 'auto' && params.slidesPerGroup === 1 && params.slidesPerGroupAuto) {\n      prevIndex = prevIndex - swiper.slidesPerViewDynamic('previous', true) + 1;\n      prevIndex = Math.max(prevIndex, 0);\n    }\n  }\n\n  if (params.rewind && swiper.isBeginning) {\n    const lastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    return swiper.slideTo(lastIndex, speed, runCallbacks, internal);\n  }\n\n  return swiper.slideTo(prevIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideReset(speed, runCallbacks, internal) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  return swiper.slideTo(swiper.activeIndex, speed, runCallbacks, internal);\n}","/* eslint no-unused-vars: \"off\" */\nexport default function slideToClosest(speed, runCallbacks, internal, threshold) {\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (threshold === void 0) {\n    threshold = 0.5;\n  }\n\n  const swiper = this;\n  let index = swiper.activeIndex;\n  const skip = Math.min(swiper.params.slidesPerGroupSkip, index);\n  const snapIndex = skip + Math.floor((index - skip) / swiper.params.slidesPerGroup);\n  const translate = swiper.rtlTranslate ? swiper.translate : -swiper.translate;\n\n  if (translate >= swiper.snapGrid[snapIndex]) {\n    // The current translate is on or after the current snap index, so the choice\n    // is between the current index and the one after it.\n    const currentSnap = swiper.snapGrid[snapIndex];\n    const nextSnap = swiper.snapGrid[snapIndex + 1];\n\n    if (translate - currentSnap > (nextSnap - currentSnap) * threshold) {\n      index += swiper.params.slidesPerGroup;\n    }\n  } else {\n    // The current translate is before the current snap index, so the choice\n    // is between the current index and the one before it.\n    const prevSnap = swiper.snapGrid[snapIndex - 1];\n    const currentSnap = swiper.snapGrid[snapIndex];\n\n    if (translate - prevSnap <= (currentSnap - prevSnap) * threshold) {\n      index -= swiper.params.slidesPerGroup;\n    }\n  }\n\n  index = Math.max(index, 0);\n  index = Math.min(index, swiper.slidesGrid.length - 1);\n  return swiper.slideTo(index, speed, runCallbacks, internal);\n}","import $ from '../../shared/dom.js';\nimport { nextTick } from '../../shared/utils.js';\nexport default function slideToClickedSlide() {\n  const swiper = this;\n  const {\n    params,\n    $wrapperEl\n  } = swiper;\n  const slidesPerView = params.slidesPerView === 'auto' ? swiper.slidesPerViewDynamic() : params.slidesPerView;\n  let slideToIndex = swiper.clickedIndex;\n  let realIndex;\n\n  if (params.loop) {\n    if (swiper.animating) return;\n    realIndex = parseInt($(swiper.clickedSlide).attr('data-swiper-slide-index'), 10);\n\n    if (params.centeredSlides) {\n      if (slideToIndex < swiper.loopedSlides - slidesPerView / 2 || slideToIndex > swiper.slides.length - swiper.loopedSlides + slidesPerView / 2) {\n        swiper.loopFix();\n        slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n        nextTick(() => {\n          swiper.slideTo(slideToIndex);\n        });\n      } else {\n        swiper.slideTo(slideToIndex);\n      }\n    } else if (slideToIndex > swiper.slides.length - slidesPerView) {\n      swiper.loopFix();\n      slideToIndex = $wrapperEl.children(`.${params.slideClass}[data-swiper-slide-index=\"${realIndex}\"]:not(.${params.slideDuplicateClass})`).eq(0).index();\n      nextTick(() => {\n        swiper.slideTo(slideToIndex);\n      });\n    } else {\n      swiper.slideTo(slideToIndex);\n    }\n  } else {\n    swiper.slideTo(slideToIndex);\n  }\n}","import { getWindow, getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js'; // Modified from https://stackoverflow.com/questions/54520554/custom-element-getrootnode-closest-function-crossing-multiple-parent-shadowd\n\nfunction closestElement(selector, base) {\n  if (base === void 0) {\n    base = this;\n  }\n\n  function __closestFrom(el) {\n    if (!el || el === getDocument() || el === getWindow()) return null;\n    if (el.assignedSlot) el = el.assignedSlot;\n    const found = el.closest(selector);\n\n    if (!found && !el.getRootNode) {\n      return null;\n    }\n\n    return found || __closestFrom(el.getRootNode().host);\n  }\n\n  return __closestFrom(base);\n}\n\nexport default function onTouchStart(event) {\n  const swiper = this;\n  const document = getDocument();\n  const window = getWindow();\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return;\n  }\n\n  if (!swiper.animating && params.cssMode && params.loop) {\n    swiper.loopFix();\n  }\n\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n  let $targetEl = $(e.target);\n\n  if (params.touchEventsTarget === 'wrapper') {\n    if (!$targetEl.closest(swiper.wrapperEl).length) return;\n  }\n\n  data.isTouchEvent = e.type === 'touchstart';\n  if (!data.isTouchEvent && 'which' in e && e.which === 3) return;\n  if (!data.isTouchEvent && 'button' in e && e.button > 0) return;\n  if (data.isTouched && data.isMoved) return; // change target el for shadow root component\n\n  const swipingClassHasValue = !!params.noSwipingClass && params.noSwipingClass !== '';\n\n  if (swipingClassHasValue && e.target && e.target.shadowRoot && event.path && event.path[0]) {\n    $targetEl = $(event.path[0]);\n  }\n\n  const noSwipingSelector = params.noSwipingSelector ? params.noSwipingSelector : `.${params.noSwipingClass}`;\n  const isTargetShadow = !!(e.target && e.target.shadowRoot); // use closestElement for shadow root element to get the actual closest for nested shadow root element\n\n  if (params.noSwiping && (isTargetShadow ? closestElement(noSwipingSelector, $targetEl[0]) : $targetEl.closest(noSwipingSelector)[0])) {\n    swiper.allowClick = true;\n    return;\n  }\n\n  if (params.swipeHandler) {\n    if (!$targetEl.closest(params.swipeHandler)[0]) return;\n  }\n\n  touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;\n  touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;\n  const startX = touches.currentX;\n  const startY = touches.currentY; // Do NOT start if iOS edge swipe is detected. Otherwise iOS app cannot swipe-to-go-back anymore\n\n  const edgeSwipeDetection = params.edgeSwipeDetection || params.iOSEdgeSwipeDetection;\n  const edgeSwipeThreshold = params.edgeSwipeThreshold || params.iOSEdgeSwipeThreshold;\n\n  if (edgeSwipeDetection && (startX <= edgeSwipeThreshold || startX >= window.innerWidth - edgeSwipeThreshold)) {\n    if (edgeSwipeDetection === 'prevent') {\n      event.preventDefault();\n    } else {\n      return;\n    }\n  }\n\n  Object.assign(data, {\n    isTouched: true,\n    isMoved: false,\n    allowTouchCallbacks: true,\n    isScrolling: undefined,\n    startMoving: undefined\n  });\n  touches.startX = startX;\n  touches.startY = startY;\n  data.touchStartTime = now();\n  swiper.allowClick = true;\n  swiper.updateSize();\n  swiper.swipeDirection = undefined;\n  if (params.threshold > 0) data.allowThresholdMove = false;\n\n  if (e.type !== 'touchstart') {\n    let preventDefault = true;\n\n    if ($targetEl.is(data.focusableElements)) {\n      preventDefault = false;\n\n      if ($targetEl[0].nodeName === 'SELECT') {\n        data.isTouched = false;\n      }\n    }\n\n    if (document.activeElement && $(document.activeElement).is(data.focusableElements) && document.activeElement !== $targetEl[0]) {\n      document.activeElement.blur();\n    }\n\n    const shouldPreventDefault = preventDefault && swiper.allowTouchMove && params.touchStartPreventDefault;\n\n    if ((params.touchStartForcePreventDefault || shouldPreventDefault) && !$targetEl[0].isContentEditable) {\n      e.preventDefault();\n    }\n  }\n\n  if (swiper.params.freeMode && swiper.params.freeMode.enabled && swiper.freeMode && swiper.animating && !params.cssMode) {\n    swiper.freeMode.onTouchStart();\n  }\n\n  swiper.emit('touchStart', e);\n}","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nimport { now } from '../../shared/utils.js';\nexport default function onTouchMove(event) {\n  const document = getDocument();\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (!data.isTouched) {\n    if (data.startMoving && data.isScrolling) {\n      swiper.emit('touchMoveOpposite', e);\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && e.type !== 'touchmove') return;\n  const targetTouch = e.type === 'touchmove' && e.targetTouches && (e.targetTouches[0] || e.changedTouches[0]);\n  const pageX = e.type === 'touchmove' ? targetTouch.pageX : e.pageX;\n  const pageY = e.type === 'touchmove' ? targetTouch.pageY : e.pageY;\n\n  if (e.preventedByNestedSwiper) {\n    touches.startX = pageX;\n    touches.startY = pageY;\n    return;\n  }\n\n  if (!swiper.allowTouchMove) {\n    if (!$(e.target).is(data.focusableElements)) {\n      swiper.allowClick = false;\n    }\n\n    if (data.isTouched) {\n      Object.assign(touches, {\n        startX: pageX,\n        startY: pageY,\n        currentX: pageX,\n        currentY: pageY\n      });\n      data.touchStartTime = now();\n    }\n\n    return;\n  }\n\n  if (data.isTouchEvent && params.touchReleaseOnEdges && !params.loop) {\n    if (swiper.isVertical()) {\n      // Vertical\n      if (pageY < touches.startY && swiper.translate <= swiper.maxTranslate() || pageY > touches.startY && swiper.translate >= swiper.minTranslate()) {\n        data.isTouched = false;\n        data.isMoved = false;\n        return;\n      }\n    } else if (pageX < touches.startX && swiper.translate <= swiper.maxTranslate() || pageX > touches.startX && swiper.translate >= swiper.minTranslate()) {\n      return;\n    }\n  }\n\n  if (data.isTouchEvent && document.activeElement) {\n    if (e.target === document.activeElement && $(e.target).is(data.focusableElements)) {\n      data.isMoved = true;\n      swiper.allowClick = false;\n      return;\n    }\n  }\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchMove', e);\n  }\n\n  if (e.targetTouches && e.targetTouches.length > 1) return;\n  touches.currentX = pageX;\n  touches.currentY = pageY;\n  const diffX = touches.currentX - touches.startX;\n  const diffY = touches.currentY - touches.startY;\n  if (swiper.params.threshold && Math.sqrt(diffX ** 2 + diffY ** 2) < swiper.params.threshold) return;\n\n  if (typeof data.isScrolling === 'undefined') {\n    let touchAngle;\n\n    if (swiper.isHorizontal() && touches.currentY === touches.startY || swiper.isVertical() && touches.currentX === touches.startX) {\n      data.isScrolling = false;\n    } else {\n      // eslint-disable-next-line\n      if (diffX * diffX + diffY * diffY >= 25) {\n        touchAngle = Math.atan2(Math.abs(diffY), Math.abs(diffX)) * 180 / Math.PI;\n        data.isScrolling = swiper.isHorizontal() ? touchAngle > params.touchAngle : 90 - touchAngle > params.touchAngle;\n      }\n    }\n  }\n\n  if (data.isScrolling) {\n    swiper.emit('touchMoveOpposite', e);\n  }\n\n  if (typeof data.startMoving === 'undefined') {\n    if (touches.currentX !== touches.startX || touches.currentY !== touches.startY) {\n      data.startMoving = true;\n    }\n  }\n\n  if (data.isScrolling) {\n    data.isTouched = false;\n    return;\n  }\n\n  if (!data.startMoving) {\n    return;\n  }\n\n  swiper.allowClick = false;\n\n  if (!params.cssMode && e.cancelable) {\n    e.preventDefault();\n  }\n\n  if (params.touchMoveStopPropagation && !params.nested) {\n    e.stopPropagation();\n  }\n\n  if (!data.isMoved) {\n    if (params.loop && !params.cssMode) {\n      swiper.loopFix();\n    }\n\n    data.startTranslate = swiper.getTranslate();\n    swiper.setTransition(0);\n\n    if (swiper.animating) {\n      swiper.$wrapperEl.trigger('webkitTransitionEnd transitionend');\n    }\n\n    data.allowMomentumBounce = false; // Grab Cursor\n\n    if (params.grabCursor && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n      swiper.setGrabCursor(true);\n    }\n\n    swiper.emit('sliderFirstMove', e);\n  }\n\n  swiper.emit('sliderMove', e);\n  data.isMoved = true;\n  let diff = swiper.isHorizontal() ? diffX : diffY;\n  touches.diff = diff;\n  diff *= params.touchRatio;\n  if (rtl) diff = -diff;\n  swiper.swipeDirection = diff > 0 ? 'prev' : 'next';\n  data.currentTranslate = diff + data.startTranslate;\n  let disableParentSwiper = true;\n  let resistanceRatio = params.resistanceRatio;\n\n  if (params.touchReleaseOnEdges) {\n    resistanceRatio = 0;\n  }\n\n  if (diff > 0 && data.currentTranslate > swiper.minTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.minTranslate() - 1 + (-swiper.minTranslate() + data.startTranslate + diff) ** resistanceRatio;\n  } else if (diff < 0 && data.currentTranslate < swiper.maxTranslate()) {\n    disableParentSwiper = false;\n    if (params.resistance) data.currentTranslate = swiper.maxTranslate() + 1 - (swiper.maxTranslate() - data.startTranslate - diff) ** resistanceRatio;\n  }\n\n  if (disableParentSwiper) {\n    e.preventedByNestedSwiper = true;\n  } // Directions locks\n\n\n  if (!swiper.allowSlideNext && swiper.swipeDirection === 'next' && data.currentTranslate < data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && swiper.swipeDirection === 'prev' && data.currentTranslate > data.startTranslate) {\n    data.currentTranslate = data.startTranslate;\n  }\n\n  if (!swiper.allowSlidePrev && !swiper.allowSlideNext) {\n    data.currentTranslate = data.startTranslate;\n  } // Threshold\n\n\n  if (params.threshold > 0) {\n    if (Math.abs(diff) > params.threshold || data.allowThresholdMove) {\n      if (!data.allowThresholdMove) {\n        data.allowThresholdMove = true;\n        touches.startX = touches.currentX;\n        touches.startY = touches.currentY;\n        data.currentTranslate = data.startTranslate;\n        touches.diff = swiper.isHorizontal() ? touches.currentX - touches.startX : touches.currentY - touches.startY;\n        return;\n      }\n    } else {\n      data.currentTranslate = data.startTranslate;\n      return;\n    }\n  }\n\n  if (!params.followFinger || params.cssMode) return; // Update active index in free mode\n\n  if (params.freeMode && params.freeMode.enabled && swiper.freeMode || params.watchSlidesProgress) {\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled && swiper.freeMode) {\n    swiper.freeMode.onTouchMove();\n  } // Update progress\n\n\n  swiper.updateProgress(data.currentTranslate); // Update translate\n\n  swiper.setTranslate(data.currentTranslate);\n}","import { now, nextTick } from '../../shared/utils.js';\nexport default function onTouchEnd(event) {\n  const swiper = this;\n  const data = swiper.touchEventsData;\n  const {\n    params,\n    touches,\n    rtlTranslate: rtl,\n    slidesGrid,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  let e = event;\n  if (e.originalEvent) e = e.originalEvent;\n\n  if (data.allowTouchCallbacks) {\n    swiper.emit('touchEnd', e);\n  }\n\n  data.allowTouchCallbacks = false;\n\n  if (!data.isTouched) {\n    if (data.isMoved && params.grabCursor) {\n      swiper.setGrabCursor(false);\n    }\n\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  } // Return Grab Cursor\n\n\n  if (params.grabCursor && data.isMoved && data.isTouched && (swiper.allowSlideNext === true || swiper.allowSlidePrev === true)) {\n    swiper.setGrabCursor(false);\n  } // Time diff\n\n\n  const touchEndTime = now();\n  const timeDiff = touchEndTime - data.touchStartTime; // Tap, doubleTap, Click\n\n  if (swiper.allowClick) {\n    const pathTree = e.path || e.composedPath && e.composedPath();\n    swiper.updateClickedSlide(pathTree && pathTree[0] || e.target);\n    swiper.emit('tap click', e);\n\n    if (timeDiff < 300 && touchEndTime - data.lastClickTime < 300) {\n      swiper.emit('doubleTap doubleClick', e);\n    }\n  }\n\n  data.lastClickTime = now();\n  nextTick(() => {\n    if (!swiper.destroyed) swiper.allowClick = true;\n  });\n\n  if (!data.isTouched || !data.isMoved || !swiper.swipeDirection || touches.diff === 0 || data.currentTranslate === data.startTranslate) {\n    data.isTouched = false;\n    data.isMoved = false;\n    data.startMoving = false;\n    return;\n  }\n\n  data.isTouched = false;\n  data.isMoved = false;\n  data.startMoving = false;\n  let currentPos;\n\n  if (params.followFinger) {\n    currentPos = rtl ? swiper.translate : -swiper.translate;\n  } else {\n    currentPos = -data.currentTranslate;\n  }\n\n  if (params.cssMode) {\n    return;\n  }\n\n  if (swiper.params.freeMode && params.freeMode.enabled) {\n    swiper.freeMode.onTouchEnd({\n      currentPos\n    });\n    return;\n  } // Find current slide\n\n\n  let stopIndex = 0;\n  let groupSize = swiper.slidesSizesGrid[0];\n\n  for (let i = 0; i < slidesGrid.length; i += i < params.slidesPerGroupSkip ? 1 : params.slidesPerGroup) {\n    const increment = i < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n    if (typeof slidesGrid[i + increment] !== 'undefined') {\n      if (currentPos >= slidesGrid[i] && currentPos < slidesGrid[i + increment]) {\n        stopIndex = i;\n        groupSize = slidesGrid[i + increment] - slidesGrid[i];\n      }\n    } else if (currentPos >= slidesGrid[i]) {\n      stopIndex = i;\n      groupSize = slidesGrid[slidesGrid.length - 1] - slidesGrid[slidesGrid.length - 2];\n    }\n  }\n\n  let rewindFirstIndex = null;\n  let rewindLastIndex = null;\n\n  if (params.rewind) {\n    if (swiper.isBeginning) {\n      rewindLastIndex = swiper.params.virtual && swiper.params.virtual.enabled && swiper.virtual ? swiper.virtual.slides.length - 1 : swiper.slides.length - 1;\n    } else if (swiper.isEnd) {\n      rewindFirstIndex = 0;\n    }\n  } // Find current slide size\n\n\n  const ratio = (currentPos - slidesGrid[stopIndex]) / groupSize;\n  const increment = stopIndex < params.slidesPerGroupSkip - 1 ? 1 : params.slidesPerGroup;\n\n  if (timeDiff > params.longSwipesMs) {\n    // Long touches\n    if (!params.longSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    if (swiper.swipeDirection === 'next') {\n      if (ratio >= params.longSwipesRatio) swiper.slideTo(params.rewind && swiper.isEnd ? rewindFirstIndex : stopIndex + increment);else swiper.slideTo(stopIndex);\n    }\n\n    if (swiper.swipeDirection === 'prev') {\n      if (ratio > 1 - params.longSwipesRatio) {\n        swiper.slideTo(stopIndex + increment);\n      } else if (rewindLastIndex !== null && ratio < 0 && Math.abs(ratio) > params.longSwipesRatio) {\n        swiper.slideTo(rewindLastIndex);\n      } else {\n        swiper.slideTo(stopIndex);\n      }\n    }\n  } else {\n    // Short swipes\n    if (!params.shortSwipes) {\n      swiper.slideTo(swiper.activeIndex);\n      return;\n    }\n\n    const isNavButtonTarget = swiper.navigation && (e.target === swiper.navigation.nextEl || e.target === swiper.navigation.prevEl);\n\n    if (!isNavButtonTarget) {\n      if (swiper.swipeDirection === 'next') {\n        swiper.slideTo(rewindFirstIndex !== null ? rewindFirstIndex : stopIndex + increment);\n      }\n\n      if (swiper.swipeDirection === 'prev') {\n        swiper.slideTo(rewindLastIndex !== null ? rewindLastIndex : stopIndex);\n      }\n    } else if (e.target === swiper.navigation.nextEl) {\n      swiper.slideTo(stopIndex + increment);\n    } else {\n      swiper.slideTo(stopIndex);\n    }\n  }\n}","export default function onResize() {\n  const swiper = this;\n  const {\n    params,\n    el\n  } = swiper;\n  if (el && el.offsetWidth === 0) return; // Breakpoints\n\n  if (params.breakpoints) {\n    swiper.setBreakpoint();\n  } // Save locks\n\n\n  const {\n    allowSlideNext,\n    allowSlidePrev,\n    snapGrid\n  } = swiper; // Disable locks on resize\n\n  swiper.allowSlideNext = true;\n  swiper.allowSlidePrev = true;\n  swiper.updateSize();\n  swiper.updateSlides();\n  swiper.updateSlidesClasses();\n\n  if ((params.slidesPerView === 'auto' || params.slidesPerView > 1) && swiper.isEnd && !swiper.isBeginning && !swiper.params.centeredSlides) {\n    swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n  } else {\n    swiper.slideTo(swiper.activeIndex, 0, false, true);\n  }\n\n  if (swiper.autoplay && swiper.autoplay.running && swiper.autoplay.paused) {\n    swiper.autoplay.run();\n  } // Return locks after resize\n\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n\n  if (swiper.params.watchOverflow && snapGrid !== swiper.snapGrid) {\n    swiper.checkOverflow();\n  }\n}","export default function onClick(e) {\n  const swiper = this;\n  if (!swiper.enabled) return;\n\n  if (!swiper.allowClick) {\n    if (swiper.params.preventClicks) e.preventDefault();\n\n    if (swiper.params.preventClicksPropagation && swiper.animating) {\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n}","export default function onScroll() {\n  const swiper = this;\n  const {\n    wrapperEl,\n    rtlTranslate,\n    enabled\n  } = swiper;\n  if (!enabled) return;\n  swiper.previousTranslate = swiper.translate;\n\n  if (swiper.isHorizontal()) {\n    swiper.translate = -wrapperEl.scrollLeft;\n  } else {\n    swiper.translate = -wrapperEl.scrollTop;\n  } // eslint-disable-next-line\n\n\n  if (swiper.translate === 0) swiper.translate = 0;\n  swiper.updateActiveIndex();\n  swiper.updateSlidesClasses();\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (swiper.translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== swiper.progress) {\n    swiper.updateProgress(rtlTranslate ? -swiper.translate : swiper.translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, false);\n}","import { getDocument } from 'ssr-window';\nimport onTouchStart from './onTouchStart.js';\nimport onTouchMove from './onTouchMove.js';\nimport onTouchEnd from './onTouchEnd.js';\nimport onResize from './onResize.js';\nimport onClick from './onClick.js';\nimport onScroll from './onScroll.js';\nlet dummyEventAttached = false;\n\nfunction dummyEventListener() {}\n\nconst events = (swiper, method) => {\n  const document = getDocument();\n  const {\n    params,\n    touchEvents,\n    el,\n    wrapperEl,\n    device,\n    support\n  } = swiper;\n  const capture = !!params.nested;\n  const domMethod = method === 'on' ? 'addEventListener' : 'removeEventListener';\n  const swiperMethod = method; // Touch Events\n\n  if (!support.touch) {\n    el[domMethod](touchEvents.start, swiper.onTouchStart, false);\n    document[domMethod](touchEvents.move, swiper.onTouchMove, capture);\n    document[domMethod](touchEvents.end, swiper.onTouchEnd, false);\n  } else {\n    const passiveListener = touchEvents.start === 'touchstart' && support.passiveListener && params.passiveListeners ? {\n      passive: true,\n      capture: false\n    } : false;\n    el[domMethod](touchEvents.start, swiper.onTouchStart, passiveListener);\n    el[domMethod](touchEvents.move, swiper.onTouchMove, support.passiveListener ? {\n      passive: false,\n      capture\n    } : capture);\n    el[domMethod](touchEvents.end, swiper.onTouchEnd, passiveListener);\n\n    if (touchEvents.cancel) {\n      el[domMethod](touchEvents.cancel, swiper.onTouchEnd, passiveListener);\n    }\n  } // Prevent Links Clicks\n\n\n  if (params.preventClicks || params.preventClicksPropagation) {\n    el[domMethod]('click', swiper.onClick, true);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[domMethod]('scroll', swiper.onScroll);\n  } // Resize handler\n\n\n  if (params.updateOnWindowResize) {\n    swiper[swiperMethod](device.ios || device.android ? 'resize orientationchange observerUpdate' : 'resize observerUpdate', onResize, true);\n  } else {\n    swiper[swiperMethod]('observerUpdate', onResize, true);\n  }\n};\n\nfunction attachEvents() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    support\n  } = swiper;\n  swiper.onTouchStart = onTouchStart.bind(swiper);\n  swiper.onTouchMove = onTouchMove.bind(swiper);\n  swiper.onTouchEnd = onTouchEnd.bind(swiper);\n\n  if (params.cssMode) {\n    swiper.onScroll = onScroll.bind(swiper);\n  }\n\n  swiper.onClick = onClick.bind(swiper);\n\n  if (support.touch && !dummyEventAttached) {\n    document.addEventListener('touchstart', dummyEventListener);\n    dummyEventAttached = true;\n  }\n\n  events(swiper, 'on');\n}\n\nfunction detachEvents() {\n  const swiper = this;\n  events(swiper, 'off');\n}\n\nexport default {\n  attachEvents,\n  detachEvents\n};","import { extend } from '../../shared/utils.js';\n\nconst isGridEnabled = (swiper, params) => {\n  return swiper.grid && params.grid && params.grid.rows > 1;\n};\n\nexport default function setBreakpoint() {\n  const swiper = this;\n  const {\n    activeIndex,\n    initialized,\n    loopedSlides = 0,\n    params,\n    $el\n  } = swiper;\n  const breakpoints = params.breakpoints;\n  if (!breakpoints || breakpoints && Object.keys(breakpoints).length === 0) return; // Get breakpoint for window width and update parameters\n\n  const breakpoint = swiper.getBreakpoint(breakpoints, swiper.params.breakpointsBase, swiper.el);\n  if (!breakpoint || swiper.currentBreakpoint === breakpoint) return;\n  const breakpointOnlyParams = breakpoint in breakpoints ? breakpoints[breakpoint] : undefined;\n  const breakpointParams = breakpointOnlyParams || swiper.originalParams;\n  const wasMultiRow = isGridEnabled(swiper, params);\n  const isMultiRow = isGridEnabled(swiper, breakpointParams);\n  const wasEnabled = params.enabled;\n\n  if (wasMultiRow && !isMultiRow) {\n    $el.removeClass(`${params.containerModifierClass}grid ${params.containerModifierClass}grid-column`);\n    swiper.emitContainerClasses();\n  } else if (!wasMultiRow && isMultiRow) {\n    $el.addClass(`${params.containerModifierClass}grid`);\n\n    if (breakpointParams.grid.fill && breakpointParams.grid.fill === 'column' || !breakpointParams.grid.fill && params.grid.fill === 'column') {\n      $el.addClass(`${params.containerModifierClass}grid-column`);\n    }\n\n    swiper.emitContainerClasses();\n  } // Toggle navigation, pagination, scrollbar\n\n\n  ['navigation', 'pagination', 'scrollbar'].forEach(prop => {\n    const wasModuleEnabled = params[prop] && params[prop].enabled;\n    const isModuleEnabled = breakpointParams[prop] && breakpointParams[prop].enabled;\n\n    if (wasModuleEnabled && !isModuleEnabled) {\n      swiper[prop].disable();\n    }\n\n    if (!wasModuleEnabled && isModuleEnabled) {\n      swiper[prop].enable();\n    }\n  });\n  const directionChanged = breakpointParams.direction && breakpointParams.direction !== params.direction;\n  const needsReLoop = params.loop && (breakpointParams.slidesPerView !== params.slidesPerView || directionChanged);\n\n  if (directionChanged && initialized) {\n    swiper.changeDirection();\n  }\n\n  extend(swiper.params, breakpointParams);\n  const isEnabled = swiper.params.enabled;\n  Object.assign(swiper, {\n    allowTouchMove: swiper.params.allowTouchMove,\n    allowSlideNext: swiper.params.allowSlideNext,\n    allowSlidePrev: swiper.params.allowSlidePrev\n  });\n\n  if (wasEnabled && !isEnabled) {\n    swiper.disable();\n  } else if (!wasEnabled && isEnabled) {\n    swiper.enable();\n  }\n\n  swiper.currentBreakpoint = breakpoint;\n  swiper.emit('_beforeBreakpoint', breakpointParams);\n\n  if (needsReLoop && initialized) {\n    swiper.loopDestroy();\n    swiper.loopCreate();\n    swiper.updateSlides();\n    swiper.slideTo(activeIndex - loopedSlides + swiper.loopedSlides, 0, false);\n  }\n\n  swiper.emit('breakpoint', breakpointParams);\n}","import setBreakpoint from './setBreakpoint.js';\nimport getBreakpoint from './getBreakpoint.js';\nexport default {\n  setBreakpoint,\n  getBreakpoint\n};","import addClasses from './addClasses.js';\nimport removeClasses from './removeClasses.js';\nexport default {\n  addClasses,\n  removeClasses\n};","function prepareClasses(entries, prefix) {\n  const resultClasses = [];\n  entries.forEach(item => {\n    if (typeof item === 'object') {\n      Object.keys(item).forEach(classNames => {\n        if (item[classNames]) {\n          resultClasses.push(prefix + classNames);\n        }\n      });\n    } else if (typeof item === 'string') {\n      resultClasses.push(prefix + item);\n    }\n  });\n  return resultClasses;\n}\n\nexport default function addClasses() {\n  const swiper = this;\n  const {\n    classNames,\n    params,\n    rtl,\n    $el,\n    device,\n    support\n  } = swiper; // prettier-ignore\n\n  const suffixes = prepareClasses(['initialized', params.direction, {\n    'pointer-events': !support.touch\n  }, {\n    'free-mode': swiper.params.freeMode && params.freeMode.enabled\n  }, {\n    'autoheight': params.autoHeight\n  }, {\n    'rtl': rtl\n  }, {\n    'grid': params.grid && params.grid.rows > 1\n  }, {\n    'grid-column': params.grid && params.grid.rows > 1 && params.grid.fill === 'column'\n  }, {\n    'android': device.android\n  }, {\n    'ios': device.ios\n  }, {\n    'css-mode': params.cssMode\n  }, {\n    'centered': params.cssMode && params.centeredSlides\n  }, {\n    'watch-progress': params.watchSlidesProgress\n  }], params.containerModifierClass);\n  classNames.push(...suffixes);\n  $el.addClass([...classNames].join(' '));\n  swiper.emitContainerClasses();\n}","export default function removeClasses() {\n  const swiper = this;\n  const {\n    $el,\n    classNames\n  } = swiper;\n  $el.removeClass(classNames.join(' '));\n  swiper.emitContainerClasses();\n}","export default {\n  init: true,\n  direction: 'horizontal',\n  touchEventsTarget: 'wrapper',\n  initialSlide: 0,\n  speed: 300,\n  cssMode: false,\n  updateOnWindowResize: true,\n  resizeObserver: true,\n  nested: false,\n  createElements: false,\n  enabled: true,\n  focusableElements: 'input, select, option, textarea, button, video, label',\n  // Overrides\n  width: null,\n  height: null,\n  //\n  preventInteractionOnTransition: false,\n  // ssr\n  userAgent: null,\n  url: null,\n  // To support iOS's swipe-to-go-back gesture (when being used in-app).\n  edgeSwipeDetection: false,\n  edgeSwipeThreshold: 20,\n  // Autoheight\n  autoHeight: false,\n  // Set wrapper width\n  setWrapperSize: false,\n  // Virtual Translate\n  virtualTranslate: false,\n  // Effects\n  effect: 'slide',\n  // 'slide' or 'fade' or 'cube' or 'coverflow' or 'flip'\n  // Breakpoints\n  breakpoints: undefined,\n  breakpointsBase: 'window',\n  // Slides grid\n  spaceBetween: 0,\n  slidesPerView: 1,\n  slidesPerGroup: 1,\n  slidesPerGroupSkip: 0,\n  slidesPerGroupAuto: false,\n  centeredSlides: false,\n  centeredSlidesBounds: false,\n  slidesOffsetBefore: 0,\n  // in px\n  slidesOffsetAfter: 0,\n  // in px\n  normalizeSlideIndex: true,\n  centerInsufficientSlides: false,\n  // Disable swiper and hide navigation when container not overflow\n  watchOverflow: true,\n  // Round length\n  roundLengths: false,\n  // Touches\n  touchRatio: 1,\n  touchAngle: 45,\n  simulateTouch: true,\n  shortSwipes: true,\n  longSwipes: true,\n  longSwipesRatio: 0.5,\n  longSwipesMs: 300,\n  followFinger: true,\n  allowTouchMove: true,\n  threshold: 0,\n  touchMoveStopPropagation: false,\n  touchStartPreventDefault: true,\n  touchStartForcePreventDefault: false,\n  touchReleaseOnEdges: false,\n  // Unique Navigation Elements\n  uniqueNavElements: true,\n  // Resistance\n  resistance: true,\n  resistanceRatio: 0.85,\n  // Progress\n  watchSlidesProgress: false,\n  // Cursor\n  grabCursor: false,\n  // Clicks\n  preventClicks: true,\n  preventClicksPropagation: true,\n  slideToClickedSlide: false,\n  // Images\n  preloadImages: true,\n  updateOnImagesReady: true,\n  // loop\n  loop: false,\n  loopAdditionalSlides: 0,\n  loopedSlides: null,\n  loopedSlidesLimit: true,\n  loopFillGroupWithBlank: false,\n  loopPreventsSlide: true,\n  // rewind\n  rewind: false,\n  // Swiping/no swiping\n  allowSlidePrev: true,\n  allowSlideNext: true,\n  swipeHandler: null,\n  // '.swipe-handler',\n  noSwiping: true,\n  noSwipingClass: 'swiper-no-swiping',\n  noSwipingSelector: null,\n  // Passive Listeners\n  passiveListeners: true,\n  maxBackfaceHiddenSlides: 10,\n  // NS\n  containerModifierClass: 'swiper-',\n  // NEW\n  slideClass: 'swiper-slide',\n  slideBlankClass: 'swiper-slide-invisible-blank',\n  slideActiveClass: 'swiper-slide-active',\n  slideDuplicateActiveClass: 'swiper-slide-duplicate-active',\n  slideVisibleClass: 'swiper-slide-visible',\n  slideDuplicateClass: 'swiper-slide-duplicate',\n  slideNextClass: 'swiper-slide-next',\n  slideDuplicateNextClass: 'swiper-slide-duplicate-next',\n  slidePrevClass: 'swiper-slide-prev',\n  slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',\n  wrapperClass: 'swiper-wrapper',\n  // Callbacks\n  runCallbacksOnInit: true,\n  // Internals\n  _emitClasses: false\n};","import { extend } from '../shared/utils.js';\nexport default function moduleExtendParams(params, allModulesParams) {\n  return function extendParams(obj) {\n    if (obj === void 0) {\n      obj = {};\n    }\n\n    const moduleParamName = Object.keys(obj)[0];\n    const moduleParams = obj[moduleParamName];\n\n    if (typeof moduleParams !== 'object' || moduleParams === null) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (['navigation', 'pagination', 'scrollbar'].indexOf(moduleParamName) >= 0 && params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        auto: true\n      };\n    }\n\n    if (!(moduleParamName in params && 'enabled' in moduleParams)) {\n      extend(allModulesParams, obj);\n      return;\n    }\n\n    if (params[moduleParamName] === true) {\n      params[moduleParamName] = {\n        enabled: true\n      };\n    }\n\n    if (typeof params[moduleParamName] === 'object' && !('enabled' in params[moduleParamName])) {\n      params[moduleParamName].enabled = true;\n    }\n\n    if (!params[moduleParamName]) params[moduleParamName] = {\n      enabled: false\n    };\n    extend(allModulesParams, obj);\n  };\n}","/* eslint no-param-reassign: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport $ from '../shared/dom.js';\nimport { extend, now, deleteProps } from '../shared/utils.js';\nimport { getSupport } from '../shared/get-support.js';\nimport { getDevice } from '../shared/get-device.js';\nimport { getBrowser } from '../shared/get-browser.js';\nimport Resize from './modules/resize/resize.js';\nimport Observer from './modules/observer/observer.js';\nimport eventsEmitter from './events-emitter.js';\nimport update from './update/index.js';\nimport translate from './translate/index.js';\nimport transition from './transition/index.js';\nimport slide from './slide/index.js';\nimport loop from './loop/index.js';\nimport grabCursor from './grab-cursor/index.js';\nimport events from './events/index.js';\nimport breakpoints from './breakpoints/index.js';\nimport classes from './classes/index.js';\nimport images from './images/index.js';\nimport checkOverflow from './check-overflow/index.js';\nimport defaults from './defaults.js';\nimport moduleExtendParams from './moduleExtendParams.js';\nconst prototypes = {\n  eventsEmitter,\n  update,\n  translate,\n  transition,\n  slide,\n  loop,\n  grabCursor,\n  events,\n  breakpoints,\n  checkOverflow,\n  classes,\n  images\n};\nconst extendedDefaults = {};\n\nclass Swiper {\n  constructor() {\n    let el;\n    let params;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    if (args.length === 1 && args[0].constructor && Object.prototype.toString.call(args[0]).slice(8, -1) === 'Object') {\n      params = args[0];\n    } else {\n      [el, params] = args;\n    }\n\n    if (!params) params = {};\n    params = extend({}, params);\n    if (el && !params.el) params.el = el;\n\n    if (params.el && $(params.el).length > 1) {\n      const swipers = [];\n      $(params.el).each(containerEl => {\n        const newParams = extend({}, params, {\n          el: containerEl\n        });\n        swipers.push(new Swiper(newParams));\n      });\n      return swipers;\n    } // Swiper Instance\n\n\n    const swiper = this;\n    swiper.__swiper__ = true;\n    swiper.support = getSupport();\n    swiper.device = getDevice({\n      userAgent: params.userAgent\n    });\n    swiper.browser = getBrowser();\n    swiper.eventsListeners = {};\n    swiper.eventsAnyListeners = [];\n    swiper.modules = [...swiper.__modules__];\n\n    if (params.modules && Array.isArray(params.modules)) {\n      swiper.modules.push(...params.modules);\n    }\n\n    const allModulesParams = {};\n    swiper.modules.forEach(mod => {\n      mod({\n        swiper,\n        extendParams: moduleExtendParams(params, allModulesParams),\n        on: swiper.on.bind(swiper),\n        once: swiper.once.bind(swiper),\n        off: swiper.off.bind(swiper),\n        emit: swiper.emit.bind(swiper)\n      });\n    }); // Extend defaults with modules params\n\n    const swiperParams = extend({}, defaults, allModulesParams); // Extend defaults with passed params\n\n    swiper.params = extend({}, swiperParams, extendedDefaults, params);\n    swiper.originalParams = extend({}, swiper.params);\n    swiper.passedParams = extend({}, params); // add event listeners\n\n    if (swiper.params && swiper.params.on) {\n      Object.keys(swiper.params.on).forEach(eventName => {\n        swiper.on(eventName, swiper.params.on[eventName]);\n      });\n    }\n\n    if (swiper.params && swiper.params.onAny) {\n      swiper.onAny(swiper.params.onAny);\n    } // Save Dom lib\n\n\n    swiper.$ = $; // Extend Swiper\n\n    Object.assign(swiper, {\n      enabled: swiper.params.enabled,\n      el,\n      // Classes\n      classNames: [],\n      // Slides\n      slides: $(),\n      slidesGrid: [],\n      snapGrid: [],\n      slidesSizesGrid: [],\n\n      // isDirection\n      isHorizontal() {\n        return swiper.params.direction === 'horizontal';\n      },\n\n      isVertical() {\n        return swiper.params.direction === 'vertical';\n      },\n\n      // Indexes\n      activeIndex: 0,\n      realIndex: 0,\n      //\n      isBeginning: true,\n      isEnd: false,\n      // Props\n      translate: 0,\n      previousTranslate: 0,\n      progress: 0,\n      velocity: 0,\n      animating: false,\n      // Locks\n      allowSlideNext: swiper.params.allowSlideNext,\n      allowSlidePrev: swiper.params.allowSlidePrev,\n      // Touch Events\n      touchEvents: function touchEvents() {\n        const touch = ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n        const desktop = ['pointerdown', 'pointermove', 'pointerup'];\n        swiper.touchEventsTouch = {\n          start: touch[0],\n          move: touch[1],\n          end: touch[2],\n          cancel: touch[3]\n        };\n        swiper.touchEventsDesktop = {\n          start: desktop[0],\n          move: desktop[1],\n          end: desktop[2]\n        };\n        return swiper.support.touch || !swiper.params.simulateTouch ? swiper.touchEventsTouch : swiper.touchEventsDesktop;\n      }(),\n      touchEventsData: {\n        isTouched: undefined,\n        isMoved: undefined,\n        allowTouchCallbacks: undefined,\n        touchStartTime: undefined,\n        isScrolling: undefined,\n        currentTranslate: undefined,\n        startTranslate: undefined,\n        allowThresholdMove: undefined,\n        // Form elements to match\n        focusableElements: swiper.params.focusableElements,\n        // Last click time\n        lastClickTime: now(),\n        clickTimeout: undefined,\n        // Velocities\n        velocities: [],\n        allowMomentumBounce: undefined,\n        isTouchEvent: undefined,\n        startMoving: undefined\n      },\n      // Clicks\n      allowClick: true,\n      // Touches\n      allowTouchMove: swiper.params.allowTouchMove,\n      touches: {\n        startX: 0,\n        startY: 0,\n        currentX: 0,\n        currentY: 0,\n        diff: 0\n      },\n      // Images\n      imagesToLoad: [],\n      imagesLoaded: 0\n    });\n    swiper.emit('_swiper'); // Init\n\n    if (swiper.params.init) {\n      swiper.init();\n    } // Return app instance\n\n\n    return swiper;\n  }\n\n  enable() {\n    const swiper = this;\n    if (swiper.enabled) return;\n    swiper.enabled = true;\n\n    if (swiper.params.grabCursor) {\n      swiper.setGrabCursor();\n    }\n\n    swiper.emit('enable');\n  }\n\n  disable() {\n    const swiper = this;\n    if (!swiper.enabled) return;\n    swiper.enabled = false;\n\n    if (swiper.params.grabCursor) {\n      swiper.unsetGrabCursor();\n    }\n\n    swiper.emit('disable');\n  }\n\n  setProgress(progress, speed) {\n    const swiper = this;\n    progress = Math.min(Math.max(progress, 0), 1);\n    const min = swiper.minTranslate();\n    const max = swiper.maxTranslate();\n    const current = (max - min) * progress + min;\n    swiper.translateTo(current, typeof speed === 'undefined' ? 0 : speed);\n    swiper.updateActiveIndex();\n    swiper.updateSlidesClasses();\n  }\n\n  emitContainerClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const cls = swiper.el.className.split(' ').filter(className => {\n      return className.indexOf('swiper') === 0 || className.indexOf(swiper.params.containerModifierClass) === 0;\n    });\n    swiper.emit('_containerClasses', cls.join(' '));\n  }\n\n  getSlideClasses(slideEl) {\n    const swiper = this;\n    if (swiper.destroyed) return '';\n    return slideEl.className.split(' ').filter(className => {\n      return className.indexOf('swiper-slide') === 0 || className.indexOf(swiper.params.slideClass) === 0;\n    }).join(' ');\n  }\n\n  emitSlidesClasses() {\n    const swiper = this;\n    if (!swiper.params._emitClasses || !swiper.el) return;\n    const updates = [];\n    swiper.slides.each(slideEl => {\n      const classNames = swiper.getSlideClasses(slideEl);\n      updates.push({\n        slideEl,\n        classNames\n      });\n      swiper.emit('_slideClass', slideEl, classNames);\n    });\n    swiper.emit('_slideClasses', updates);\n  }\n\n  slidesPerViewDynamic(view, exact) {\n    if (view === void 0) {\n      view = 'current';\n    }\n\n    if (exact === void 0) {\n      exact = false;\n    }\n\n    const swiper = this;\n    const {\n      params,\n      slides,\n      slidesGrid,\n      slidesSizesGrid,\n      size: swiperSize,\n      activeIndex\n    } = swiper;\n    let spv = 1;\n\n    if (params.centeredSlides) {\n      let slideSize = slides[activeIndex].swiperSlideSize;\n      let breakLoop;\n\n      for (let i = activeIndex + 1; i < slides.length; i += 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n\n      for (let i = activeIndex - 1; i >= 0; i -= 1) {\n        if (slides[i] && !breakLoop) {\n          slideSize += slides[i].swiperSlideSize;\n          spv += 1;\n          if (slideSize > swiperSize) breakLoop = true;\n        }\n      }\n    } else {\n      // eslint-disable-next-line\n      if (view === 'current') {\n        for (let i = activeIndex + 1; i < slides.length; i += 1) {\n          const slideInView = exact ? slidesGrid[i] + slidesSizesGrid[i] - slidesGrid[activeIndex] < swiperSize : slidesGrid[i] - slidesGrid[activeIndex] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      } else {\n        // previous\n        for (let i = activeIndex - 1; i >= 0; i -= 1) {\n          const slideInView = slidesGrid[activeIndex] - slidesGrid[i] < swiperSize;\n\n          if (slideInView) {\n            spv += 1;\n          }\n        }\n      }\n    }\n\n    return spv;\n  }\n\n  update() {\n    const swiper = this;\n    if (!swiper || swiper.destroyed) return;\n    const {\n      snapGrid,\n      params\n    } = swiper; // Breakpoints\n\n    if (params.breakpoints) {\n      swiper.setBreakpoint();\n    }\n\n    swiper.updateSize();\n    swiper.updateSlides();\n    swiper.updateProgress();\n    swiper.updateSlidesClasses();\n\n    function setTranslate() {\n      const translateValue = swiper.rtlTranslate ? swiper.translate * -1 : swiper.translate;\n      const newTranslate = Math.min(Math.max(translateValue, swiper.maxTranslate()), swiper.minTranslate());\n      swiper.setTranslate(newTranslate);\n      swiper.updateActiveIndex();\n      swiper.updateSlidesClasses();\n    }\n\n    let translated;\n\n    if (swiper.params.freeMode && swiper.params.freeMode.enabled) {\n      setTranslate();\n\n      if (swiper.params.autoHeight) {\n        swiper.updateAutoHeight();\n      }\n    } else {\n      if ((swiper.params.slidesPerView === 'auto' || swiper.params.slidesPerView > 1) && swiper.isEnd && !swiper.params.centeredSlides) {\n        translated = swiper.slideTo(swiper.slides.length - 1, 0, false, true);\n      } else {\n        translated = swiper.slideTo(swiper.activeIndex, 0, false, true);\n      }\n\n      if (!translated) {\n        setTranslate();\n      }\n    }\n\n    if (params.watchOverflow && snapGrid !== swiper.snapGrid) {\n      swiper.checkOverflow();\n    }\n\n    swiper.emit('update');\n  }\n\n  changeDirection(newDirection, needUpdate) {\n    if (needUpdate === void 0) {\n      needUpdate = true;\n    }\n\n    const swiper = this;\n    const currentDirection = swiper.params.direction;\n\n    if (!newDirection) {\n      // eslint-disable-next-line\n      newDirection = currentDirection === 'horizontal' ? 'vertical' : 'horizontal';\n    }\n\n    if (newDirection === currentDirection || newDirection !== 'horizontal' && newDirection !== 'vertical') {\n      return swiper;\n    }\n\n    swiper.$el.removeClass(`${swiper.params.containerModifierClass}${currentDirection}`).addClass(`${swiper.params.containerModifierClass}${newDirection}`);\n    swiper.emitContainerClasses();\n    swiper.params.direction = newDirection;\n    swiper.slides.each(slideEl => {\n      if (newDirection === 'vertical') {\n        slideEl.style.width = '';\n      } else {\n        slideEl.style.height = '';\n      }\n    });\n    swiper.emit('changeDirection');\n    if (needUpdate) swiper.update();\n    return swiper;\n  }\n\n  changeLanguageDirection(direction) {\n    const swiper = this;\n    if (swiper.rtl && direction === 'rtl' || !swiper.rtl && direction === 'ltr') return;\n    swiper.rtl = direction === 'rtl';\n    swiper.rtlTranslate = swiper.params.direction === 'horizontal' && swiper.rtl;\n\n    if (swiper.rtl) {\n      swiper.$el.addClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'rtl';\n    } else {\n      swiper.$el.removeClass(`${swiper.params.containerModifierClass}rtl`);\n      swiper.el.dir = 'ltr';\n    }\n\n    swiper.update();\n  }\n\n  mount(el) {\n    const swiper = this;\n    if (swiper.mounted) return true; // Find el\n\n    const $el = $(el || swiper.params.el);\n    el = $el[0];\n\n    if (!el) {\n      return false;\n    }\n\n    el.swiper = swiper;\n\n    const getWrapperSelector = () => {\n      return `.${(swiper.params.wrapperClass || '').trim().split(' ').join('.')}`;\n    };\n\n    const getWrapper = () => {\n      if (el && el.shadowRoot && el.shadowRoot.querySelector) {\n        const res = $(el.shadowRoot.querySelector(getWrapperSelector())); // Children needs to return slot items\n\n        res.children = options => $el.children(options);\n\n        return res;\n      }\n\n      if (!$el.children) {\n        return $($el).children(getWrapperSelector());\n      }\n\n      return $el.children(getWrapperSelector());\n    }; // Find Wrapper\n\n\n    let $wrapperEl = getWrapper();\n\n    if ($wrapperEl.length === 0 && swiper.params.createElements) {\n      const document = getDocument();\n      const wrapper = document.createElement('div');\n      $wrapperEl = $(wrapper);\n      wrapper.className = swiper.params.wrapperClass;\n      $el.append(wrapper);\n      $el.children(`.${swiper.params.slideClass}`).each(slideEl => {\n        $wrapperEl.append(slideEl);\n      });\n    }\n\n    Object.assign(swiper, {\n      $el,\n      el,\n      $wrapperEl,\n      wrapperEl: $wrapperEl[0],\n      mounted: true,\n      // RTL\n      rtl: el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl',\n      rtlTranslate: swiper.params.direction === 'horizontal' && (el.dir.toLowerCase() === 'rtl' || $el.css('direction') === 'rtl'),\n      wrongRTL: $wrapperEl.css('display') === '-webkit-box'\n    });\n    return true;\n  }\n\n  init(el) {\n    const swiper = this;\n    if (swiper.initialized) return swiper;\n    const mounted = swiper.mount(el);\n    if (mounted === false) return swiper;\n    swiper.emit('beforeInit'); // Set breakpoint\n\n    if (swiper.params.breakpoints) {\n      swiper.setBreakpoint();\n    } // Add Classes\n\n\n    swiper.addClasses(); // Create loop\n\n    if (swiper.params.loop) {\n      swiper.loopCreate();\n    } // Update size\n\n\n    swiper.updateSize(); // Update slides\n\n    swiper.updateSlides();\n\n    if (swiper.params.watchOverflow) {\n      swiper.checkOverflow();\n    } // Set Grab Cursor\n\n\n    if (swiper.params.grabCursor && swiper.enabled) {\n      swiper.setGrabCursor();\n    }\n\n    if (swiper.params.preloadImages) {\n      swiper.preloadImages();\n    } // Slide To Initial Slide\n\n\n    if (swiper.params.loop) {\n      swiper.slideTo(swiper.params.initialSlide + swiper.loopedSlides, 0, swiper.params.runCallbacksOnInit, false, true);\n    } else {\n      swiper.slideTo(swiper.params.initialSlide, 0, swiper.params.runCallbacksOnInit, false, true);\n    } // Attach events\n\n\n    swiper.attachEvents(); // Init Flag\n\n    swiper.initialized = true; // Emit\n\n    swiper.emit('init');\n    swiper.emit('afterInit');\n    return swiper;\n  }\n\n  destroy(deleteInstance, cleanStyles) {\n    if (deleteInstance === void 0) {\n      deleteInstance = true;\n    }\n\n    if (cleanStyles === void 0) {\n      cleanStyles = true;\n    }\n\n    const swiper = this;\n    const {\n      params,\n      $el,\n      $wrapperEl,\n      slides\n    } = swiper;\n\n    if (typeof swiper.params === 'undefined' || swiper.destroyed) {\n      return null;\n    }\n\n    swiper.emit('beforeDestroy'); // Init Flag\n\n    swiper.initialized = false; // Detach events\n\n    swiper.detachEvents(); // Destroy loop\n\n    if (params.loop) {\n      swiper.loopDestroy();\n    } // Cleanup styles\n\n\n    if (cleanStyles) {\n      swiper.removeClasses();\n      $el.removeAttr('style');\n      $wrapperEl.removeAttr('style');\n\n      if (slides && slides.length) {\n        slides.removeClass([params.slideVisibleClass, params.slideActiveClass, params.slideNextClass, params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-slide-index');\n      }\n    }\n\n    swiper.emit('destroy'); // Detach emitter events\n\n    Object.keys(swiper.eventsListeners).forEach(eventName => {\n      swiper.off(eventName);\n    });\n\n    if (deleteInstance !== false) {\n      swiper.$el[0].swiper = null;\n      deleteProps(swiper);\n    }\n\n    swiper.destroyed = true;\n    return null;\n  }\n\n  static extendDefaults(newDefaults) {\n    extend(extendedDefaults, newDefaults);\n  }\n\n  static get extendedDefaults() {\n    return extendedDefaults;\n  }\n\n  static get defaults() {\n    return defaults;\n  }\n\n  static installModule(mod) {\n    if (!Swiper.prototype.__modules__) Swiper.prototype.__modules__ = [];\n    const modules = Swiper.prototype.__modules__;\n\n    if (typeof mod === 'function' && modules.indexOf(mod) < 0) {\n      modules.push(mod);\n    }\n  }\n\n  static use(module) {\n    if (Array.isArray(module)) {\n      module.forEach(m => Swiper.installModule(m));\n      return Swiper;\n    }\n\n    Swiper.installModule(module);\n    return Swiper;\n  }\n\n}\n\nObject.keys(prototypes).forEach(prototypeGroup => {\n  Object.keys(prototypes[prototypeGroup]).forEach(protoMethod => {\n    Swiper.prototype[protoMethod] = prototypes[prototypeGroup][protoMethod];\n  });\n});\nSwiper.use([Resize, Observer]);\nexport default Swiper;","import getTranslate from './getTranslate.js';\nimport setTranslate from './setTranslate.js';\nimport minTranslate from './minTranslate.js';\nimport maxTranslate from './maxTranslate.js';\nimport translateTo from './translateTo.js';\nexport default {\n  getTranslate,\n  setTranslate,\n  minTranslate,\n  maxTranslate,\n  translateTo\n};","import { getTranslate } from '../../shared/utils.js';\nexport default function getSwiperTranslate(axis) {\n  if (axis === void 0) {\n    axis = this.isHorizontal() ? 'x' : 'y';\n  }\n\n  const swiper = this;\n  const {\n    params,\n    rtlTranslate: rtl,\n    translate,\n    $wrapperEl\n  } = swiper;\n\n  if (params.virtualTranslate) {\n    return rtl ? -translate : translate;\n  }\n\n  if (params.cssMode) {\n    return translate;\n  }\n\n  let currentTranslate = getTranslate($wrapperEl[0], axis);\n  if (rtl) currentTranslate = -currentTranslate;\n  return currentTranslate || 0;\n}","export default function setTranslate(translate, byController) {\n  const swiper = this;\n  const {\n    rtlTranslate: rtl,\n    params,\n    $wrapperEl,\n    wrapperEl,\n    progress\n  } = swiper;\n  let x = 0;\n  let y = 0;\n  const z = 0;\n\n  if (swiper.isHorizontal()) {\n    x = rtl ? -translate : translate;\n  } else {\n    y = translate;\n  }\n\n  if (params.roundLengths) {\n    x = Math.floor(x);\n    y = Math.floor(y);\n  }\n\n  if (params.cssMode) {\n    wrapperEl[swiper.isHorizontal() ? 'scrollLeft' : 'scrollTop'] = swiper.isHorizontal() ? -x : -y;\n  } else if (!params.virtualTranslate) {\n    $wrapperEl.transform(`translate3d(${x}px, ${y}px, ${z}px)`);\n  }\n\n  swiper.previousTranslate = swiper.translate;\n  swiper.translate = swiper.isHorizontal() ? x : y; // Check if we need to update progress\n\n  let newProgress;\n  const translatesDiff = swiper.maxTranslate() - swiper.minTranslate();\n\n  if (translatesDiff === 0) {\n    newProgress = 0;\n  } else {\n    newProgress = (translate - swiper.minTranslate()) / translatesDiff;\n  }\n\n  if (newProgress !== progress) {\n    swiper.updateProgress(translate);\n  }\n\n  swiper.emit('setTranslate', swiper.translate, byController);\n}","export default function minTranslate() {\n  return -this.snapGrid[0];\n}","export default function maxTranslate() {\n  return -this.snapGrid[this.snapGrid.length - 1];\n}","import { animateCSSModeScroll } from '../../shared/utils.js';\nexport default function translateTo(translate, speed, runCallbacks, translateBounds, internal) {\n  if (translate === void 0) {\n    translate = 0;\n  }\n\n  if (speed === void 0) {\n    speed = this.params.speed;\n  }\n\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  if (translateBounds === void 0) {\n    translateBounds = true;\n  }\n\n  const swiper = this;\n  const {\n    params,\n    wrapperEl\n  } = swiper;\n\n  if (swiper.animating && params.preventInteractionOnTransition) {\n    return false;\n  }\n\n  const minTranslate = swiper.minTranslate();\n  const maxTranslate = swiper.maxTranslate();\n  let newTranslate;\n  if (translateBounds && translate > minTranslate) newTranslate = minTranslate;else if (translateBounds && translate < maxTranslate) newTranslate = maxTranslate;else newTranslate = translate; // Update progress\n\n  swiper.updateProgress(newTranslate);\n\n  if (params.cssMode) {\n    const isH = swiper.isHorizontal();\n\n    if (speed === 0) {\n      wrapperEl[isH ? 'scrollLeft' : 'scrollTop'] = -newTranslate;\n    } else {\n      if (!swiper.support.smoothScroll) {\n        animateCSSModeScroll({\n          swiper,\n          targetPosition: -newTranslate,\n          side: isH ? 'left' : 'top'\n        });\n        return true;\n      }\n\n      wrapperEl.scrollTo({\n        [isH ? 'left' : 'top']: -newTranslate,\n        behavior: 'smooth'\n      });\n    }\n\n    return true;\n  }\n\n  if (speed === 0) {\n    swiper.setTransition(0);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionEnd');\n    }\n  } else {\n    swiper.setTransition(speed);\n    swiper.setTranslate(newTranslate);\n\n    if (runCallbacks) {\n      swiper.emit('beforeTransitionStart', speed, internal);\n      swiper.emit('transitionStart');\n    }\n\n    if (!swiper.animating) {\n      swiper.animating = true;\n\n      if (!swiper.onTranslateToWrapperTransitionEnd) {\n        swiper.onTranslateToWrapperTransitionEnd = function transitionEnd(e) {\n          if (!swiper || swiper.destroyed) return;\n          if (e.target !== this) return;\n          swiper.$wrapperEl[0].removeEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.$wrapperEl[0].removeEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n          swiper.onTranslateToWrapperTransitionEnd = null;\n          delete swiper.onTranslateToWrapperTransitionEnd;\n\n          if (runCallbacks) {\n            swiper.emit('transitionEnd');\n          }\n        };\n      }\n\n      swiper.$wrapperEl[0].addEventListener('transitionend', swiper.onTranslateToWrapperTransitionEnd);\n      swiper.$wrapperEl[0].addEventListener('webkitTransitionEnd', swiper.onTranslateToWrapperTransitionEnd);\n    }\n  }\n\n  return true;\n}","import setTransition from './setTransition.js';\nimport transitionStart from './transitionStart.js';\nimport transitionEnd from './transitionEnd.js';\nexport default {\n  setTransition,\n  transitionStart,\n  transitionEnd\n};","export default function setTransition(duration, byController) {\n  const swiper = this;\n\n  if (!swiper.params.cssMode) {\n    swiper.$wrapperEl.transition(duration);\n  }\n\n  swiper.emit('setTransition', duration, byController);\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionStart(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  if (params.cssMode) return;\n\n  if (params.autoHeight) {\n    swiper.updateAutoHeight();\n  }\n\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'Start'\n  });\n}","import transitionEmit from './transitionEmit.js';\nexport default function transitionEnd(runCallbacks, direction) {\n  if (runCallbacks === void 0) {\n    runCallbacks = true;\n  }\n\n  const swiper = this;\n  const {\n    params\n  } = swiper;\n  swiper.animating = false;\n  if (params.cssMode) return;\n  swiper.setTransition(0);\n  transitionEmit({\n    swiper,\n    runCallbacks,\n    direction,\n    step: 'End'\n  });\n}","import loopCreate from './loopCreate.js';\nimport loopFix from './loopFix.js';\nimport loopDestroy from './loopDestroy.js';\nexport default {\n  loopCreate,\n  loopFix,\n  loopDestroy\n};","import { getDocument } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loopCreate() {\n  const swiper = this;\n  const document = getDocument();\n  const {\n    params,\n    $wrapperEl\n  } = swiper; // Remove duplicated slides\n\n  const $selector = $wrapperEl.children().length > 0 ? $($wrapperEl.children()[0].parentNode) : $wrapperEl;\n  $selector.children(`.${params.slideClass}.${params.slideDuplicateClass}`).remove();\n  let slides = $selector.children(`.${params.slideClass}`);\n\n  if (params.loopFillGroupWithBlank) {\n    const blankSlidesNum = params.slidesPerGroup - slides.length % params.slidesPerGroup;\n\n    if (blankSlidesNum !== params.slidesPerGroup) {\n      for (let i = 0; i < blankSlidesNum; i += 1) {\n        const blankNode = $(document.createElement('div')).addClass(`${params.slideClass} ${params.slideBlankClass}`);\n        $selector.append(blankNode);\n      }\n\n      slides = $selector.children(`.${params.slideClass}`);\n    }\n  }\n\n  if (params.slidesPerView === 'auto' && !params.loopedSlides) params.loopedSlides = slides.length;\n  swiper.loopedSlides = Math.ceil(parseFloat(params.loopedSlides || params.slidesPerView, 10));\n  swiper.loopedSlides += params.loopAdditionalSlides;\n\n  if (swiper.loopedSlides > slides.length && swiper.params.loopedSlidesLimit) {\n    swiper.loopedSlides = slides.length;\n  }\n\n  const prependSlides = [];\n  const appendSlides = [];\n  slides.each((el, index) => {\n    $(el).attr('data-swiper-slide-index', index);\n  });\n\n  for (let i = 0; i < swiper.loopedSlides; i += 1) {\n    const index = i - Math.floor(i / slides.length) * slides.length;\n    appendSlides.push(slides.eq(index)[0]);\n    prependSlides.unshift(slides.eq(slides.length - index - 1)[0]);\n  }\n\n  for (let i = 0; i < appendSlides.length; i += 1) {\n    $selector.append($(appendSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n\n  for (let i = prependSlides.length - 1; i >= 0; i -= 1) {\n    $selector.prepend($(prependSlides[i].cloneNode(true)).addClass(params.slideDuplicateClass));\n  }\n}","export default function loopFix() {\n  const swiper = this;\n  swiper.emit('beforeLoopFix');\n  const {\n    activeIndex,\n    slides,\n    loopedSlides,\n    allowSlidePrev,\n    allowSlideNext,\n    snapGrid,\n    rtlTranslate: rtl\n  } = swiper;\n  let newIndex;\n  swiper.allowSlidePrev = true;\n  swiper.allowSlideNext = true;\n  const snapTranslate = -snapGrid[activeIndex];\n  const diff = snapTranslate - swiper.getTranslate(); // Fix For Negative Oversliding\n\n  if (activeIndex < loopedSlides) {\n    newIndex = slides.length - loopedSlides * 3 + activeIndex;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  } else if (activeIndex >= slides.length - loopedSlides) {\n    // Fix For Positive Oversliding\n    newIndex = -slides.length + activeIndex + loopedSlides;\n    newIndex += loopedSlides;\n    const slideChanged = swiper.slideTo(newIndex, 0, false, true);\n\n    if (slideChanged && diff !== 0) {\n      swiper.setTranslate((rtl ? -swiper.translate : swiper.translate) - diff);\n    }\n  }\n\n  swiper.allowSlidePrev = allowSlidePrev;\n  swiper.allowSlideNext = allowSlideNext;\n  swiper.emit('loopFix');\n}","export default function loopDestroy() {\n  const swiper = this;\n  const {\n    $wrapperEl,\n    params,\n    slides\n  } = swiper;\n  $wrapperEl.children(`.${params.slideClass}.${params.slideDuplicateClass},.${params.slideClass}.${params.slideBlankClass}`).remove();\n  slides.removeAttr('data-swiper-slide-index');\n}","import setGrabCursor from './setGrabCursor.js';\nimport unsetGrabCursor from './unsetGrabCursor.js';\nexport default {\n  setGrabCursor,\n  unsetGrabCursor\n};","export default function setGrabCursor(moving) {\n  const swiper = this;\n  if (swiper.support.touch || !swiper.params.simulateTouch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) return;\n  const el = swiper.params.touchEventsTarget === 'container' ? swiper.el : swiper.wrapperEl;\n  el.style.cursor = 'move';\n  el.style.cursor = moving ? 'grabbing' : 'grab';\n}","export default function unsetGrabCursor() {\n  const swiper = this;\n\n  if (swiper.support.touch || swiper.params.watchOverflow && swiper.isLocked || swiper.params.cssMode) {\n    return;\n  }\n\n  swiper[swiper.params.touchEventsTarget === 'container' ? 'el' : 'wrapperEl'].style.cursor = '';\n}","import { getWindow } from 'ssr-window';\nexport default function getBreakpoint(breakpoints, base, containerEl) {\n  if (base === void 0) {\n    base = 'window';\n  }\n\n  if (!breakpoints || base === 'container' && !containerEl) return undefined;\n  let breakpoint = false;\n  const window = getWindow();\n  const currentHeight = base === 'window' ? window.innerHeight : containerEl.clientHeight;\n  const points = Object.keys(breakpoints).map(point => {\n    if (typeof point === 'string' && point.indexOf('@') === 0) {\n      const minRatio = parseFloat(point.substr(1));\n      const value = currentHeight * minRatio;\n      return {\n        value,\n        point\n      };\n    }\n\n    return {\n      value: point,\n      point\n    };\n  });\n  points.sort((a, b) => parseInt(a.value, 10) - parseInt(b.value, 10));\n\n  for (let i = 0; i < points.length; i += 1) {\n    const {\n      point,\n      value\n    } = points[i];\n\n    if (base === 'window') {\n      if (window.matchMedia(`(min-width: ${value}px)`).matches) {\n        breakpoint = point;\n      }\n    } else if (value <= containerEl.clientWidth) {\n      breakpoint = point;\n    }\n  }\n\n  return breakpoint || 'max';\n}","function checkOverflow() {\n  const swiper = this;\n  const {\n    isLocked: wasLocked,\n    params\n  } = swiper;\n  const {\n    slidesOffsetBefore\n  } = params;\n\n  if (slidesOffsetBefore) {\n    const lastSlideIndex = swiper.slides.length - 1;\n    const lastSlideRightEdge = swiper.slidesGrid[lastSlideIndex] + swiper.slidesSizesGrid[lastSlideIndex] + slidesOffsetBefore * 2;\n    swiper.isLocked = swiper.size > lastSlideRightEdge;\n  } else {\n    swiper.isLocked = swiper.snapGrid.length === 1;\n  }\n\n  if (params.allowSlideNext === true) {\n    swiper.allowSlideNext = !swiper.isLocked;\n  }\n\n  if (params.allowSlidePrev === true) {\n    swiper.allowSlidePrev = !swiper.isLocked;\n  }\n\n  if (wasLocked && wasLocked !== swiper.isLocked) {\n    swiper.isEnd = false;\n  }\n\n  if (wasLocked !== swiper.isLocked) {\n    swiper.emit(swiper.isLocked ? 'lock' : 'unlock');\n  }\n}\n\nexport default {\n  checkOverflow\n};","import loadImage from './loadImage.js';\nimport preloadImages from './preloadImages.js';\nexport default {\n  loadImage,\n  preloadImages\n};","import { getWindow } from 'ssr-window';\nimport $ from '../../shared/dom.js';\nexport default function loadImage(imageEl, src, srcset, sizes, checkForComplete, callback) {\n  const window = getWindow();\n  let image;\n\n  function onReady() {\n    if (callback) callback();\n  }\n\n  const isPicture = $(imageEl).parent('picture')[0];\n\n  if (!isPicture && (!imageEl.complete || !checkForComplete)) {\n    if (src) {\n      image = new window.Image();\n      image.onload = onReady;\n      image.onerror = onReady;\n\n      if (sizes) {\n        image.sizes = sizes;\n      }\n\n      if (srcset) {\n        image.srcset = srcset;\n      }\n\n      if (src) {\n        image.src = src;\n      }\n    } else {\n      onReady();\n    }\n  } else {\n    // image already loaded...\n    onReady();\n  }\n}","export default function preloadImages() {\n  const swiper = this;\n  swiper.imagesToLoad = swiper.$el.find('img');\n\n  function onReady() {\n    if (typeof swiper === 'undefined' || swiper === null || !swiper || swiper.destroyed) return;\n    if (swiper.imagesLoaded !== undefined) swiper.imagesLoaded += 1;\n\n    if (swiper.imagesLoaded === swiper.imagesToLoad.length) {\n      if (swiper.params.updateOnImagesReady) swiper.update();\n      swiper.emit('imagesReady');\n    }\n  }\n\n  for (let i = 0; i < swiper.imagesToLoad.length; i += 1) {\n    const imageEl = swiper.imagesToLoad[i];\n    swiper.loadImage(imageEl, imageEl.currentSrc || imageEl.getAttribute('src'), imageEl.srcset || imageEl.getAttribute('srcset'), imageEl.sizes || imageEl.getAttribute('sizes'), true, onReady);\n  }\n}","import { getWindow } from 'ssr-window';\nexport default function Resize(_ref) {\n  let {\n    swiper,\n    on,\n    emit\n  } = _ref;\n  const window = getWindow();\n  let observer = null;\n  let animationFrame = null;\n\n  const resizeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('beforeResize');\n    emit('resize');\n  };\n\n  const createObserver = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    observer = new ResizeObserver(entries => {\n      animationFrame = window.requestAnimationFrame(() => {\n        const {\n          width,\n          height\n        } = swiper;\n        let newWidth = width;\n        let newHeight = height;\n        entries.forEach(_ref2 => {\n          let {\n            contentBoxSize,\n            contentRect,\n            target\n          } = _ref2;\n          if (target && target !== swiper.el) return;\n          newWidth = contentRect ? contentRect.width : (contentBoxSize[0] || contentBoxSize).inlineSize;\n          newHeight = contentRect ? contentRect.height : (contentBoxSize[0] || contentBoxSize).blockSize;\n        });\n\n        if (newWidth !== width || newHeight !== height) {\n          resizeHandler();\n        }\n      });\n    });\n    observer.observe(swiper.el);\n  };\n\n  const removeObserver = () => {\n    if (animationFrame) {\n      window.cancelAnimationFrame(animationFrame);\n    }\n\n    if (observer && observer.unobserve && swiper.el) {\n      observer.unobserve(swiper.el);\n      observer = null;\n    }\n  };\n\n  const orientationChangeHandler = () => {\n    if (!swiper || swiper.destroyed || !swiper.initialized) return;\n    emit('orientationchange');\n  };\n\n  on('init', () => {\n    if (swiper.params.resizeObserver && typeof window.ResizeObserver !== 'undefined') {\n      createObserver();\n      return;\n    }\n\n    window.addEventListener('resize', resizeHandler);\n    window.addEventListener('orientationchange', orientationChangeHandler);\n  });\n  on('destroy', () => {\n    removeObserver();\n    window.removeEventListener('resize', resizeHandler);\n    window.removeEventListener('orientationchange', orientationChangeHandler);\n  });\n}","import { getWindow } from 'ssr-window';\nexport default function Observer(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const observers = [];\n  const window = getWindow();\n\n  const attach = function (target, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    const ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;\n    const observer = new ObserverFunc(mutations => {\n      // The observerUpdate event should only be triggered\n      // once despite the number of mutations.  Additional\n      // triggers are redundant and are very costly\n      if (mutations.length === 1) {\n        emit('observerUpdate', mutations[0]);\n        return;\n      }\n\n      const observerUpdate = function observerUpdate() {\n        emit('observerUpdate', mutations[0]);\n      };\n\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(observerUpdate);\n      } else {\n        window.setTimeout(observerUpdate, 0);\n      }\n    });\n    observer.observe(target, {\n      attributes: typeof options.attributes === 'undefined' ? true : options.attributes,\n      childList: typeof options.childList === 'undefined' ? true : options.childList,\n      characterData: typeof options.characterData === 'undefined' ? true : options.characterData\n    });\n    observers.push(observer);\n  };\n\n  const init = () => {\n    if (!swiper.params.observer) return;\n\n    if (swiper.params.observeParents) {\n      const containerParents = swiper.$el.parents();\n\n      for (let i = 0; i < containerParents.length; i += 1) {\n        attach(containerParents[i]);\n      }\n    } // Observe container\n\n\n    attach(swiper.$el[0], {\n      childList: swiper.params.observeSlideChildren\n    }); // Observe wrapper\n\n    attach(swiper.$wrapperEl[0], {\n      attributes: false\n    });\n  };\n\n  const destroy = () => {\n    observers.forEach(observer => {\n      observer.disconnect();\n    });\n    observers.splice(0, observers.length);\n  };\n\n  extendParams({\n    observer: false,\n    observeParents: false,\n    observeSlideChildren: false\n  });\n  on('init', init);\n  on('destroy', destroy);\n}","import { getDocument } from 'ssr-window';\nexport default function createElementIfNotDefined(swiper, originalParams, params, checkProps) {\n  const document = getDocument();\n\n  if (swiper.params.createElements) {\n    Object.keys(checkProps).forEach(key => {\n      if (!params[key] && params.auto === true) {\n        let element = swiper.$el.children(`.${checkProps[key]}`)[0];\n\n        if (!element) {\n          element = document.createElement('div');\n          element.className = checkProps[key];\n          swiper.$el.append(element);\n        }\n\n        params[key] = element;\n        originalParams[key] = element;\n      }\n    });\n  }\n\n  return params;\n}","export default function classesToSelector(classes) {\n  if (classes === void 0) {\n    classes = '';\n  }\n\n  return `.${classes.trim().replace(/([\\.:!\\/])/g, '\\\\$1') // eslint-disable-line\n  .replace(/ /g, '.')}`;\n}","import Swiper, { Navigation, Pagination, Autoplay} from 'swiper';\r\nSwiper.use([Navigation, Pagination, Autoplay]);\r\nimport 'swiper/css';\r\nimport 'swiper/css/navigation';\r\nimport 'swiper/css/pagination';\r\n\r\nexport default class Slider {\r\n    constructor(block) {\r\n        this.block = block;\r\n\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        if(this.block) {\r\n            new Swiper(this.block, {\r\n                slidesPerView: 1,\r\n                loop: true,\r\n                speed: 800,\r\n                spaceBetween: 16,\r\n                autoplay: {\r\n                  delay: 5000,\r\n                  disableOnInteraction: false,\r\n                },\r\n                pagination: {\r\n                  el: \".swiper-pagination\",\r\n                    clickable: true,\r\n                },\r\n                breakpoints: {\r\n                    991: {\r\n                        enabled: false,\r\n                    },\r\n                }\r\n            })\r\n        }\r\n    }\r\n}","import createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nimport $ from '../../shared/dom.js';\nexport default function Navigation(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  extendParams({\n    navigation: {\n      nextEl: null,\n      prevEl: null,\n      hideOnClick: false,\n      disabledClass: 'swiper-button-disabled',\n      hiddenClass: 'swiper-button-hidden',\n      lockClass: 'swiper-button-lock',\n      navigationDisabledClass: 'swiper-navigation-disabled'\n    }\n  });\n  swiper.navigation = {\n    nextEl: null,\n    $nextEl: null,\n    prevEl: null,\n    $prevEl: null\n  };\n\n  function getEl(el) {\n    let $el;\n\n    if (el) {\n      $el = $(el);\n\n      if (swiper.params.uniqueNavElements && typeof el === 'string' && $el.length > 1 && swiper.$el.find(el).length === 1) {\n        $el = swiper.$el.find(el);\n      }\n    }\n\n    return $el;\n  }\n\n  function toggleEl($el, disabled) {\n    const params = swiper.params.navigation;\n\n    if ($el && $el.length > 0) {\n      $el[disabled ? 'addClass' : 'removeClass'](params.disabledClass);\n      if ($el[0] && $el[0].tagName === 'BUTTON') $el[0].disabled = disabled;\n\n      if (swiper.params.watchOverflow && swiper.enabled) {\n        $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n      }\n    }\n  }\n\n  function update() {\n    // Update Navigation Buttons\n    if (swiper.params.loop) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    toggleEl($prevEl, swiper.isBeginning && !swiper.params.rewind);\n    toggleEl($nextEl, swiper.isEnd && !swiper.params.rewind);\n  }\n\n  function onPrevClick(e) {\n    e.preventDefault();\n    if (swiper.isBeginning && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slidePrev();\n    emit('navigationPrev');\n  }\n\n  function onNextClick(e) {\n    e.preventDefault();\n    if (swiper.isEnd && !swiper.params.loop && !swiper.params.rewind) return;\n    swiper.slideNext();\n    emit('navigationNext');\n  }\n\n  function init() {\n    const params = swiper.params.navigation;\n    swiper.params.navigation = createElementIfNotDefined(swiper, swiper.originalParams.navigation, swiper.params.navigation, {\n      nextEl: 'swiper-button-next',\n      prevEl: 'swiper-button-prev'\n    });\n    if (!(params.nextEl || params.prevEl)) return;\n    const $nextEl = getEl(params.nextEl);\n    const $prevEl = getEl(params.prevEl);\n\n    if ($nextEl && $nextEl.length > 0) {\n      $nextEl.on('click', onNextClick);\n    }\n\n    if ($prevEl && $prevEl.length > 0) {\n      $prevEl.on('click', onPrevClick);\n    }\n\n    Object.assign(swiper.navigation, {\n      $nextEl,\n      nextEl: $nextEl && $nextEl[0],\n      $prevEl,\n      prevEl: $prevEl && $prevEl[0]\n    });\n\n    if (!swiper.enabled) {\n      if ($nextEl) $nextEl.addClass(params.lockClass);\n      if ($prevEl) $prevEl.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl && $nextEl.length) {\n      $nextEl.off('click', onNextClick);\n      $nextEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      $prevEl.off('click', onPrevClick);\n      $prevEl.removeClass(swiper.params.navigation.disabledClass);\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.navigation.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      update();\n    }\n  });\n  on('toEdge fromEdge lock unlock', () => {\n    update();\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($nextEl) {\n      $nextEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n\n    if ($prevEl) {\n      $prevEl[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.navigation.lockClass);\n    }\n  });\n  on('click', (_s, e) => {\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n    const targetEl = e.target;\n\n    if (swiper.params.navigation.hideOnClick && !$(targetEl).is($prevEl) && !$(targetEl).is($nextEl)) {\n      if (swiper.pagination && swiper.params.pagination && swiper.params.pagination.clickable && (swiper.pagination.el === targetEl || swiper.pagination.el.contains(targetEl))) return;\n      let isHidden;\n\n      if ($nextEl) {\n        isHidden = $nextEl.hasClass(swiper.params.navigation.hiddenClass);\n      } else if ($prevEl) {\n        isHidden = $prevEl.hasClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if (isHidden === true) {\n        emit('navigationShow');\n      } else {\n        emit('navigationHide');\n      }\n\n      if ($nextEl) {\n        $nextEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n\n      if ($prevEl) {\n        $prevEl.toggleClass(swiper.params.navigation.hiddenClass);\n      }\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.navigation.navigationDisabledClass);\n    init();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.navigation.navigationDisabledClass);\n    destroy();\n  };\n\n  Object.assign(swiper.navigation, {\n    enable,\n    disable,\n    update,\n    init,\n    destroy\n  });\n}","import $ from '../../shared/dom.js';\nimport classesToSelector from '../../shared/classes-to-selector.js';\nimport createElementIfNotDefined from '../../shared/create-element-if-not-defined.js';\nexport default function Pagination(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  const pfx = 'swiper-pagination';\n  extendParams({\n    pagination: {\n      el: null,\n      bulletElement: 'span',\n      clickable: false,\n      hideOnClick: false,\n      renderBullet: null,\n      renderProgressbar: null,\n      renderFraction: null,\n      renderCustom: null,\n      progressbarOpposite: false,\n      type: 'bullets',\n      // 'bullets' or 'progressbar' or 'fraction' or 'custom'\n      dynamicBullets: false,\n      dynamicMainBullets: 1,\n      formatFractionCurrent: number => number,\n      formatFractionTotal: number => number,\n      bulletClass: `${pfx}-bullet`,\n      bulletActiveClass: `${pfx}-bullet-active`,\n      modifierClass: `${pfx}-`,\n      currentClass: `${pfx}-current`,\n      totalClass: `${pfx}-total`,\n      hiddenClass: `${pfx}-hidden`,\n      progressbarFillClass: `${pfx}-progressbar-fill`,\n      progressbarOppositeClass: `${pfx}-progressbar-opposite`,\n      clickableClass: `${pfx}-clickable`,\n      lockClass: `${pfx}-lock`,\n      horizontalClass: `${pfx}-horizontal`,\n      verticalClass: `${pfx}-vertical`,\n      paginationDisabledClass: `${pfx}-disabled`\n    }\n  });\n  swiper.pagination = {\n    el: null,\n    $el: null,\n    bullets: []\n  };\n  let bulletSize;\n  let dynamicBulletIndex = 0;\n\n  function isPaginationDisabled() {\n    return !swiper.params.pagination.el || !swiper.pagination.el || !swiper.pagination.$el || swiper.pagination.$el.length === 0;\n  }\n\n  function setSideBullets($bulletEl, position) {\n    const {\n      bulletActiveClass\n    } = swiper.params.pagination;\n    $bulletEl[position]().addClass(`${bulletActiveClass}-${position}`)[position]().addClass(`${bulletActiveClass}-${position}-${position}`);\n  }\n\n  function update() {\n    // Render || Update Pagination bullets/items\n    const rtl = swiper.rtl;\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el; // Current/Total\n\n    let current;\n    const total = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n    if (swiper.params.loop) {\n      current = Math.ceil((swiper.activeIndex - swiper.loopedSlides) / swiper.params.slidesPerGroup);\n\n      if (current > slidesLength - 1 - swiper.loopedSlides * 2) {\n        current -= slidesLength - swiper.loopedSlides * 2;\n      }\n\n      if (current > total - 1) current -= total;\n      if (current < 0 && swiper.params.paginationType !== 'bullets') current = total + current;\n    } else if (typeof swiper.snapIndex !== 'undefined') {\n      current = swiper.snapIndex;\n    } else {\n      current = swiper.activeIndex || 0;\n    } // Types\n\n\n    if (params.type === 'bullets' && swiper.pagination.bullets && swiper.pagination.bullets.length > 0) {\n      const bullets = swiper.pagination.bullets;\n      let firstIndex;\n      let lastIndex;\n      let midIndex;\n\n      if (params.dynamicBullets) {\n        bulletSize = bullets.eq(0)[swiper.isHorizontal() ? 'outerWidth' : 'outerHeight'](true);\n        $el.css(swiper.isHorizontal() ? 'width' : 'height', `${bulletSize * (params.dynamicMainBullets + 4)}px`);\n\n        if (params.dynamicMainBullets > 1 && swiper.previousIndex !== undefined) {\n          dynamicBulletIndex += current - (swiper.previousIndex - swiper.loopedSlides || 0);\n\n          if (dynamicBulletIndex > params.dynamicMainBullets - 1) {\n            dynamicBulletIndex = params.dynamicMainBullets - 1;\n          } else if (dynamicBulletIndex < 0) {\n            dynamicBulletIndex = 0;\n          }\n        }\n\n        firstIndex = Math.max(current - dynamicBulletIndex, 0);\n        lastIndex = firstIndex + (Math.min(bullets.length, params.dynamicMainBullets) - 1);\n        midIndex = (lastIndex + firstIndex) / 2;\n      }\n\n      bullets.removeClass(['', '-next', '-next-next', '-prev', '-prev-prev', '-main'].map(suffix => `${params.bulletActiveClass}${suffix}`).join(' '));\n\n      if ($el.length > 1) {\n        bullets.each(bullet => {\n          const $bullet = $(bullet);\n          const bulletIndex = $bullet.index();\n\n          if (bulletIndex === current) {\n            $bullet.addClass(params.bulletActiveClass);\n          }\n\n          if (params.dynamicBullets) {\n            if (bulletIndex >= firstIndex && bulletIndex <= lastIndex) {\n              $bullet.addClass(`${params.bulletActiveClass}-main`);\n            }\n\n            if (bulletIndex === firstIndex) {\n              setSideBullets($bullet, 'prev');\n            }\n\n            if (bulletIndex === lastIndex) {\n              setSideBullets($bullet, 'next');\n            }\n          }\n        });\n      } else {\n        const $bullet = bullets.eq(current);\n        const bulletIndex = $bullet.index();\n        $bullet.addClass(params.bulletActiveClass);\n\n        if (params.dynamicBullets) {\n          const $firstDisplayedBullet = bullets.eq(firstIndex);\n          const $lastDisplayedBullet = bullets.eq(lastIndex);\n\n          for (let i = firstIndex; i <= lastIndex; i += 1) {\n            bullets.eq(i).addClass(`${params.bulletActiveClass}-main`);\n          }\n\n          if (swiper.params.loop) {\n            if (bulletIndex >= bullets.length) {\n              for (let i = params.dynamicMainBullets; i >= 0; i -= 1) {\n                bullets.eq(bullets.length - i).addClass(`${params.bulletActiveClass}-main`);\n              }\n\n              bullets.eq(bullets.length - params.dynamicMainBullets - 1).addClass(`${params.bulletActiveClass}-prev`);\n            } else {\n              setSideBullets($firstDisplayedBullet, 'prev');\n              setSideBullets($lastDisplayedBullet, 'next');\n            }\n          } else {\n            setSideBullets($firstDisplayedBullet, 'prev');\n            setSideBullets($lastDisplayedBullet, 'next');\n          }\n        }\n      }\n\n      if (params.dynamicBullets) {\n        const dynamicBulletsLength = Math.min(bullets.length, params.dynamicMainBullets + 4);\n        const bulletsOffset = (bulletSize * dynamicBulletsLength - bulletSize) / 2 - midIndex * bulletSize;\n        const offsetProp = rtl ? 'right' : 'left';\n        bullets.css(swiper.isHorizontal() ? offsetProp : 'top', `${bulletsOffset}px`);\n      }\n    }\n\n    if (params.type === 'fraction') {\n      $el.find(classesToSelector(params.currentClass)).text(params.formatFractionCurrent(current + 1));\n      $el.find(classesToSelector(params.totalClass)).text(params.formatFractionTotal(total));\n    }\n\n    if (params.type === 'progressbar') {\n      let progressbarDirection;\n\n      if (params.progressbarOpposite) {\n        progressbarDirection = swiper.isHorizontal() ? 'vertical' : 'horizontal';\n      } else {\n        progressbarDirection = swiper.isHorizontal() ? 'horizontal' : 'vertical';\n      }\n\n      const scale = (current + 1) / total;\n      let scaleX = 1;\n      let scaleY = 1;\n\n      if (progressbarDirection === 'horizontal') {\n        scaleX = scale;\n      } else {\n        scaleY = scale;\n      }\n\n      $el.find(classesToSelector(params.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${scaleX}) scaleY(${scaleY})`).transition(swiper.params.speed);\n    }\n\n    if (params.type === 'custom' && params.renderCustom) {\n      $el.html(params.renderCustom(swiper, current + 1, total));\n      emit('paginationRender', $el[0]);\n    } else {\n      emit('paginationUpdate', $el[0]);\n    }\n\n    if (swiper.params.watchOverflow && swiper.enabled) {\n      $el[swiper.isLocked ? 'addClass' : 'removeClass'](params.lockClass);\n    }\n  }\n\n  function render() {\n    // Render Container\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const slidesLength = swiper.virtual && swiper.params.virtual.enabled ? swiper.virtual.slides.length : swiper.slides.length;\n    const $el = swiper.pagination.$el;\n    let paginationHTML = '';\n\n    if (params.type === 'bullets') {\n      let numberOfBullets = swiper.params.loop ? Math.ceil((slidesLength - swiper.loopedSlides * 2) / swiper.params.slidesPerGroup) : swiper.snapGrid.length;\n\n      if (swiper.params.freeMode && swiper.params.freeMode.enabled && !swiper.params.loop && numberOfBullets > slidesLength) {\n        numberOfBullets = slidesLength;\n      }\n\n      for (let i = 0; i < numberOfBullets; i += 1) {\n        if (params.renderBullet) {\n          paginationHTML += params.renderBullet.call(swiper, i, params.bulletClass);\n        } else {\n          paginationHTML += `<${params.bulletElement} class=\"${params.bulletClass}\"></${params.bulletElement}>`;\n        }\n      }\n\n      $el.html(paginationHTML);\n      swiper.pagination.bullets = $el.find(classesToSelector(params.bulletClass));\n    }\n\n    if (params.type === 'fraction') {\n      if (params.renderFraction) {\n        paginationHTML = params.renderFraction.call(swiper, params.currentClass, params.totalClass);\n      } else {\n        paginationHTML = `<span class=\"${params.currentClass}\"></span>` + ' / ' + `<span class=\"${params.totalClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type === 'progressbar') {\n      if (params.renderProgressbar) {\n        paginationHTML = params.renderProgressbar.call(swiper, params.progressbarFillClass);\n      } else {\n        paginationHTML = `<span class=\"${params.progressbarFillClass}\"></span>`;\n      }\n\n      $el.html(paginationHTML);\n    }\n\n    if (params.type !== 'custom') {\n      emit('paginationRender', swiper.pagination.$el[0]);\n    }\n  }\n\n  function init() {\n    swiper.params.pagination = createElementIfNotDefined(swiper, swiper.originalParams.pagination, swiper.params.pagination, {\n      el: 'swiper-pagination'\n    });\n    const params = swiper.params.pagination;\n    if (!params.el) return;\n    let $el = $(params.el);\n    if ($el.length === 0) return;\n\n    if (swiper.params.uniqueNavElements && typeof params.el === 'string' && $el.length > 1) {\n      $el = swiper.$el.find(params.el); // check if it belongs to another nested Swiper\n\n      if ($el.length > 1) {\n        $el = $el.filter(el => {\n          if ($(el).parents('.swiper')[0] !== swiper.el) return false;\n          return true;\n        });\n      }\n    }\n\n    if (params.type === 'bullets' && params.clickable) {\n      $el.addClass(params.clickableClass);\n    }\n\n    $el.addClass(params.modifierClass + params.type);\n    $el.addClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n\n    if (params.type === 'bullets' && params.dynamicBullets) {\n      $el.addClass(`${params.modifierClass}${params.type}-dynamic`);\n      dynamicBulletIndex = 0;\n\n      if (params.dynamicMainBullets < 1) {\n        params.dynamicMainBullets = 1;\n      }\n    }\n\n    if (params.type === 'progressbar' && params.progressbarOpposite) {\n      $el.addClass(params.progressbarOppositeClass);\n    }\n\n    if (params.clickable) {\n      $el.on('click', classesToSelector(params.bulletClass), function onClick(e) {\n        e.preventDefault();\n        let index = $(this).index() * swiper.params.slidesPerGroup;\n        if (swiper.params.loop) index += swiper.loopedSlides;\n        swiper.slideTo(index);\n      });\n    }\n\n    Object.assign(swiper.pagination, {\n      $el,\n      el: $el[0]\n    });\n\n    if (!swiper.enabled) {\n      $el.addClass(params.lockClass);\n    }\n  }\n\n  function destroy() {\n    const params = swiper.params.pagination;\n    if (isPaginationDisabled()) return;\n    const $el = swiper.pagination.$el;\n    $el.removeClass(params.hiddenClass);\n    $el.removeClass(params.modifierClass + params.type);\n    $el.removeClass(swiper.isHorizontal() ? params.horizontalClass : params.verticalClass);\n    if (swiper.pagination.bullets && swiper.pagination.bullets.removeClass) swiper.pagination.bullets.removeClass(params.bulletActiveClass);\n\n    if (params.clickable) {\n      $el.off('click', classesToSelector(params.bulletClass));\n    }\n  }\n\n  on('init', () => {\n    if (swiper.params.pagination.enabled === false) {\n      // eslint-disable-next-line\n      disable();\n    } else {\n      init();\n      render();\n      update();\n    }\n  });\n  on('activeIndexChange', () => {\n    if (swiper.params.loop) {\n      update();\n    } else if (typeof swiper.snapIndex === 'undefined') {\n      update();\n    }\n  });\n  on('snapIndexChange', () => {\n    if (!swiper.params.loop) {\n      update();\n    }\n  });\n  on('slidesLengthChange', () => {\n    if (swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('snapGridLengthChange', () => {\n    if (!swiper.params.loop) {\n      render();\n      update();\n    }\n  });\n  on('destroy', () => {\n    destroy();\n  });\n  on('enable disable', () => {\n    const {\n      $el\n    } = swiper.pagination;\n\n    if ($el) {\n      $el[swiper.enabled ? 'removeClass' : 'addClass'](swiper.params.pagination.lockClass);\n    }\n  });\n  on('lock unlock', () => {\n    update();\n  });\n  on('click', (_s, e) => {\n    const targetEl = e.target;\n    const {\n      $el\n    } = swiper.pagination;\n\n    if (swiper.params.pagination.el && swiper.params.pagination.hideOnClick && $el && $el.length > 0 && !$(targetEl).hasClass(swiper.params.pagination.bulletClass)) {\n      if (swiper.navigation && (swiper.navigation.nextEl && targetEl === swiper.navigation.nextEl || swiper.navigation.prevEl && targetEl === swiper.navigation.prevEl)) return;\n      const isHidden = $el.hasClass(swiper.params.pagination.hiddenClass);\n\n      if (isHidden === true) {\n        emit('paginationShow');\n      } else {\n        emit('paginationHide');\n      }\n\n      $el.toggleClass(swiper.params.pagination.hiddenClass);\n    }\n  });\n\n  const enable = () => {\n    swiper.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.removeClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    init();\n    render();\n    update();\n  };\n\n  const disable = () => {\n    swiper.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n\n    if (swiper.pagination.$el) {\n      swiper.pagination.$el.addClass(swiper.params.pagination.paginationDisabledClass);\n    }\n\n    destroy();\n  };\n\n  Object.assign(swiper.pagination, {\n    enable,\n    disable,\n    render,\n    update,\n    init,\n    destroy\n  });\n}","/* eslint no-underscore-dangle: \"off\" */\n\n/* eslint no-use-before-define: \"off\" */\nimport { getDocument } from 'ssr-window';\nimport { nextTick } from '../../shared/utils.js';\nexport default function Autoplay(_ref) {\n  let {\n    swiper,\n    extendParams,\n    on,\n    emit\n  } = _ref;\n  let timeout;\n  swiper.autoplay = {\n    running: false,\n    paused: false\n  };\n  extendParams({\n    autoplay: {\n      enabled: false,\n      delay: 3000,\n      waitForTransition: true,\n      disableOnInteraction: true,\n      stopOnLastSlide: false,\n      reverseDirection: false,\n      pauseOnMouseEnter: false\n    }\n  });\n\n  function run() {\n    if (!swiper.size) {\n      swiper.autoplay.running = false;\n      swiper.autoplay.paused = false;\n      return;\n    }\n\n    const $activeSlideEl = swiper.slides.eq(swiper.activeIndex);\n    let delay = swiper.params.autoplay.delay;\n\n    if ($activeSlideEl.attr('data-swiper-autoplay')) {\n      delay = $activeSlideEl.attr('data-swiper-autoplay') || swiper.params.autoplay.delay;\n    }\n\n    clearTimeout(timeout);\n    timeout = nextTick(() => {\n      let autoplayResult;\n\n      if (swiper.params.autoplay.reverseDirection) {\n        if (swiper.params.loop) {\n          swiper.loopFix();\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.isBeginning) {\n          autoplayResult = swiper.slidePrev(swiper.params.speed, true, true);\n          emit('autoplay');\n        } else if (!swiper.params.autoplay.stopOnLastSlide) {\n          autoplayResult = swiper.slideTo(swiper.slides.length - 1, swiper.params.speed, true, true);\n          emit('autoplay');\n        } else {\n          stop();\n        }\n      } else if (swiper.params.loop) {\n        swiper.loopFix();\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.isEnd) {\n        autoplayResult = swiper.slideNext(swiper.params.speed, true, true);\n        emit('autoplay');\n      } else if (!swiper.params.autoplay.stopOnLastSlide) {\n        autoplayResult = swiper.slideTo(0, swiper.params.speed, true, true);\n        emit('autoplay');\n      } else {\n        stop();\n      }\n\n      if (swiper.params.cssMode && swiper.autoplay.running) run();else if (autoplayResult === false) {\n        run();\n      }\n    }, delay);\n  }\n\n  function start() {\n    if (typeof timeout !== 'undefined') return false;\n    if (swiper.autoplay.running) return false;\n    swiper.autoplay.running = true;\n    emit('autoplayStart');\n    run();\n    return true;\n  }\n\n  function stop() {\n    if (!swiper.autoplay.running) return false;\n    if (typeof timeout === 'undefined') return false;\n\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    swiper.autoplay.running = false;\n    emit('autoplayStop');\n    return true;\n  }\n\n  function pause(speed) {\n    if (!swiper.autoplay.running) return;\n    if (swiper.autoplay.paused) return;\n    if (timeout) clearTimeout(timeout);\n    swiper.autoplay.paused = true;\n\n    if (speed === 0 || !swiper.params.autoplay.waitForTransition) {\n      swiper.autoplay.paused = false;\n      run();\n    } else {\n      ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n        swiper.$wrapperEl[0].addEventListener(event, onTransitionEnd);\n      });\n    }\n  }\n\n  function onVisibilityChange() {\n    const document = getDocument();\n\n    if (document.visibilityState === 'hidden' && swiper.autoplay.running) {\n      pause();\n    }\n\n    if (document.visibilityState === 'visible' && swiper.autoplay.paused) {\n      run();\n      swiper.autoplay.paused = false;\n    }\n  }\n\n  function onTransitionEnd(e) {\n    if (!swiper || swiper.destroyed || !swiper.$wrapperEl) return;\n    if (e.target !== swiper.$wrapperEl[0]) return;\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n    swiper.autoplay.paused = false;\n\n    if (!swiper.autoplay.running) {\n      stop();\n    } else {\n      run();\n    }\n  }\n\n  function onMouseEnter() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      stop();\n    } else {\n      emit('autoplayPause');\n      pause();\n    }\n\n    ['transitionend', 'webkitTransitionEnd'].forEach(event => {\n      swiper.$wrapperEl[0].removeEventListener(event, onTransitionEnd);\n    });\n  }\n\n  function onMouseLeave() {\n    if (swiper.params.autoplay.disableOnInteraction) {\n      return;\n    }\n\n    swiper.autoplay.paused = false;\n    emit('autoplayResume');\n    run();\n  }\n\n  function attachMouseEvents() {\n    if (swiper.params.autoplay.pauseOnMouseEnter) {\n      swiper.$el.on('mouseenter', onMouseEnter);\n      swiper.$el.on('mouseleave', onMouseLeave);\n    }\n  }\n\n  function detachMouseEvents() {\n    swiper.$el.off('mouseenter', onMouseEnter);\n    swiper.$el.off('mouseleave', onMouseLeave);\n  }\n\n  on('init', () => {\n    if (swiper.params.autoplay.enabled) {\n      start();\n      const document = getDocument();\n      document.addEventListener('visibilitychange', onVisibilityChange);\n      attachMouseEvents();\n    }\n  });\n  on('beforeTransitionStart', (_s, speed, internal) => {\n    if (swiper.autoplay.running) {\n      if (internal || !swiper.params.autoplay.disableOnInteraction) {\n        swiper.autoplay.pause(speed);\n      } else {\n        stop();\n      }\n    }\n  });\n  on('sliderFirstMove', () => {\n    if (swiper.autoplay.running) {\n      if (swiper.params.autoplay.disableOnInteraction) {\n        stop();\n      } else {\n        pause();\n      }\n    }\n  });\n  on('touchEnd', () => {\n    if (swiper.params.cssMode && swiper.autoplay.paused && !swiper.params.autoplay.disableOnInteraction) {\n      run();\n    }\n  });\n  on('destroy', () => {\n    detachMouseEvents();\n\n    if (swiper.autoplay.running) {\n      stop();\n    }\n\n    const document = getDocument();\n    document.removeEventListener('visibilitychange', onVisibilityChange);\n  });\n  Object.assign(swiper.autoplay, {\n    pause,\n    run,\n    start,\n    stop\n  });\n}","import './styles/index.scss';\r\nimport Maps from './scripts/maps';\r\nimport ValidateForm from \"./scripts/validateForm\";\r\nimport Menu from  \"./scripts/menu\";\r\nimport Slider from \"./scripts/slider\";\r\n\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    [...document.querySelectorAll('.map')].forEach((elem) => new Maps(elem));\r\n    [...document.querySelectorAll('.form')].forEach((elem) => new ValidateForm(elem));\r\n    [...document.querySelectorAll('.header')].forEach((elem) => new Menu(elem));\r\n    [...document.querySelectorAll('.swiper')].forEach((elem) => new Slider(elem));\r\n})"],"names":["Object","getPrototypeOf","__proto__","object","constructor","prototype","window","eval","CALLBACK_NAME","optionsKeys","promise","module","exports","options","Promise","resolve","reject","timeoutId","setTimeout","Error","timeout","clearTimeout","google","maps","scriptElement","document","createElement","params","forEach","key","push","libraries","length","join","src","apiUrl","body","appendChild","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","g","globalThis","this","Function","e","scriptUrl","importScripts","location","currentScript","scripts","getElementsByTagName","replace","p","loadGoogleMapsApi","require","Maps","block","pos","lat","lng","mapStyle","init","createMap","then","googleMaps","myMap","Map","center","zoom","styles","createMarker","catch","error","console","Marker","position","map","icon","img","__defProp","defineProperty","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__publicField","EMAIL_REGEXP","NUMBER_REGEXP","PASSWORD_REGEXP","STRONG_PASSWORD_REGEXP","Rules","Rules2","GroupRules","GroupRules2","CustomStyleTagIds","CustomStyleTagIds2","isPromise","val","getClassList","classList","Array","isArray","filter","cls","trim","split","defaultGlobalConfig","errorFieldStyle","color","border","errorFieldCssClass","successFieldCssClass","errorLabelStyle","errorLabelCssClass","successLabelCssClass","focusInvalidField","lockForm","testingMode","form","globalConfig","dictLocale","tooltips","item","refresh","lastScrollPosition","scrollY","isScrollTick","requestAnimationFrame","refreshAllTooltips","ev","preventDefault","isSubmitted","validateHandler","target","currentFieldName","fieldName","fields","elem","validateField","currentGroup","currentGroupName","groupName","groupFields","group","elems","find","validateGroup","handleFieldChange","handleGroupChange","renderErrors","initialize","errors","isValid","errorLabels","successLabels","eventListeners","customStyleTags","querySelector","setForm","HTMLFormElement","isTooltip","styleTag","textContent","Label","head","addListener","handleDocumentScroll","getLocalisedString","str","_a","currentLocale","dict","getFieldErrorMessage","fieldRule","msg","errorMessage","getElemValue","rule","ruleValue","Required","Email","MaxLength","String","MinLength","Password","Number","StrongPassword","MaxNumber","MinNumber","MinFilesCount","MaxFilesCount","Files","getDefaultFieldMessage","getFieldSuccessMessage","successMessage","getGroupErrorMessage","groupRule","getGroupSuccessMessage","setFieldInvalid","field","setFieldValid","setGroupInvalid","setGroupValid","type","checked","files","validateGroupRule","every","validateFieldRule","afterInputChanged","elemValue","plugin","newVal","isEmpty","test","len","isLengthMoreThanMax","isLengthLessThanMin","isPassword","isStrongPassword","isNumber","num","isNaN","isNumberMoreThanMax","isNumberLessThanMin","CustomRegexp","regexp","RegExp","isFinite","filesConfig","isFilePropsInvalid","file","fileConfig","minSizeInvalid","minSize","size","maxSizeInvalid","maxSize","nameInvalid","names","includes","name","extInvalid","extensions","typeInvalid","types","fileIdx","validator","result","asyncCheckPending","resp","promises","rules","reverse","res","config","allSettled","revalidateField","finally","clearFieldStyle","clearFieldLabel","renderFieldError","focus","afterSubmitValidation","forceRevalidation","validate","keys","revalidate","_b","unlockForm","onSuccessCallback","onFailCallback","setAttribute","removeListener","formSubmitHandler","handler","addEventListener","func","removeEventListener","addField","values","setListeners","removeField","getListenerType","handlerChange","clearErrors","removeGroup","addRequiredGroup","groupField","inputs","querySelectorAll","childrenInputs","from","input","parent","groups","parents","reversedParents","i","groupElem","getClosestParent","el","els","unshift","parentNode","getNodeParents","elem2","isDirty","remove","_c","_d","errorStyle","style","successStyle","successFieldStyle","_a2","tooltip","disabled","pointerEvents","webkitFilter","getAttribute","removeAttribute","renderTooltip","errorLabel","top","left","width","height","getBoundingClientRect","errorLabelRect","dataset","direction","createErrorLabelElem","innerHTML","customErrorLabelStyle","assign","add","testId","createSuccessLabelElem","successLabel","customSuccessLabelStyle","successLabelStyle","renderErrorsContainer","label","errorsContainer","container","Element","renderGroupLabel","isSuccess","renderFieldLabel","_e","_f","_g","labelElem","parentElement","tagName","toLowerCase","showLabels","isError","showErrors","showSuccessLabels","message","_b2","destroy","event","setCurrentLocale","locale","onSuccess","callback","onFail","getLocator","tst","align","locator","alternation","mloc","getDecisionTaker","decisionTaker","toString","getPlaceholder","returnPL","inputmask","opts","maskset","getTest","match","placeholder","static","validPositions","prevTest","tests","getTests","staticAlternations","def","optionality","optionalQuantifier","fn","charAt","getMaskTemplate","baseOnInput","minimalPos","includeMode","noJit","clearOptionalTail","greedy","ndxIntlzr","testPos","jitRenderStatic","maskTemplate","generatedInput","skipOptionalPartCharacter","determineTestTemplate","slice","nativeDef","getTestTemplate","jitMasking","jit","groupSeparator","maxLength","pop","maskLength","tstPs","tstLocator","closest","bestMatch","targetLocator","ndx","distance","Math","abs","newBlockMarker","latestMatch","$","dependencyLib","maskTokens","maskToken","ndxInitializer","matches","insertStop","cacheDependency","resolveTestFromToken","loopNdx","quantifierRecurse","handleMatch","isFirstMatch","tokenGroup","firstMatch","indexOf","isQuantifier","resolveNdxInitializer","alternateNdx","targetAlternation","indexPos","lmnt","ndxPos","bestMatchAltIndex","isSubsetOf","source","expand","pattern","end","expanded","start","l","charCodeAt","fromCharCode","regex","setMergeLocators","targetMatch","altMatch","alternationNdx","shouldMerge","locNdx","isSameLevel","_maxTestPos","mask","isGroup","isOptional","optionalToken","mtchsNdx","mtch","isAlternator","maltMatches","alternateToken","malternateMatches","currentMatches","loopNdxCnt","altIndex","shift","amndx","currentPos","ndxInitializerClone","altIndexArr","excludes","altIndexArrClone","exl","excludeSet","splice","keepStatic","parseInt","unMatchedAlternation","concat","ndx1","dropMatch","ndx2","altMatch2","userOptions","qt","qndx","quantifier","max","min","jitOffset","tndx","previousPos","mergeLocators","cd","mtndx","casing","extend","ua","navigator","userAgent","ie","mobile","iemobile","iphone","applyInputValue","refreshValue","onBeforeMask","checkVal","undoValue","getBuffer","clearMaskOnLostFocus","clearIncomplete","_valueGet","getBufferTemplate","getLastValidPosition","_valueSet","buffer","template","writeOut","strict","nptvl","initiatingEvent","inputValue","charCodes","initialNdx","resetMaskSet","radixPoint","determineNewCaretPosition","begin","caretPos","staticMatches","prevCaretPos","charCode","isMask","keypress","Event","which","lvp","targetTemplate","seekNext","charCodeNdx","nextPos","isTemplateMatch","EventHandlers","keypressEvent","isRTL","forwardPosition","writeBuffer","sndx","validPos","nextValid","isComplete","nextSndx","HandleNativePlaceholder","npt","nptValue","unmaskedvalue","umValue","vps","pndx","metadata","unmaskedValue","onUnMask","bufferValue","triggerEvents","onBeforeWrite","refreshFromBuffer","caret","keyCode","$input","nptVal","skipInputEvent","trigger","keydownEvent","k","kdResult","onKeyDown","ctrlKey","handleRemove","shiftKey","undoOnEscape","altKey","tabThrough","seekPrevious","insertModeVisual","insertMode","translatePosition","ignorable","ignorables","checkval","metaKey","c","writeOutBuffer","valResult","numericInput","onKeyValidation","keyupEvent","isComposing","$el","pasteEvent","tempValue","valueBeforeCaret","substr","valueAfterCaret","clipboardData","getData","pasteValue","onBeforePaste","inputFallBackEvent","inputChar","iv","ieMobileHandler","changes","bl","frontPart","backPart","frontBufferPart","backBufferPart","fpl","bpl","action","data","marker","newBuffer","oldBuffer","analyseChanges","shadowRoot","activeElement","entry","keydown","compositionendEvent","setValueEvent","detail","arguments","focusEvent","showMaskOnFocus","positionCaretOnTab","mouseEnter","clickEvent","apply","invalidEvent","validationEvent","mouseleaveEvent","originalPlaceholder","tabbed","newCaretPosition","cutEvent","clipData","setData","execCommand","blurEvent","mouseenterEvent","showMaskOnHover","submitEvent","removeMaskOnSubmit","resetEvent","alternate","maskPos","fromIsValid","rAltPos","selection","lastAlt","altPos","prevAltPos","decisionPos","validPsClone","tstClone","isValidRslt","returnRslt","lAltPos","validInputs","resultPos","toUpperCase","posBefore","args","checkAlternationMatch","altArr1","altArr2","na","naNdx","altArrC","isMatch","naArr","alndx","pend","offset","revalidateMask","newPos","repeat","complete","lrp","determineLastRequiredPosition","aml","fromAlternate","validateOnly","fromCheckval","isSelection","posObj","processCommandObject","commandObj","sort","insert","rewritePosition","_isValid","rslt","validatedPos","positionsClone","preValidation","currentPosValid","skip","nPos","snPos","trackbackPositions","postValidation","postResult","positionCanMatchDefinition","testDefinition","valid","shiftPositions","bffr","originalPos","fillOnly","ps","np","cvpInput","validTest","IsEnclosedStatic","valids","posMatch","prevMatch","nextMatch","t","canMatch","j","notranslate","isDelete","range","selectionStart","selectionEnd","getSelection","getRangeAt","commonAncestorContainer","startOffset","endOffset","createRange","duplicate","moveStart","text","scrollCalc","ownerDocument","defaultView","getComputedStyle","currentStyle","fontSize","scrollLeft","scrollWidth","setSelectionRange","firstChild","textNode","createTextNode","setStart","setEnd","collapse","sel","removeAllRanges","addRange","createTextRange","moveEnd","select","returnDefinition","positions","lvTest","lvTestAlt","selectedCaret","positionCaretOnClick","clickPos","digits","radixPos","vp","doRadixFocus","clickPosition","lvclickPosition","lastPosition","tt","noCache","_buffer","closestTo","before","after","posNdx","psNdx","fuzzy","testTemplate","testPlaceHolder","soft","newBlock","EventRuler","eventName","eventHandler","originalEvent","that","nodeName","imOpts","off","readOnly","inputType","skipKeyPressEvent","blur","returnVal","stopPropagation","events","on","bind","evArr","isSupported","elementType","supportsInputType","isContentEditable","valueGet","valueSet","getter","autoUnmask","nullable","setter","__valueGet","noValuePatching","getOwnPropertyDescriptor","valueProperty","get","set","__lookupGetter__","__lookupSetter__","__defineGetter__","__defineSetter__","__valueSet","overruleRTL","valHooks","inputmaskpatch","valhookGet","valhookSet","patchValhook","installNativeValueSetFallback","patchValueProperty","isElementTypeSupported","inputMode","inputmode","autocomplete","oncomplete","onincomplete","oncleared","inputEventOnly","copy","copyIsArray","clone","deep","isValidElement","bubbles","cancelable","evt","createEvent","initCustomEvent","DependencyLib","eventRegistry","_events","endx","nsEvent","namespace","attachEvent","removeEvent","detachEvent","nmsp","resolveNamespace","hndx","hndL","evts","evNdx","offEvents","offEventsL","evnt","CustomEvent","dispatchEvent","createEventObject","eventType","fireEvent","owner","__data","generateMaskSet","nocache","generateMask","masksetDefinition","maskdefKey","regexMask","repeatStart","groupmarker","quantifiermarker","Inputmask","masksCache","analyseMask","altMask","msk","alternatormarker","dataKey","alias","internal","defaults","noMasksCache","definitions","resolveAlias","aliasStr","aliasDefinition","aliases","dataAttribute","optionalmarker","escapeChar","pastedValue","rightAlign","_radixDance","staticDefinitionSymbol","importDataAttributes","usePrototypeDefinitions","definitionSymbol","getElementById","scopedOpts","importOption","option","optionData","attrOption","dataoptions","attrOptions","JSON","parse","dir","textAlign","importAttributeOptions","noremask","valueBuffer","cv","getemptymask","hasMaskedValue","getmetadata","maskTarget","mtdt","rl","lmib","format","formattedValue","setValue","tokenizer","regexTokenizer","m","openingToken","currentOpeningToken","alternator","lastMatch","escaped","currentToken","MaskToken","openenings","closeRegexGroup","openGroup","alternatorGroup","insertTestDefinition","mtoken","element","maskdef","generated","defaultCase","mndx","groupify","groupToken","closeGroup","groupQuantifier","exec","altRegexGroup","mqj","mq","mq0","mq1","tmpMatch","subToken","verifyGroupMarker","token","nextToken","reverseTokens","intMatch","st","extendDefaults","extendDefinitions","definition","extendAliases","unmask","ValidateForm","telBlock","addTelMask","JustValidate","phone","Boolean","submitForm","alert","reset","fetch","method","FormData","response","json","log","Menu","menuBurger","addClassToElements","setListener","toggle","ssrDocument","initEvent","children","childNodes","createElementNS","importNode","hash","host","hostname","href","origin","pathname","protocol","search","doc","ssrWindow","history","replaceState","pushState","go","back","getPropertyValue","Image","Date","screen","matchMedia","cancelAnimationFrame","id","win","Dom7","items","super","proto","makeReactive","arrayFlat","arr","arrayFilter","selector","context","html","toCreate","tempParent","qsa","nodeType","uniqueArray","arrayUnique","noTrigger","shortcut","Methods","addClass","classes","classNames","removeClass","hasClass","className","contains","toggleClass","attr","attrs","attrName","removeAttr","transform","transition","duration","transitionDuration","targetSelector","listener","capture","handleLiveEvent","eventData","dom7EventData","is","handleEvent","dom7LiveListeners","proxyListener","dom7Listeners","handlers","dom7proxy","dataIndex","transitionEnd","dom","fireCallBack","outerWidth","includeMargins","offsetWidth","parseFloat","outerHeight","offsetHeight","box","clientTop","clientLeft","scrollTop","scrollX","css","props","each","index","compareWith","webkitMatchesSelector","msMatchesSelector","child","previousSibling","eq","returnIndex","append","newChild","tempDiv","prepend","insertBefore","next","nextElementSibling","nextAll","nextEls","prev","previousElementSibling","prevAll","prevEls","foundElements","found","removeChild","methodName","delay","now","o","isNode","node","HTMLElement","to","noExtend","nextSource","keysArray","nextIndex","nextKey","desc","__swiper__","varName","varValue","setProperty","animateCSSModeScroll","_ref","swiper","targetPosition","side","startPosition","translate","time","startTime","speed","wrapperEl","scrollSnapType","cssModeFrameID","isOutOfBound","current","animate","getTime","progress","easeProgress","cos","PI","currentPosition","scrollTo","overflow","support","deviceCached","browser","getSupport","smoothScroll","documentElement","touch","DocumentTouch","passiveListener","supportsPassive","gestures","calcSupport","priority","self","eventsListeners","destroyed","once","onceHandler","__emitterProxy","_len","_key","onAny","eventsAnyListeners","offAny","emit","_len2","_key2","updateSize","clientWidth","clientHeight","isHorizontal","isVertical","updateSlides","getDirectionLabel","property","getDirectionPropertyValue","$wrapperEl","swiperSize","rtlTranslate","rtl","wrongRTL","isVirtual","virtual","enabled","previousSlidesLength","slides","slideClass","slidesLength","snapGrid","slidesGrid","slidesSizesGrid","offsetBefore","slidesOffsetBefore","offsetAfter","slidesOffsetAfter","previousSnapGridLength","previousSlidesGridLength","spaceBetween","slidePosition","prevSlideSize","virtualSize","marginLeft","marginBottom","marginTop","marginRight","centeredSlides","cssMode","gridEnabled","grid","rows","slideSize","initSlides","shouldResetSlideSize","slidesPerView","breakpoints","slide","updateSlide","slideStyles","currentTransform","currentWebKitTransform","webkitTransform","roundLengths","paddingLeft","paddingRight","boxSizing","floor","swiperSlideSize","slidesPerGroup","slidesPerGroupSkip","effect","setWrapperSize","updateWrapperSize","newSlidesGrid","slidesGridItem","_","slideIndex","centeredSlidesBounds","allSlidesSize","slideSizeValue","maxSnap","snap","centerInsufficientSlides","allSlidesOffset","snapIndex","addToSnapGrid","addToSlidesGrid","v","watchOverflow","checkOverflow","watchSlidesProgress","updateSlidesOffset","backFaceHiddenClass","containerModifierClass","hasClassBackfaceClassAdded","maxBackfaceHiddenSlides","updateAutoHeight","activeSlides","newHeight","setTransition","getSlideByIndex","visibleSlides","ceil","activeIndex","swiperSlideOffset","offsetLeft","offsetTop","updateSlidesProgress","offsetCenter","slideVisibleClass","visibleSlidesIndexes","slideOffset","slideProgress","minTranslate","originalSlideProgress","slideBefore","slideAfter","originalProgress","updateProgress","multiplier","translatesDiff","maxTranslate","isBeginning","isEnd","wasBeginning","wasEnd","autoHeight","updateSlidesClasses","realIndex","activeSlide","slideActiveClass","slideNextClass","slidePrevClass","slideDuplicateActiveClass","slideDuplicateNextClass","slideDuplicatePrevClass","loop","slideDuplicateClass","nextSlide","prevSlide","emitSlidesClasses","updateActiveIndex","newActiveIndex","previousIndex","previousRealIndex","previousSnapIndex","normalizeSlideIndex","initialized","runCallbacksOnInit","updateClickedSlide","slideFound","clickedSlide","clickedIndex","slideToClickedSlide","transitionEmit","runCallbacks","step","slideTo","initial","indexAsNumber","animating","preventInteractionOnTransition","initialSlide","normalizedTranslate","normalizedGrid","normalizedGridNext","allowSlideNext","allowSlidePrev","setTranslate","transitionStart","isH","_immediateVirtual","_swiperImmediateVirtual","behavior","onSlideToWrapperTransitionEnd","slideToLoop","newIndex","loopedSlides","slideNext","perGroup","slidesPerGroupAuto","slidesPerViewDynamic","increment","loopPreventsSlide","loopFix","_clientLeft","rewind","slidePrev","normalize","normalizedSnapGrid","prevSnap","prevSnapIndex","prevIndex","lastIndex","slideReset","slideToClosest","threshold","currentSnap","slideToIndex","onTouchStart","touchEventsData","touches","$targetEl","touchEventsTarget","isTouchEvent","button","isTouched","isMoved","noSwipingClass","path","noSwipingSelector","isTargetShadow","noSwiping","base","__closestFrom","assignedSlot","getRootNode","closestElement","allowClick","swipeHandler","currentX","targetTouches","pageX","currentY","pageY","startX","startY","edgeSwipeDetection","iOSEdgeSwipeDetection","edgeSwipeThreshold","iOSEdgeSwipeThreshold","innerWidth","allowTouchCallbacks","isScrolling","startMoving","touchStartTime","swipeDirection","allowThresholdMove","focusableElements","shouldPreventDefault","allowTouchMove","touchStartPreventDefault","touchStartForcePreventDefault","freeMode","onTouchMove","targetTouch","changedTouches","preventedByNestedSwiper","touchReleaseOnEdges","diffX","diffY","sqrt","touchAngle","atan2","touchMoveStopPropagation","nested","startTranslate","getTranslate","allowMomentumBounce","grabCursor","setGrabCursor","diff","touchRatio","currentTranslate","disableParentSwiper","resistanceRatio","resistance","followFinger","onTouchEnd","touchEndTime","timeDiff","pathTree","composedPath","lastClickTime","stopIndex","groupSize","rewindFirstIndex","rewindLastIndex","ratio","longSwipesMs","longSwipes","longSwipesRatio","shortSwipes","navigation","nextEl","prevEl","onResize","setBreakpoint","autoplay","running","paused","run","onClick","preventClicks","preventClicksPropagation","stopImmediatePropagation","onScroll","newProgress","previousTranslate","dummyEventAttached","dummyEventListener","touchEvents","device","domMethod","swiperMethod","passiveListeners","passive","move","cancel","updateOnWindowResize","ios","android","attachEvents","detachEvents","isGridEnabled","addClasses","suffixes","entries","prefix","resultClasses","prepareClasses","fill","emitContainerClasses","removeClasses","resizeObserver","createElements","url","virtualTranslate","breakpointsBase","simulateTouch","uniqueNavElements","preloadImages","updateOnImagesReady","loopAdditionalSlides","loopedSlidesLimit","loopFillGroupWithBlank","slideBlankClass","wrapperClass","_emitClasses","moduleExtendParams","allModulesParams","moduleParamName","moduleParams","auto","prototypes","eventsEmitter","update","axis","matrix","curTransform","transformMatrix","curStyle","WebKitCSSMatrix","MozTransform","OTransform","MsTransform","msTransform","m41","m42","byController","x","y","translateTo","translateBounds","newTranslate","onTranslateToWrapperTransitionEnd","loopCreate","$selector","blankSlidesNum","blankNode","prependSlides","appendSlides","cloneNode","loopDestroy","moving","isLocked","cursor","unsetGrabCursor","breakpoint","getBreakpoint","currentBreakpoint","breakpointParams","originalParams","wasMultiRow","isMultiRow","wasEnabled","wasModuleEnabled","isModuleEnabled","disable","enable","directionChanged","needsReLoop","changeDirection","isEnabled","containerEl","currentHeight","innerHeight","points","point","minRatio","wasLocked","lastSlideIndex","lastSlideRightEdge","images","loadImage","imageEl","srcset","sizes","checkForComplete","image","onReady","onload","onerror","imagesLoaded","imagesToLoad","currentSrc","extendedDefaults","Swiper","swipers","newParams","overrides","_temp","platform","screenWidth","screenHeight","ipad","ipod","windows","macos","os","calcDevice","isSafari","isWebView","calcBrowser","modules","__modules__","mod","extendParams","swiperParams","passedParams","velocity","desktop","touchEventsTouch","touchEventsDesktop","clickTimeout","velocities","setProgress","getSlideClasses","slideEl","updates","view","exact","spv","breakLoop","translateValue","translated","newDirection","needUpdate","currentDirection","changeLanguageDirection","mount","mounted","getWrapperSelector","getWrapper","wrapper","deleteInstance","cleanStyles","deleteProps","newDefaults","installModule","prototypeGroup","protoMethod","use","observer","animationFrame","resizeHandler","orientationChangeHandler","ResizeObserver","newWidth","_ref2","contentBoxSize","contentRect","inlineSize","blockSize","observe","unobserve","observers","attach","MutationObserver","WebkitMutationObserver","mutations","observerUpdate","attributes","childList","characterData","observeParents","observeSlideChildren","containerParents","disconnect","checkProps","getEl","toggleEl","disabledClass","lockClass","$nextEl","$prevEl","onPrevClick","onNextClick","hideOnClick","hiddenClass","navigationDisabledClass","_s","targetEl","pagination","clickable","isHidden","pfx","bulletSize","bulletElement","renderBullet","renderProgressbar","renderFraction","renderCustom","progressbarOpposite","dynamicBullets","dynamicMainBullets","formatFractionCurrent","number","formatFractionTotal","bulletClass","bulletActiveClass","modifierClass","currentClass","totalClass","progressbarFillClass","progressbarOppositeClass","clickableClass","horizontalClass","verticalClass","paginationDisabledClass","bullets","dynamicBulletIndex","isPaginationDisabled","setSideBullets","$bulletEl","total","paginationType","firstIndex","midIndex","suffix","bullet","$bullet","bulletIndex","$firstDisplayedBullet","$lastDisplayedBullet","dynamicBulletsLength","bulletsOffset","offsetProp","progressbarDirection","scale","scaleX","scaleY","render","paginationHTML","numberOfBullets","$activeSlideEl","autoplayResult","reverseDirection","stopOnLastSlide","stop","pause","waitForTransition","onTransitionEnd","onVisibilityChange","visibilityState","onMouseEnter","disableOnInteraction","onMouseLeave","pauseOnMouseEnter","Slider"],"sourceRoot":""}